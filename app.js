System.register("app/pixel-ratio.ts",[],function(a){function b(a,b){return void 0===b&&(b=1),a*c*b}var c;return a("r",b),{setters:[],execute:function(){c=window.devicePixelRatio||1}}}),System.registerDynamic("npm:tween.js@16.3.1/src/Tween",[],!0,function(a,b,c){var d=this,e=d.define;d.define=void 0,function(){if("performance"in window==!1&&(window.performance={}),Date.now=Date.now||function(){return(new Date).getTime()},"now"in window.performance==!1){var a=window.performance.timing&&window.performance.timing.navigationStart?window.performance.timing.navigationStart:Date.now();window.performance.now=function(){return Date.now()-a}}}();var f=f||function(){var a=[];return{getAll:function(){return a},removeAll:function(){a=[]},add:function(b){a.push(b)},remove:function(b){var c=a.indexOf(b);-1!==c&&a.splice(c,1)},update:function(b){if(0===a.length)return!1;var c=0;for(b=void 0!==b?b:window.performance.now();c<a.length;)a[c].update(b)?c++:a.splice(c,1);return!0}}}();return f.Tween=function(a){var b=a,c={},d={},e={},g=1e3,h=0,i=!1,j=!1,k=!1,l=0,m=null,n=f.Easing.Linear.None,o=f.Interpolation.Linear,p=[],q=null,r=!1,s=null,t=null,u=null;for(var v in a)c[v]=parseFloat(a[v],10);this.to=function(a,b){return void 0!==b&&(g=b),d=a,this},this.start=function(a){f.add(this),j=!0,r=!1,m=void 0!==a?a:window.performance.now(),m+=l;for(var g in d){if(d[g]instanceof Array){if(0===d[g].length)continue;d[g]=[b[g]].concat(d[g])}c[g]=b[g],c[g]instanceof Array==!1&&(c[g]*=1),e[g]=c[g]||0}return this},this.stop=function(){return j?(f.remove(this),j=!1,null!==u&&u.call(b),this.stopChainedTweens(),this):this},this.stopChainedTweens=function(){for(var a=0,b=p.length;b>a;a++)p[a].stop()},this.delay=function(a){return l=a,this},this.repeat=function(a){return h=a,this},this.yoyo=function(a){return i=a,this},this.easing=function(a){return n=a,this},this.interpolation=function(a){return o=a,this},this.chain=function(){return p=arguments,this},this.onStart=function(a){return q=a,this},this.onUpdate=function(a){return s=a,this},this.onComplete=function(a){return t=a,this},this.onStop=function(a){return u=a,this},this.update=function(a){var f,j,u;if(m>a)return!0;r===!1&&(null!==q&&q.call(b),r=!0),j=(a-m)/g,j=j>1?1:j,u=n(j);for(f in d){var v=c[f]||0,w=d[f];w instanceof Array?b[f]=o(w,u):("string"==typeof w&&(w=v+parseFloat(w,10)),"number"==typeof w&&(b[f]=v+(w-v)*u))}if(null!==s&&s.call(b,u),1===j){if(h>0){isFinite(h)&&h--;for(f in e){if("string"==typeof d[f]&&(e[f]=e[f]+parseFloat(d[f],10)),i){var x=e[f];e[f]=d[f],d[f]=x}c[f]=e[f]}return i&&(k=!k),m=a+l,!0}null!==t&&t.call(b);for(var y=0,z=p.length;z>y;y++)p[y].start(m+g);return!1}return!0}},f.Easing={Linear:{None:function(a){return a}},Quadratic:{In:function(a){return a*a},Out:function(a){return a*(2-a)},InOut:function(a){return(a*=2)<1?.5*a*a:-.5*(--a*(a-2)-1)}},Cubic:{In:function(a){return a*a*a},Out:function(a){return--a*a*a+1},InOut:function(a){return(a*=2)<1?.5*a*a*a:.5*((a-=2)*a*a+2)}},Quartic:{In:function(a){return a*a*a*a},Out:function(a){return 1- --a*a*a*a},InOut:function(a){return(a*=2)<1?.5*a*a*a*a:-.5*((a-=2)*a*a*a-2)}},Quintic:{In:function(a){return a*a*a*a*a},Out:function(a){return--a*a*a*a*a+1},InOut:function(a){return(a*=2)<1?.5*a*a*a*a*a:.5*((a-=2)*a*a*a*a+2)}},Sinusoidal:{In:function(a){return 1-Math.cos(a*Math.PI/2)},Out:function(a){return Math.sin(a*Math.PI/2)},InOut:function(a){return.5*(1-Math.cos(Math.PI*a))}},Exponential:{In:function(a){return 0===a?0:Math.pow(1024,a-1)},Out:function(a){return 1===a?1:1-Math.pow(2,-10*a)},InOut:function(a){return 0===a?0:1===a?1:(a*=2)<1?.5*Math.pow(1024,a-1):.5*(-Math.pow(2,-10*(a-1))+2)}},Circular:{In:function(a){return 1-Math.sqrt(1-a*a)},Out:function(a){return Math.sqrt(1- --a*a)},InOut:function(a){return(a*=2)<1?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)}},Elastic:{In:function(a){var b,c=.1,d=.4;return 0===a?0:1===a?1:(!c||1>c?(c=1,b=d/4):b=d*Math.asin(1/c)/(2*Math.PI),-(c*Math.pow(2,10*(a-=1))*Math.sin((a-b)*(2*Math.PI)/d)))},Out:function(a){var b,c=.1,d=.4;return 0===a?0:1===a?1:(!c||1>c?(c=1,b=d/4):b=d*Math.asin(1/c)/(2*Math.PI),c*Math.pow(2,-10*a)*Math.sin((a-b)*(2*Math.PI)/d)+1)},InOut:function(a){var b,c=.1,d=.4;return 0===a?0:1===a?1:(!c||1>c?(c=1,b=d/4):b=d*Math.asin(1/c)/(2*Math.PI),(a*=2)<1?-.5*(c*Math.pow(2,10*(a-=1))*Math.sin((a-b)*(2*Math.PI)/d)):c*Math.pow(2,-10*(a-=1))*Math.sin((a-b)*(2*Math.PI)/d)*.5+1)}},Back:{In:function(a){var b=1.70158;return a*a*((b+1)*a-b)},Out:function(a){var b=1.70158;return--a*a*((b+1)*a+b)+1},InOut:function(a){var b=2.5949095;return(a*=2)<1?.5*(a*a*((b+1)*a-b)):.5*((a-=2)*a*((b+1)*a+b)+2)}},Bounce:{In:function(a){return 1-f.Easing.Bounce.Out(1-a)},Out:function(a){return 1/2.75>a?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375},InOut:function(a){return.5>a?.5*f.Easing.Bounce.In(2*a):.5*f.Easing.Bounce.Out(2*a-1)+.5}}},f.Interpolation={Linear:function(a,b){var c=a.length-1,d=c*b,e=Math.floor(d),g=f.Interpolation.Utils.Linear;return 0>b?g(a[0],a[1],d):b>1?g(a[c],a[c-1],c-d):g(a[e],a[e+1>c?c:e+1],d-e)},Bezier:function(a,b){for(var c=0,d=a.length-1,e=Math.pow,g=f.Interpolation.Utils.Bernstein,h=0;d>=h;h++)c+=e(1-b,d-h)*e(b,h)*a[h]*g(d,h);return c},CatmullRom:function(a,b){var c=a.length-1,d=c*b,e=Math.floor(d),g=f.Interpolation.Utils.CatmullRom;return a[0]===a[c]?(0>b&&(e=Math.floor(d=c*(1+b))),g(a[(e-1+c)%c],a[e],a[(e+1)%c],a[(e+2)%c],d-e)):0>b?a[0]-(g(a[0],a[0],a[1],a[1],-d)-a[0]):b>1?a[c]-(g(a[c],a[c],a[c-1],a[c-1],d-c)-a[c]):g(a[e?e-1:0],a[e],a[e+1>c?c:e+1],a[e+2>c?c:e+2],d-e)},Utils:{Linear:function(a,b,c){return(b-a)*c+a},Bernstein:function(a,b){var c=f.Interpolation.Utils.Factorial;return c(a)/c(b)/c(a-b)},Factorial:function(){var a=[1];return function(b){var c=1;if(a[b])return a[b];for(var d=b;d>1;d--)c*=d;return a[b]=c,c}}(),CatmullRom:function(a,b,c,d,e){var f=.5*(c-a),g=.5*(d-b),h=e*e,i=e*h;return(2*b-2*c+f+g)*i+(-3*b+3*c-2*f-g)*h+f*e+b}}},function(a){"function"==typeof define&&define.amd?define([],function(){return f}):"object"==typeof b?c.exports=f:a.TWEEN=f}(this),d.define=e,c.exports}),System.registerDynamic("npm:tween.js@16.3.1",["npm:tween.js@16.3.1/src/Tween"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,c.exports=a("npm:tween.js@16.3.1/src/Tween"),d.define=e,c.exports}),System.register("app/ease.ts",["npm:pixi.js@3.0.8","npm:tween.js@16.3.1","app/pixel-ratio.ts"],function(a){var b,c,d,e,f=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};return{setters:[function(a){b=a},function(a){c=a},function(a){d=a}],execute:function(){e=function(a){function e(b,e,f,g){a.call(this),this.w=b,this.easing=f,this.func=g,this.H=60,this.h=e-d.r(20),this.ease=c.Easing[this.easing][this.func],this.addChild(this.drawLabel(f+"."+g)),this.addChild(this.drawBackground()),this.addChild(this.dot=this.drawDot())}return f(e,a),e.prototype.drawDot=function(){var a=new b.Graphics;return a.beginFill(0,1),a.drawCircle(0,0,d.r(2)),a.endFill(),a},e.prototype.drawLabel=function(a){var c=new b.Text(a,{font:d.r(12)+"px _sans",fill:8947848});return c.x=0,c.y=this.h+d.r(3),c},e.prototype.drawBackground=function(){var a=new b.Graphics;a.beginFill(12303291),a.drawRect(0,0,this.w,this.h),a.endFill(),a.beginFill(5592405);for(var c=-1,e=this.H,f=this.w/e;++c<e;){var g=f*c,h=this.ease(c/e)*this.h;a.drawCircle(g,this.h-h,d.r(.7))}return a.endFill(),a},e.prototype.update=function(a){var b=a*this.w,c=this.ease(a)*this.h;this.dot.x=b,this.dot.y=this.h-c},e}(b.Container),a("Ease",e)}}}),System.registerDynamic("npm:pixi.js@3.0.8/src/deprecation",["npm:pixi.js@3.0.8/src/core/index","npm:pixi.js@3.0.8/src/mesh/index","npm:pixi.js@3.0.8/src/extras/index","npm:pixi.js@3.0.8/src/filters/index"],!0,function(a,b,c){var d=this,e=d.define;d.define=void 0;var f=a("npm:pixi.js@3.0.8/src/core/index"),g=a("npm:pixi.js@3.0.8/src/mesh/index"),h=a("npm:pixi.js@3.0.8/src/extras/index"),i=a("npm:pixi.js@3.0.8/src/filters/index");return f.SpriteBatch=function(){throw new ReferenceError("SpriteBatch does not exist any more, please use the new ParticleContainer instead.")},f.AssetLoader=function(){throw new ReferenceError("The loader system was overhauled in pixi v3, please see the new PIXI.loaders.Loader class.")},Object.defineProperties(f,{Stage:{get:function(){return console.warn("You do not need to use a PIXI Stage any more, you can simply render any container."),f.Container}},DisplayObjectContainer:{get:function(){return console.warn("DisplayObjectContainer has been shortened to Container, please use Container from now on."),f.Container}},Strip:{get:function(){return console.warn("The Strip class has been renamed to Mesh and moved to mesh.Mesh, please use mesh.Mesh from now on."),g.Mesh}},Rope:{get:function(){return console.warn("The Rope class has been moved to mesh.Rope, please use mesh.Rope from now on."),g.Rope}},MovieClip:{get:function(){return console.warn("The MovieClip class has been moved to extras.MovieClip, please use extras.MovieClip from now on."),h.MovieClip}},TilingSprite:{get:function(){return console.warn("The TilingSprite class has been moved to extras.TilingSprite, please use extras.TilingSprite from now on."),h.TilingSprite}},BitmapText:{get:function(){return console.warn("The BitmapText class has been moved to extras.BitmapText, please use extras.BitmapText from now on."),h.BitmapText}},blendModes:{get:function(){return console.warn("The blendModes has been moved to BLEND_MODES, please use BLEND_MODES from now on."),f.BLEND_MODES}},scaleModes:{get:function(){return console.warn("The scaleModes has been moved to SCALE_MODES, please use SCALE_MODES from now on."),f.SCALE_MODES}},BaseTextureCache:{get:function(){return console.warn("The BaseTextureCache class has been moved to utils.BaseTextureCache, please use utils.BaseTextureCache from now on."),f.utils.BaseTextureCache}},TextureCache:{get:function(){return console.warn("The TextureCache class has been moved to utils.TextureCache, please use utils.TextureCache from now on."),f.utils.TextureCache}},math:{get:function(){return console.warn("The math namespace is deprecated, please access members already accessible on PIXI."),f}}}),f.Sprite.prototype.setTexture=function(a){this.texture=a,console.warn("setTexture is now deprecated, please use the texture property, e.g : sprite.texture = texture;")},h.BitmapText.prototype.setText=function(a){this.text=a,console.warn("setText is now deprecated, please use the text property, e.g : myBitmapText.text = 'my text';")},f.Text.prototype.setText=function(a){this.text=a,console.warn("setText is now deprecated, please use the text property, e.g : myText.text = 'my text';")},f.Text.prototype.setStyle=function(a){this.style=a,console.warn("setStyle is now deprecated, please use the style property, e.g : myText.style = style;")},f.Texture.prototype.setFrame=function(a){this.frame=a,console.warn("setFrame is now deprecated, please use the frame property, e.g : myTexture.frame = frame;")},Object.defineProperties(i,{AbstractFilter:{get:function(){return console.warn("filters.AbstractFilter is an undocumented alias, please use AbstractFilter from now on."),f.AbstractFilter}},FXAAFilter:{get:function(){return console.warn("filters.FXAAFilter is an undocumented alias, please use FXAAFilter from now on."),f.FXAAFilter}},SpriteMaskFilter:{get:function(){return console.warn("filters.SpriteMaskFilter is an undocumented alias, please use SpriteMaskFilter from now on."),f.SpriteMaskFilter}}}),f.utils.uuid=function(){return console.warn("utils.uuid() is deprecated, please use utils.uid() from now on."),f.utils.uid()},d.define=e,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/mesh/webgl/MeshShader",["npm:pixi.js@3.0.8/src/core/index"],!0,function(a,b,c){function d(a){g.Shader.call(this,a,["precision lowp float;","attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","varying vec2 vTextureCoord;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","}"].join("\n"),["precision lowp float;","varying vec2 vTextureCoord;","uniform float alpha;","uniform sampler2D uSampler;","void main(void){","   gl_FragColor = texture2D(uSampler, vTextureCoord) * alpha ;","}"].join("\n"),{alpha:{type:"1f",value:0},translationMatrix:{type:"mat3",value:new Float32Array(9)},projectionMatrix:{type:"mat3",value:new Float32Array(9)}},{aVertexPosition:0,aTextureCoord:0})}var e=this,f=e.define;e.define=void 0;var g=a("npm:pixi.js@3.0.8/src/core/index");return d.prototype=Object.create(g.Shader.prototype),d.prototype.constructor=d,c.exports=d,g.ShaderManager.registerPlugin("meshShader",d),e.define=f,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/mesh/webgl/MeshRenderer",["npm:pixi.js@3.0.8/src/core/index","npm:pixi.js@3.0.8/src/mesh/Mesh"],!0,function(a,b,c){function d(a){g.ObjectRenderer.call(this,a),this.indices=new Uint16Array(15e3);for(var b=0,c=0;15e3>b;b+=6,c+=4)this.indices[b+0]=c+0,this.indices[b+1]=c+1,this.indices[b+2]=c+2,this.indices[b+3]=c+0,this.indices[b+4]=c+2,this.indices[b+5]=c+3}var e=this,f=e.define;e.define=void 0;var g=a("npm:pixi.js@3.0.8/src/core/index"),h=a("npm:pixi.js@3.0.8/src/mesh/Mesh");return d.prototype=Object.create(g.ObjectRenderer.prototype),d.prototype.constructor=d,c.exports=d,g.WebGLRenderer.registerPlugin("mesh",d),d.prototype.onContextChange=function(){},d.prototype.render=function(a){a._vertexBuffer||this._initWebGL(a);var b=this.renderer,c=b.gl,d=a._texture.baseTexture,e=b.shaderManager.plugins.meshShader,f=a.drawMode===h.DRAW_MODES.TRIANGLE_MESH?c.TRIANGLE_STRIP:c.TRIANGLES;b.blendModeManager.setBlendMode(a.blendMode),c.uniformMatrix3fv(e.uniforms.translationMatrix._location,!1,a.worldTransform.toArray(!0)),c.uniformMatrix3fv(e.uniforms.projectionMatrix._location,!1,b.currentRenderTarget.projectionMatrix.toArray(!0)),c.uniform1f(e.uniforms.alpha._location,a.worldAlpha),a.dirty?(a.dirty=!1,c.bindBuffer(c.ARRAY_BUFFER,a._vertexBuffer),c.bufferData(c.ARRAY_BUFFER,a.vertices,c.STATIC_DRAW),c.vertexAttribPointer(e.attributes.aVertexPosition,2,c.FLOAT,!1,0,0),c.bindBuffer(c.ARRAY_BUFFER,a._uvBuffer),c.bufferData(c.ARRAY_BUFFER,a.uvs,c.STATIC_DRAW),c.vertexAttribPointer(e.attributes.aTextureCoord,2,c.FLOAT,!1,0,0),c.activeTexture(c.TEXTURE0),d._glTextures[c.id]?c.bindTexture(c.TEXTURE_2D,d._glTextures[c.id]):this.renderer.updateTexture(d),c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,a._indexBuffer),c.bufferData(c.ELEMENT_ARRAY_BUFFER,a.indices,c.STATIC_DRAW)):(c.bindBuffer(c.ARRAY_BUFFER,a._vertexBuffer),c.bufferSubData(c.ARRAY_BUFFER,0,a.vertices),c.vertexAttribPointer(e.attributes.aVertexPosition,2,c.FLOAT,!1,0,0),c.bindBuffer(c.ARRAY_BUFFER,a._uvBuffer),c.vertexAttribPointer(e.attributes.aTextureCoord,2,c.FLOAT,!1,0,0),c.activeTexture(c.TEXTURE0),d._glTextures[c.id]?c.bindTexture(c.TEXTURE_2D,d._glTextures[c.id]):this.renderer.updateTexture(d),c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,a._indexBuffer),c.bufferSubData(c.ELEMENT_ARRAY_BUFFER,0,a.indices)),c.drawElements(f,a.indices.length,c.UNSIGNED_SHORT,0)},d.prototype._initWebGL=function(a){var b=this.renderer.gl;a._vertexBuffer=b.createBuffer(),a._indexBuffer=b.createBuffer(),a._uvBuffer=b.createBuffer(),b.bindBuffer(b.ARRAY_BUFFER,a._vertexBuffer),b.bufferData(b.ARRAY_BUFFER,a.vertices,b.DYNAMIC_DRAW),b.bindBuffer(b.ARRAY_BUFFER,a._uvBuffer),b.bufferData(b.ARRAY_BUFFER,a.uvs,b.STATIC_DRAW),a.colors&&(a._colorBuffer=b.createBuffer(),b.bindBuffer(b.ARRAY_BUFFER,a._colorBuffer),b.bufferData(b.ARRAY_BUFFER,a.colors,b.STATIC_DRAW)),b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,a._indexBuffer),b.bufferData(b.ELEMENT_ARRAY_BUFFER,a.indices,b.STATIC_DRAW)},d.prototype.flush=function(){},d.prototype.start=function(){var a=this.renderer.shaderManager.plugins.meshShader;this.renderer.shaderManager.setShader(a)},d.prototype.destroy=function(){g.ObjectRenderer.prototype.destroy.call(this)},e.define=f,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/mesh/Rope",["npm:pixi.js@3.0.8/src/mesh/Mesh","npm:pixi.js@3.0.8/src/core/index"],!0,function(a,b,c){function d(a,b){g.call(this,a),this.points=b,this.vertices=new Float32Array(4*b.length),this.uvs=new Float32Array(4*b.length),this.colors=new Float32Array(2*b.length),this.indices=new Uint16Array(2*b.length),this._ready=!0,this.refresh()}var e=this,f=e.define;e.define=void 0;var g=a("npm:pixi.js@3.0.8/src/mesh/Mesh"),h=a("npm:pixi.js@3.0.8/src/core/index");return d.prototype=Object.create(g.prototype),d.prototype.constructor=d,c.exports=d,d.prototype.refresh=function(){var a=this.points;if(!(a.length<1)&&this._texture._uvs){var b=this.uvs,c=this.indices,d=this.colors,e=this._texture._uvs,f=new h.Point(e.x0,e.y0),g=new h.Point(e.x2-e.x0,e.y2-e.y0);b[0]=0+f.x,b[1]=0+f.y,b[2]=0+f.x,b[3]=1*g.y+f.y,d[0]=1,d[1]=1,c[0]=0,c[1]=1;for(var i,j,k,l=a.length,m=1;l>m;m++)i=a[m],j=4*m,k=m/(l-1),b[j]=k*g.x+f.x,b[j+1]=0+f.y,b[j+2]=k*g.x+f.x,b[j+3]=1*g.y+f.y,j=2*m,d[j]=1,d[j+1]=1,j=2*m,c[j]=j,c[j+1]=j+1;this.dirty=!0}},d.prototype._onTextureUpdate=function(){g.prototype._onTextureUpdate.call(this),this._ready&&this.refresh()},d.prototype.updateTransform=function(){var a=this.points;if(!(a.length<1)){for(var b,c,d,e,f,g,h=a[0],i=0,j=0,k=this.vertices,l=a.length,m=0;l>m;m++)c=a[m],d=4*m,b=m<a.length-1?a[m+1]:c,j=-(b.x-h.x),i=b.y-h.y,e=10*(1-m/(l-1)),e>1&&(e=1),f=Math.sqrt(i*i+j*j),g=this._texture.height/2,i/=f,j/=f,i*=g,j*=g,k[d]=c.x+i,k[d+1]=c.y+j,k[d+2]=c.x-i,k[d+3]=c.y-j,h=c;this.containerUpdateTransform()}},e.define=f,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/mesh/Mesh",["npm:pixi.js@3.0.8/src/core/index"],!0,function(a,b,c){function d(a,b,c,e,f){g.Container.call(this),this._texture=null,this.uvs=c||new Float32Array([0,1,1,1,1,0,0,1]),this.vertices=b||new Float32Array([0,0,100,0,100,100,0,100]),this.indices=e||new Uint16Array([0,1,2,3]),this.dirty=!0,this.blendMode=g.BLEND_MODES.NORMAL,this.canvasPadding=0,this.drawMode=f||d.DRAW_MODES.TRIANGLE_MESH,this.texture=a}var e=this,f=e.define;e.define=void 0;var g=a("npm:pixi.js@3.0.8/src/core/index"),h=new g.Point,i=new g.Polygon;return d.prototype=Object.create(g.Container.prototype),d.prototype.constructor=d,c.exports=d,Object.defineProperties(d.prototype,{texture:{get:function(){return this._texture},set:function(a){this._texture!==a&&(this._texture=a,a&&(a.baseTexture.hasLoaded?this._onTextureUpdate():a.once("update",this._onTextureUpdate,this)))}}}),d.prototype._renderWebGL=function(a){a.setObjectRenderer(a.plugins.mesh),a.plugins.mesh.render(this)},d.prototype._renderCanvas=function(a){var b=a.context,c=this.worldTransform;a.roundPixels?b.setTransform(c.a,c.b,c.c,c.d,0|c.tx,0|c.ty):b.setTransform(c.a,c.b,c.c,c.d,c.tx,c.ty),this.drawMode===d.DRAW_MODES.TRIANGLE_MESH?this._renderCanvasTriangleMesh(b):this._renderCanvasTriangles(b)},d.prototype._renderCanvasTriangleMesh=function(a){for(var b=this.vertices,c=this.uvs,d=b.length/2,e=0;d-2>e;e++){var f=2*e;this._renderCanvasDrawTriangle(a,b,c,f,f+2,f+4)}},d.prototype._renderCanvasTriangles=function(a){for(var b=this.vertices,c=this.uvs,d=this.indices,e=d.length,f=0;e>f;f+=3){var g=2*d[f],h=2*d[f+1],i=2*d[f+2];this._renderCanvasDrawTriangle(a,b,c,g,h,i)}},d.prototype._renderCanvasDrawTriangle=function(a,b,c,d,e,f){var g=this._texture.baseTexture.source,h=this._texture.baseTexture.width,i=this._texture.baseTexture.height,j=b[d],k=b[e],l=b[f],m=b[d+1],n=b[e+1],o=b[f+1],p=c[d]*h,q=c[e]*h,r=c[f]*h,s=c[d+1]*i,t=c[e+1]*i,u=c[f+1]*i;if(this.canvasPadding>0){var v=this.canvasPadding/this.worldTransform.a,w=this.canvasPadding/this.worldTransform.d,x=(j+k+l)/3,y=(m+n+o)/3,z=j-x,A=m-y,B=Math.sqrt(z*z+A*A);j=x+z/B*(B+v),m=y+A/B*(B+w),z=k-x,A=n-y,B=Math.sqrt(z*z+A*A),k=x+z/B*(B+v),n=y+A/B*(B+w),z=l-x,A=o-y,B=Math.sqrt(z*z+A*A),l=x+z/B*(B+v),o=y+A/B*(B+w)}a.save(),a.beginPath(),a.moveTo(j,m),a.lineTo(k,n),a.lineTo(l,o),a.closePath(),a.clip();var C=p*t+s*r+q*u-t*r-s*q-p*u,D=j*t+s*l+k*u-t*l-s*k-j*u,E=p*k+j*r+q*l-k*r-j*q-p*l,F=p*t*l+s*k*r+j*q*u-j*t*r-s*q*l-p*k*u,G=m*t+s*o+n*u-t*o-s*n-m*u,H=p*n+m*r+q*o-n*r-m*q-p*o,I=p*t*o+s*n*r+m*q*u-m*t*r-s*q*o-p*n*u;a.transform(D/C,G/C,E/C,H/C,F/C,I/C),a.drawImage(g,0,0),a.restore()},d.prototype.renderMeshFlat=function(a){var b=this.context,c=a.vertices,d=c.length/2;b.beginPath();for(var e=1;d-2>e;e++){var f=2*e,g=c[f],h=c[f+2],i=c[f+4],j=c[f+1],k=c[f+3],l=c[f+5];b.moveTo(g,j),b.lineTo(h,k),b.lineTo(i,l)}b.fillStyle="#FF0000",b.fill(),b.closePath()},d.prototype._onTextureUpdate=function(){this.updateFrame=!0},d.prototype.getBounds=function(a){if(!this._currentBounds){for(var b=a||this.worldTransform,c=b.a,d=b.b,e=b.c,f=b.d,h=b.tx,i=b.ty,j=-(1/0),k=-(1/0),l=1/0,m=1/0,n=this.vertices,o=0,p=n.length;p>o;o+=2){var q=n[o],r=n[o+1],s=c*q+e*r+h,t=f*r+d*q+i;l=l>s?s:l,m=m>t?t:m,j=s>j?s:j,k=t>k?t:k}if(l===-(1/0)||k===1/0)return g.Rectangle.EMPTY;var u=this._bounds;u.x=l,u.width=j-l,u.y=m,u.height=k-m,this._currentBounds=u}return this._currentBounds},d.prototype.containsPoint=function(a){if(!this.getBounds().contains(a.x,a.y))return!1;this.worldTransform.applyInverse(a,h);var b,c,e=this.vertices,f=i.points;if(this.drawMode===d.DRAW_MODES.TRIANGLES){var g=this.indices;for(c=this.indices.length,b=0;c>b;b+=3){var j=2*g[b],k=2*g[b+1],l=2*g[b+2];if(f[0]=e[j],f[1]=e[j+1],f[2]=e[k],f[3]=e[k+1],f[4]=e[l],f[5]=e[l+1],i.contains(h.x,h.y))return!0}}else for(c=e.length,b=0;c>b;b+=6)if(f[0]=e[b],f[1]=e[b+1],f[2]=e[b+2],f[3]=e[b+3],f[4]=e[b+4],f[5]=e[b+5],i.contains(h.x,h.y))return!0;return!1},d.DRAW_MODES={TRIANGLE_MESH:0,TRIANGLES:1},e.define=f,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/mesh/index",["npm:pixi.js@3.0.8/src/mesh/Mesh","npm:pixi.js@3.0.8/src/mesh/Rope","npm:pixi.js@3.0.8/src/mesh/webgl/MeshRenderer","npm:pixi.js@3.0.8/src/mesh/webgl/MeshShader"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,c.exports={Mesh:a("npm:pixi.js@3.0.8/src/mesh/Mesh"),Rope:a("npm:pixi.js@3.0.8/src/mesh/Rope"),MeshRenderer:a("npm:pixi.js@3.0.8/src/mesh/webgl/MeshRenderer"),MeshShader:a("npm:pixi.js@3.0.8/src/mesh/webgl/MeshShader")},d.define=e,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/loaders/bitmapFontParser",["npm:resource-loader@1.6.2","npm:pixi.js@3.0.8/src/core/index","npm:pixi.js@3.0.8/src/extras/index","github:jspm/nodelibs-path@0.1.0"],!0,function(a,b,c){function d(a,b){var c={},d=a.data.getElementsByTagName("info")[0],e=a.data.getElementsByTagName("common")[0];c.font=d.getAttribute("face"),c.size=parseInt(d.getAttribute("size"),10),c.lineHeight=parseInt(e.getAttribute("lineHeight"),10),c.chars={};for(var f=a.data.getElementsByTagName("char"),g=0;g<f.length;g++){var j=parseInt(f[g].getAttribute("id"),10),k=new h.Rectangle(parseInt(f[g].getAttribute("x"),10)+b.frame.x,parseInt(f[g].getAttribute("y"),10)+b.frame.y,parseInt(f[g].getAttribute("width"),10),parseInt(f[g].getAttribute("height"),10));c.chars[j]={xOffset:parseInt(f[g].getAttribute("xoffset"),10),yOffset:parseInt(f[g].getAttribute("yoffset"),10),xAdvance:parseInt(f[g].getAttribute("xadvance"),10),kerning:{},texture:new h.Texture(b.baseTexture,k)}}var l=a.data.getElementsByTagName("kerning");for(g=0;g<l.length;g++){var m=parseInt(l[g].getAttribute("first"),10),n=parseInt(l[g].getAttribute("second"),10),o=parseInt(l[g].getAttribute("amount"),10);c.chars[n].kerning[m]=o}a.bitmapFont=c,i.BitmapText.fonts[c.font]=c}var e=this,f=e.define;e.define=void 0;var g=a("npm:resource-loader@1.6.2").Resource,h=a("npm:pixi.js@3.0.8/src/core/index"),i=a("npm:pixi.js@3.0.8/src/extras/index"),j=a("github:jspm/nodelibs-path@0.1.0");return c.exports=function(){return function(a,b){if(!a.data||!a.isXml)return b();if(0===a.data.getElementsByTagName("page").length||0===a.data.getElementsByTagName("info").length||null===a.data.getElementsByTagName("info")[0].getAttribute("face"))return b();var c=j.dirname(a.url);"."===c&&(c=""),this.baseUrl&&c&&("/"===this.baseUrl.charAt(this.baseUrl.length-1)&&(c+="/"),c=c.replace(this.baseUrl,"")),c&&"/"!==c.charAt(c.length-1)&&(c+="/");var e=c+a.data.getElementsByTagName("page")[0].getAttribute("file");if(h.utils.TextureCache[e])d(a,h.utils.TextureCache[e]),b();else{var f={crossOrigin:a.crossOrigin,loadType:g.LOAD_TYPE.IMAGE};this.add(a.name+"_image",e,f,function(c){d(a,c.texture),b()})}}},e.define=f,c.exports}),System.registerDynamic("npm:path-browserify@0.0.0/index",["github:jspm/nodelibs-process@0.1.2"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,function(a){function c(a,b){for(var c=0,d=a.length-1;d>=0;d--){var e=a[d];"."===e?a.splice(d,1):".."===e?(a.splice(d,1),c++):c&&(a.splice(d,1),c--)}if(b)for(;c--;c)a.unshift("..");return a}function d(a,b){if(a.filter)return a.filter(b);for(var c=[],d=0;d<a.length;d++)b(a[d],d,a)&&c.push(a[d]);return c}var e=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,f=function(a){return e.exec(a).slice(1)};b.resolve=function(){for(var b="",e=!1,f=arguments.length-1;f>=-1&&!e;f--){var g=f>=0?arguments[f]:a.cwd();if("string"!=typeof g)throw new TypeError("Arguments to path.resolve must be strings");g&&(b=g+"/"+b,e="/"===g.charAt(0))}return b=c(d(b.split("/"),function(a){return!!a}),!e).join("/"),(e?"/":"")+b||"."},b.normalize=function(a){var e=b.isAbsolute(a),f="/"===g(a,-1);return a=c(d(a.split("/"),function(a){return!!a}),!e).join("/"),a||e||(a="."),a&&f&&(a+="/"),(e?"/":"")+a},b.isAbsolute=function(a){return"/"===a.charAt(0)},b.join=function(){var a=Array.prototype.slice.call(arguments,0);return b.normalize(d(a,function(a,b){if("string"!=typeof a)throw new TypeError("Arguments to path.join must be strings");return a}).join("/"))},b.relative=function(a,c){function d(a){for(var b=0;b<a.length&&""===a[b];b++);for(var c=a.length-1;c>=0&&""===a[c];c--);return b>c?[]:a.slice(b,c-b+1)}a=b.resolve(a).substr(1),c=b.resolve(c).substr(1);for(var e=d(a.split("/")),f=d(c.split("/")),g=Math.min(e.length,f.length),h=g,i=0;g>i;i++)if(e[i]!==f[i]){h=i;break}for(var j=[],i=h;i<e.length;i++)j.push("..");return j=j.concat(f.slice(h)),j.join("/")},b.sep="/",b.delimiter=":",b.dirname=function(a){var b=f(a),c=b[0],d=b[1];return c||d?(d&&(d=d.substr(0,d.length-1)),c+d):"."},b.basename=function(a,b){var c=f(a)[2];return b&&c.substr(-1*b.length)===b&&(c=c.substr(0,c.length-b.length)),c},b.extname=function(a){return f(a)[3]};var g="b"==="ab".substr(-1)?function(a,b,c){return a.substr(b,c)}:function(a,b,c){return 0>b&&(b=a.length+b),a.substr(b,c)}}(a("github:jspm/nodelibs-process@0.1.2")),d.define=e,c.exports}),System.registerDynamic("npm:path-browserify@0.0.0",["npm:path-browserify@0.0.0/index"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,c.exports=a("npm:path-browserify@0.0.0/index"),d.define=e,c.exports}),System.registerDynamic("github:jspm/nodelibs-path@0.1.0/index",["npm:path-browserify@0.0.0"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,c.exports=System._nodeRequire?System._nodeRequire("path"):a("npm:path-browserify@0.0.0"),d.define=e,c.exports}),System.registerDynamic("github:jspm/nodelibs-path@0.1.0",["github:jspm/nodelibs-path@0.1.0/index"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,c.exports=a("github:jspm/nodelibs-path@0.1.0/index"),d.define=e,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/loaders/spritesheetParser",["npm:resource-loader@1.6.2","github:jspm/nodelibs-path@0.1.0","npm:pixi.js@3.0.8/src/core/index"],!0,function(a,b,c){var d=this,e=d.define;d.define=void 0;var f=a("npm:resource-loader@1.6.2").Resource,g=a("github:jspm/nodelibs-path@0.1.0"),h=a("npm:pixi.js@3.0.8/src/core/index");return c.exports=function(){return function(a,b){if(!a.data||!a.isJson||!a.data.frames)return b();var c={crossOrigin:a.crossOrigin,loadType:f.LOAD_TYPE.IMAGE},d=g.dirname(a.url.replace(this.baseUrl,"")),e=h.utils.getResolutionOfUrl(a.url);this.add(a.name+"_image",d+"/"+a.data.meta.image,c,function(c){a.textures={};var d=a.data.frames;for(var f in d){var g=d[f].frame;if(g){var i=null,j=null;if(i=d[f].rotated?new h.Rectangle(g.x,g.y,g.h,g.w):new h.Rectangle(g.x,g.y,g.w,g.h),d[f].trimmed&&(j=new h.Rectangle(d[f].spriteSourceSize.x/e,d[f].spriteSourceSize.y/e,d[f].sourceSize.w/e,d[f].sourceSize.h/e)),d[f].rotated){var k=i.width;i.width=i.height,i.height=k}i.x/=e,i.y/=e,i.width/=e,i.height/=e,a.textures[f]=new h.Texture(c.texture.baseTexture,i,i.clone(),j,d[f].rotated),h.utils.TextureCache[f]=a.textures[f]}}b()})}},d.define=e,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/loaders/textureParser",["npm:pixi.js@3.0.8/src/core/index"],!0,function(a,b,c){var d=this,e=d.define;d.define=void 0;var f=a("npm:pixi.js@3.0.8/src/core/index");return c.exports=function(){return function(a,b){if(a.data&&a.isImage){var c=new f.BaseTexture(a.data,null,f.utils.getResolutionOfUrl(a.url));c.imageUrl=a.url,a.texture=new f.Texture(c),f.utils.BaseTextureCache[a.url]=c,f.utils.TextureCache[a.url]=a.texture}b()}},d.define=e,c.exports}),System.registerDynamic("npm:resource-loader@1.6.2/src/b64",[],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,c.exports={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encodeBinary:function(a){for(var b,c="",d=new Array(4),e=0,f=0,g=0;e<a.length;){for(b=new Array(3),f=0;f<b.length;f++)e<a.length?b[f]=255&a.charCodeAt(e++):b[f]=0;switch(d[0]=b[0]>>2,d[1]=(3&b[0])<<4|b[1]>>4,d[2]=(15&b[1])<<2|b[2]>>6,d[3]=63&b[2],g=e-(a.length-1)){case 2:d[3]=64,d[2]=64;break;case 1:d[3]=64}for(f=0;f<d.length;f++)c+=this._keyStr.charAt(d[f])}return c}},d.define=e,c.exports}),System.registerDynamic("npm:resource-loader@1.6.2/src/middlewares/parsing/blob",["npm:resource-loader@1.6.2/src/Resource","npm:resource-loader@1.6.2/src/b64"],!0,function(a,b,c){var d=this,e=d.define;d.define=void 0;var f=a("npm:resource-loader@1.6.2/src/Resource"),g=a("npm:resource-loader@1.6.2/src/b64");return window.URL=window.URL||window.webkitURL,c.exports=function(){return function(a,b){if(!a.data)return b();if(a.xhr&&a.xhrType===f.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof a.data){if(0===a.data.type.indexOf("image")){var c=URL.createObjectURL(a.data);a.blob=a.data,a.data=new Image,a.data.src=c,a.isImage=!0,a.data.onload=function(){URL.revokeObjectURL(c),a.data.onload=null,b()}}}else{var d=a.xhr.getResponseHeader("content-type");d&&0===d.indexOf("image")&&(a.data=new Image,a.data.src="data:"+d+";base64,"+g.encodeBinary(a.xhr.responseText),a.isImage=!0,a.data.onload=function(){a.data.onload=null,b()})}else b()}},d.define=e,c.exports}),System.registerDynamic("npm:resource-loader@1.6.2/src/middlewares/caching/memory",[],!0,function(a,b,c){var d=this,e=d.define;d.define=void 0;var f={};return c.exports=function(){return function(a,b){f[a.url]?(a.data=f[a.url],a.complete()):(a.once("complete",function(){f[this.url]=this.data}),b())}},d.define=e,c.exports}),System.registerDynamic("npm:resource-loader@1.6.2/src/Resource",["npm:eventemitter3@1.1.1","github:jspm/nodelibs-url@0.1.0"],!0,function(a,b,c){function d(a,b,c){if(i.call(this),c=c||{},"string"!=typeof a||"string"!=typeof b)throw new Error("Both name and url are required for constructing a resource.");this.name=a,this.url=b,this.isDataUrl=0===this.url.indexOf("data:"),this.data=null,this.crossOrigin=c.crossOrigin===!0?"anonymous":null,this.loadType=c.loadType||this._determineLoadType(),this.xhrType=c.xhrType,this.error=null,this.xhr=null,this.isJson=!1,this.isXml=!1,this.isImage=!1,this.isAudio=!1,this.isVideo=!1,this._dequeue=null,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this._boundXdrOnTimeout=this._xdrOnTimeout.bind(this)}function e(a){return a.toString().replace("object ","")}function f(a,b,c){
b&&0===b.indexOf(".")&&(b=b.substring(1)),b&&(a[b]=c)}var g=this,h=g.define;g.define=void 0;var i=a("npm:eventemitter3@1.1.1"),j=a("github:jspm/nodelibs-url@0.1.0"),k=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),l=null;return d.prototype=Object.create(i.prototype),d.prototype.constructor=d,c.exports=d,d.prototype.complete=function(){this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError),this.data.removeEventListener("load",this._boundComplete),this.data.removeEventListener("progress",this._boundOnProgress),this.data.removeEventListener("canplaythrough",this._boundComplete)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError),this.xhr.removeEventListener("abort",this._boundXhrOnAbort),this.xhr.removeEventListener("progress",this._boundOnProgress),this.xhr.removeEventListener("load",this._boundXhrOnLoad)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null)),this.emit("complete",this)},d.prototype.load=function(a){switch(this.emit("start",this),a&&this.once("complete",a),"string"!=typeof this.crossOrigin&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case d.LOAD_TYPE.IMAGE:this._loadImage();break;case d.LOAD_TYPE.AUDIO:this._loadElement("audio");break;case d.LOAD_TYPE.VIDEO:this._loadElement("video");break;case d.LOAD_TYPE.XHR:default:k&&this.crossOrigin?this._loadXdr():this._loadXhr()}},d.prototype._loadImage=function(){this.data=new Image,this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.data.src=this.url,this.isImage=!0,this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1)},d.prototype._loadElement=function(a){if("audio"===a&&"undefined"!=typeof Audio?this.data=new Audio:this.data=document.createElement(a),null===this.data)return this.error=new Error("Unsupported element "+a),void this.complete();if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var b=0;b<this.url.length;++b)this.data.appendChild(this._createSource(a,this.url[b]));else this.data.appendChild(this._createSource(a,this.url));this["is"+a[0].toUpperCase()+a.substring(1)]=!0,this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load()},d.prototype._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var a=this.xhr=new XMLHttpRequest;a.open("GET",this.url,!0),this.xhrType===d.XHR_RESPONSE_TYPE.JSON||this.xhrType===d.XHR_RESPONSE_TYPE.DOCUMENT?a.responseType=d.XHR_RESPONSE_TYPE.TEXT:a.responseType=this.xhrType,a.addEventListener("error",this._boundXhrOnError,!1),a.addEventListener("abort",this._boundXhrOnAbort,!1),a.addEventListener("progress",this._boundOnProgress,!1),a.addEventListener("load",this._boundXhrOnLoad,!1),a.send()},d.prototype._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var a=this.xhr=new XDomainRequest;a.timeout=5e3,a.onerror=this._boundXhrOnError,a.ontimeout=this._boundXdrOnTimeout,a.onprogress=this._boundOnProgress,a.onload=this._boundXhrOnLoad,a.open("GET",this.url,!0),setTimeout(function(){a.send()},0)},d.prototype._createSource=function(a,b,c){c||(c=a+"/"+b.substr(b.lastIndexOf(".")+1));var d=document.createElement("source");return d.src=b,d.type=c,d},d.prototype._onError=function(a){this.error=new Error("Failed to load element using "+a.target.nodeName),this.complete()},d.prototype._onProgress=function(a){a&&a.lengthComputable&&this.emit("progress",this,a.loaded/a.total)},d.prototype._xhrOnError=function(){this.error=new Error(e(this.xhr)+" Request failed. Status: "+this.xhr.status+', text: "'+this.xhr.statusText+'"'),this.complete()},d.prototype._xhrOnAbort=function(){this.error=new Error(e(this.xhr)+" Request was aborted by the user."),this.complete()},d.prototype._xdrOnTimeout=function(){this.error=new Error(e(this.xhr)+" Request timed out."),this.complete()},d.prototype._xhrOnLoad=function(){var a=this.xhr,b=void 0!==a.status?a.status:200;if(200===b||204===b||0===b&&a.responseText.length>0)if(this.xhrType===d.XHR_RESPONSE_TYPE.TEXT)this.data=a.responseText;else if(this.xhrType===d.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(a.responseText),this.isJson=!0}catch(c){this.error=new Error("Error trying to parse loaded json:",c)}else if(this.xhrType===d.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var e=new DOMParser;this.data=e.parseFromString(a.responseText,"text/xml")}else{var f=document.createElement("div");f.innerHTML=a.responseText,this.data=f}this.isXml=!0}catch(c){this.error=new Error("Error trying to parse loaded xml:",c)}else this.data=a.response||a.responseText;else this.error=new Error("["+a.status+"]"+a.statusText+":"+a.responseURL);this.complete()},d.prototype._determineCrossOrigin=function(a,b){if(0===a.indexOf("data:"))return"";b=b||window.location,l||(l=document.createElement("a")),l.href=a,a=j.parse(l.href);var c=!a.port&&""===b.port||a.port===b.port;return a.hostname===b.hostname&&c&&a.protocol===b.protocol?"":"anonymous"},d.prototype._determineXhrType=function(){return d._xhrTypeMap[this._getExtension()]||d.XHR_RESPONSE_TYPE.TEXT},d.prototype._determineLoadType=function(){return d._loadTypeMap[this._getExtension()]||d.LOAD_TYPE.XHR},d.prototype._getExtension=function(){var a,b=this.url;if(this.isDataUrl){var c=b.indexOf("/");a=b.substring(c+1,b.indexOf(";",c))}else{var d=b.indexOf("?");-1!==d&&(b=b.substring(0,d)),a=b.substring(b.lastIndexOf(".")+1)}return a},d.prototype._getMimeFromXhrType=function(a){switch(a){case d.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case d.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case d.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case d.XHR_RESPONSE_TYPE.JSON:return"application/json";case d.XHR_RESPONSE_TYPE.DEFAULT:case d.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},d.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},d.XHR_READY_STATE={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},d.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},d._loadTypeMap={gif:d.LOAD_TYPE.IMAGE,png:d.LOAD_TYPE.IMAGE,bmp:d.LOAD_TYPE.IMAGE,jpg:d.LOAD_TYPE.IMAGE,jpeg:d.LOAD_TYPE.IMAGE,tif:d.LOAD_TYPE.IMAGE,tiff:d.LOAD_TYPE.IMAGE,webp:d.LOAD_TYPE.IMAGE,tga:d.LOAD_TYPE.IMAGE},d._xhrTypeMap={xhtml:d.XHR_RESPONSE_TYPE.DOCUMENT,html:d.XHR_RESPONSE_TYPE.DOCUMENT,htm:d.XHR_RESPONSE_TYPE.DOCUMENT,xml:d.XHR_RESPONSE_TYPE.DOCUMENT,tmx:d.XHR_RESPONSE_TYPE.DOCUMENT,tsx:d.XHR_RESPONSE_TYPE.DOCUMENT,svg:d.XHR_RESPONSE_TYPE.DOCUMENT,gif:d.XHR_RESPONSE_TYPE.BLOB,png:d.XHR_RESPONSE_TYPE.BLOB,bmp:d.XHR_RESPONSE_TYPE.BLOB,jpg:d.XHR_RESPONSE_TYPE.BLOB,jpeg:d.XHR_RESPONSE_TYPE.BLOB,tif:d.XHR_RESPONSE_TYPE.BLOB,tiff:d.XHR_RESPONSE_TYPE.BLOB,webp:d.XHR_RESPONSE_TYPE.BLOB,tga:d.XHR_RESPONSE_TYPE.BLOB,json:d.XHR_RESPONSE_TYPE.JSON,text:d.XHR_RESPONSE_TYPE.TEXT,txt:d.XHR_RESPONSE_TYPE.TEXT},d.setExtensionLoadType=function(a,b){f(d._loadTypeMap,a,b)},d.setExtensionXhrType=function(a,b){f(d._xhrTypeMap,a,b)},g.define=h,c.exports}),System.registerDynamic("npm:querystring@0.2.0/encode",[],!0,function(a,b,c){var d=this,e=d.define;d.define=void 0;var f=function(a){switch(typeof a){case"string":return a;case"boolean":return a?"true":"false";case"number":return isFinite(a)?a:"";default:return""}};return c.exports=function(a,b,c,d){return b=b||"&",c=c||"=",null===a&&(a=void 0),"object"==typeof a?Object.keys(a).map(function(d){var e=encodeURIComponent(f(d))+c;return Array.isArray(a[d])?a[d].map(function(a){return e+encodeURIComponent(f(a))}).join(b):e+encodeURIComponent(f(a[d]))}).join(b):d?encodeURIComponent(f(d))+c+encodeURIComponent(f(a)):""},d.define=e,c.exports}),System.registerDynamic("npm:querystring@0.2.0/decode",[],!0,function(a,b,c){function d(a,b){return Object.prototype.hasOwnProperty.call(a,b)}var e=this,f=e.define;return e.define=void 0,c.exports=function(a,b,c,e){b=b||"&",c=c||"=";var f={};if("string"!=typeof a||0===a.length)return f;var g=/\+/g;a=a.split(b);var h=1e3;e&&"number"==typeof e.maxKeys&&(h=e.maxKeys);var i=a.length;h>0&&i>h&&(i=h);for(var j=0;i>j;++j){var k,l,m,n,o=a[j].replace(g,"%20"),p=o.indexOf(c);p>=0?(k=o.substr(0,p),l=o.substr(p+1)):(k=o,l=""),m=decodeURIComponent(k),n=decodeURIComponent(l),d(f,m)?Array.isArray(f[m])?f[m].push(n):f[m]=[f[m],n]:f[m]=n}return f},e.define=f,c.exports}),System.registerDynamic("npm:querystring@0.2.0/index",["npm:querystring@0.2.0/decode","npm:querystring@0.2.0/encode"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,b.decode=b.parse=a("npm:querystring@0.2.0/decode"),b.encode=b.stringify=a("npm:querystring@0.2.0/encode"),d.define=e,c.exports}),System.registerDynamic("npm:querystring@0.2.0",["npm:querystring@0.2.0/index"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,c.exports=a("npm:querystring@0.2.0/index"),d.define=e,c.exports}),System.registerDynamic("npm:punycode@1.3.2/punycode",["github:jspm/nodelibs-process@0.1.2"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,function(a){!function(a){function e(a){throw RangeError(H[a])}function f(a,b){for(var c=a.length,d=[];c--;)d[c]=b(a[c]);return d}function g(a,b){var c=a.split("@"),d="";c.length>1&&(d=c[0]+"@",a=c[1]),a=a.replace(G,".");var e=a.split("."),g=f(e,b).join(".");return d+g}function h(a){for(var b,c,d=[],e=0,f=a.length;f>e;)b=a.charCodeAt(e++),b>=55296&&56319>=b&&f>e?(c=a.charCodeAt(e++),56320==(64512&c)?d.push(((1023&b)<<10)+(1023&c)+65536):(d.push(b),e--)):d.push(b);return d}function i(a){return f(a,function(a){var b="";return a>65535&&(a-=65536,b+=K(a>>>10&1023|55296),a=56320|1023&a),b+=K(a)}).join("")}function j(a){return 10>a-48?a-22:26>a-65?a-65:26>a-97?a-97:w}function k(a,b){return a+22+75*(26>a)-((0!=b)<<5)}function l(a,b,c){var d=0;for(a=c?J(a/A):a>>1,a+=J(a/b);a>I*y>>1;d+=w)a=J(a/I);return J(d+(I+1)*a/(a+z))}function m(a){var b,c,d,f,g,h,k,m,n,o,p=[],q=a.length,r=0,s=C,t=B;for(c=a.lastIndexOf(D),0>c&&(c=0),d=0;c>d;++d)a.charCodeAt(d)>=128&&e("not-basic"),p.push(a.charCodeAt(d));for(f=c>0?c+1:0;q>f;){for(g=r,h=1,k=w;f>=q&&e("invalid-input"),m=j(a.charCodeAt(f++)),(m>=w||m>J((v-r)/h))&&e("overflow"),r+=m*h,n=t>=k?x:k>=t+y?y:k-t,!(n>m);k+=w)o=w-n,h>J(v/o)&&e("overflow"),h*=o;b=p.length+1,t=l(r-g,b,0==g),J(r/b)>v-s&&e("overflow"),s+=J(r/b),r%=b,p.splice(r++,0,s)}return i(p)}function n(a){var b,c,d,f,g,i,j,m,n,o,p,q,r,s,t,u=[];for(a=h(a),q=a.length,b=C,c=0,g=B,i=0;q>i;++i)p=a[i],128>p&&u.push(K(p));for(d=f=u.length,f&&u.push(D);q>d;){for(j=v,i=0;q>i;++i)p=a[i],p>=b&&j>p&&(j=p);for(r=d+1,j-b>J((v-c)/r)&&e("overflow"),c+=(j-b)*r,b=j,i=0;q>i;++i)if(p=a[i],b>p&&++c>v&&e("overflow"),p==b){for(m=c,n=w;o=g>=n?x:n>=g+y?y:n-g,!(o>m);n+=w)t=m-o,s=w-o,u.push(K(k(o+t%s,0))),m=J(t/s);u.push(K(k(m,0))),g=l(c,r,d==f),c=0,++d}++c,++b}return u.join("")}function o(a){return g(a,function(a){return E.test(a)?m(a.slice(4).toLowerCase()):a})}function p(a){return g(a,function(a){return F.test(a)?"xn--"+n(a):a})}var q="object"==typeof b&&b&&!b.nodeType&&b,r="object"==typeof c&&c&&!c.nodeType&&c,s="object"==typeof d&&d;(s.global===s||s.window===s||s.self===s)&&(a=s);var t,u,v=2147483647,w=36,x=1,y=26,z=38,A=700,B=72,C=128,D="-",E=/^xn--/,F=/[^\x20-\x7E]/,G=/[\x2E\u3002\uFF0E\uFF61]/g,H={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},I=w-x,J=Math.floor,K=String.fromCharCode;if(t={version:"1.3.2",ucs2:{decode:h,encode:i},decode:m,encode:n,toASCII:p,toUnicode:o},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return t});else if(q&&r)if(c.exports==q)r.exports=t;else for(u in t)t.hasOwnProperty(u)&&(q[u]=t[u]);else a.punycode=t}(this)}(a("github:jspm/nodelibs-process@0.1.2")),d.define=e,c.exports}),System.registerDynamic("npm:punycode@1.3.2",["npm:punycode@1.3.2/punycode"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,c.exports=a("npm:punycode@1.3.2/punycode"),d.define=e,c.exports}),System.registerDynamic("npm:url@0.10.3/url",["npm:punycode@1.3.2","npm:querystring@0.2.0"],!0,function(a,b,c){function d(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function e(a,b,c){if(a&&j(a)&&a instanceof d)return a;var e=new d;return e.parse(a,b,c),e}function f(a){return i(a)&&(a=e(a)),a instanceof d?a.format():d.prototype.format.call(a)}function g(a,b){return e(a,!1,!0).resolve(b)}function h(a,b){return a?e(a,!1,!0).resolveObject(b):b}function i(a){return"string"==typeof a}function j(a){return"object"==typeof a&&null!==a}function k(a){return null===a}function l(a){return null==a}var m=this,n=m.define;m.define=void 0;var o=a("npm:punycode@1.3.2");b.parse=e,b.resolve=g,b.resolveObject=h,b.format=f,b.Url=d;var p=/^([a-z0-9.+-]+:)/i,q=/:[0-9]*$/,r=["<",">",'"',"`"," ","\r","\n","	"],s=["{","}","|","\\","^","`"].concat(r),t=["'"].concat(s),u=["%","/","?",";","#"].concat(t),v=["/","?","#"],w=255,x=/^[a-z0-9A-Z_-]{0,63}$/,y=/^([a-z0-9A-Z_-]{0,63})(.*)$/,z={javascript:!0,"javascript:":!0},A={javascript:!0,"javascript:":!0},B={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},C=a("npm:querystring@0.2.0");return d.prototype.parse=function(a,b,c){if(!i(a))throw new TypeError("Parameter 'url' must be a string, not "+typeof a);var d=a;d=d.trim();var e=p.exec(d);if(e){e=e[0];var f=e.toLowerCase();this.protocol=f,d=d.substr(e.length)}if(c||e||d.match(/^\/\/[^@\/]+@[^@\/]+/)){var g="//"===d.substr(0,2);!g||e&&A[e]||(d=d.substr(2),this.slashes=!0)}if(!A[e]&&(g||e&&!B[e])){for(var h=-1,j=0;j<v.length;j++){var k=d.indexOf(v[j]);-1!==k&&(-1===h||h>k)&&(h=k)}var l,m;m=-1===h?d.lastIndexOf("@"):d.lastIndexOf("@",h),-1!==m&&(l=d.slice(0,m),d=d.slice(m+1),this.auth=decodeURIComponent(l)),h=-1;for(var j=0;j<u.length;j++){var k=d.indexOf(u[j]);-1!==k&&(-1===h||h>k)&&(h=k)}-1===h&&(h=d.length),this.host=d.slice(0,h),d=d.slice(h),this.parseHost(),this.hostname=this.hostname||"";var n="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!n)for(var q=this.hostname.split(/\./),j=0,r=q.length;r>j;j++){var s=q[j];if(s&&!s.match(x)){for(var D="",E=0,F=s.length;F>E;E++)D+=s.charCodeAt(E)>127?"x":s[E];if(!D.match(x)){var G=q.slice(0,j),H=q.slice(j+1),I=s.match(y);I&&(G.push(I[1]),H.unshift(I[2])),H.length&&(d="/"+H.join(".")+d),this.hostname=G.join(".");break}}}if(this.hostname.length>w?this.hostname="":this.hostname=this.hostname.toLowerCase(),!n){for(var J=this.hostname.split("."),K=[],j=0;j<J.length;++j){var L=J[j];K.push(L.match(/[^A-Za-z0-9_-]/)?"xn--"+o.encode(L):L)}this.hostname=K.join(".")}var M=this.port?":"+this.port:"",N=this.hostname||"";this.host=N+M,this.href+=this.host,n&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==d[0]&&(d="/"+d))}if(!z[f])for(var j=0,r=t.length;r>j;j++){var O=t[j],P=encodeURIComponent(O);P===O&&(P=escape(O)),d=d.split(O).join(P)}var Q=d.indexOf("#");-1!==Q&&(this.hash=d.substr(Q),d=d.slice(0,Q));var R=d.indexOf("?");if(-1!==R?(this.search=d.substr(R),this.query=d.substr(R+1),b&&(this.query=C.parse(this.query)),d=d.slice(0,R)):b&&(this.search="",this.query={}),d&&(this.pathname=d),B[f]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var M=this.pathname||"",L=this.search||"";this.path=M+L}return this.href=this.format(),this},d.prototype.format=function(){var a=this.auth||"";a&&(a=encodeURIComponent(a),a=a.replace(/%3A/i,":"),a+="@");var b=this.protocol||"",c=this.pathname||"",d=this.hash||"",e=!1,f="";this.host?e=a+this.host:this.hostname&&(e=a+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(e+=":"+this.port)),this.query&&j(this.query)&&Object.keys(this.query).length&&(f=C.stringify(this.query));var g=this.search||f&&"?"+f||"";return b&&":"!==b.substr(-1)&&(b+=":"),this.slashes||(!b||B[b])&&e!==!1?(e="//"+(e||""),c&&"/"!==c.charAt(0)&&(c="/"+c)):e||(e=""),d&&"#"!==d.charAt(0)&&(d="#"+d),g&&"?"!==g.charAt(0)&&(g="?"+g),c=c.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),g=g.replace("#","%23"),b+e+c+g+d},d.prototype.resolve=function(a){return this.resolveObject(e(a,!1,!0)).format()},d.prototype.resolveObject=function(a){if(i(a)){var b=new d;b.parse(a,!1,!0),a=b}var c=new d;if(Object.keys(this).forEach(function(a){c[a]=this[a]},this),c.hash=a.hash,""===a.href)return c.href=c.format(),c;if(a.slashes&&!a.protocol)return Object.keys(a).forEach(function(b){"protocol"!==b&&(c[b]=a[b])}),B[c.protocol]&&c.hostname&&!c.pathname&&(c.path=c.pathname="/"),c.href=c.format(),c;if(a.protocol&&a.protocol!==c.protocol){if(!B[a.protocol])return Object.keys(a).forEach(function(b){c[b]=a[b]}),c.href=c.format(),c;if(c.protocol=a.protocol,a.host||A[a.protocol])c.pathname=a.pathname;else{for(var e=(a.pathname||"").split("/");e.length&&!(a.host=e.shift()););a.host||(a.host=""),a.hostname||(a.hostname=""),""!==e[0]&&e.unshift(""),e.length<2&&e.unshift(""),c.pathname=e.join("/")}if(c.search=a.search,c.query=a.query,c.host=a.host||"",c.auth=a.auth,c.hostname=a.hostname||a.host,c.port=a.port,c.pathname||c.search){var f=c.pathname||"",g=c.search||"";c.path=f+g}return c.slashes=c.slashes||a.slashes,c.href=c.format(),c}var h=c.pathname&&"/"===c.pathname.charAt(0),j=a.host||a.pathname&&"/"===a.pathname.charAt(0),m=j||h||c.host&&a.pathname,n=m,o=c.pathname&&c.pathname.split("/")||[],e=a.pathname&&a.pathname.split("/")||[],p=c.protocol&&!B[c.protocol];if(p&&(c.hostname="",c.port=null,c.host&&(""===o[0]?o[0]=c.host:o.unshift(c.host)),c.host="",a.protocol&&(a.hostname=null,a.port=null,a.host&&(""===e[0]?e[0]=a.host:e.unshift(a.host)),a.host=null),m=m&&(""===e[0]||""===o[0])),j)c.host=a.host||""===a.host?a.host:c.host,c.hostname=a.hostname||""===a.hostname?a.hostname:c.hostname,c.search=a.search,c.query=a.query,o=e;else if(e.length)o||(o=[]),o.pop(),o=o.concat(e),c.search=a.search,c.query=a.query;else if(!l(a.search)){if(p){c.hostname=c.host=o.shift();var q=c.host&&c.host.indexOf("@")>0?c.host.split("@"):!1;q&&(c.auth=q.shift(),c.host=c.hostname=q.shift())}return c.search=a.search,c.query=a.query,k(c.pathname)&&k(c.search)||(c.path=(c.pathname?c.pathname:"")+(c.search?c.search:"")),c.href=c.format(),c}if(!o.length)return c.pathname=null,c.search?c.path="/"+c.search:c.path=null,c.href=c.format(),c;for(var r=o.slice(-1)[0],s=(c.host||a.host)&&("."===r||".."===r)||""===r,t=0,u=o.length;u>=0;u--)r=o[u],"."==r?o.splice(u,1):".."===r?(o.splice(u,1),t++):t&&(o.splice(u,1),t--);if(!m&&!n)for(;t--;t)o.unshift("..");!m||""===o[0]||o[0]&&"/"===o[0].charAt(0)||o.unshift(""),s&&"/"!==o.join("/").substr(-1)&&o.push("");var v=""===o[0]||o[0]&&"/"===o[0].charAt(0);if(p){c.hostname=c.host=v?"":o.length?o.shift():"";var q=c.host&&c.host.indexOf("@")>0?c.host.split("@"):!1;q&&(c.auth=q.shift(),c.host=c.hostname=q.shift())}return m=m||c.host&&o.length,m&&!v&&o.unshift(""),o.length?c.pathname=o.join("/"):(c.pathname=null,c.path=null),k(c.pathname)&&k(c.search)||(c.path=(c.pathname?c.pathname:"")+(c.search?c.search:"")),c.auth=a.auth||c.auth,c.slashes=c.slashes||a.slashes,c.href=c.format(),c},d.prototype.parseHost=function(){var a=this.host,b=q.exec(a);b&&(b=b[0],":"!==b&&(this.port=b.substr(1)),a=a.substr(0,a.length-b.length)),a&&(this.hostname=a)},m.define=n,c.exports}),System.registerDynamic("npm:url@0.10.3",["npm:url@0.10.3/url"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,c.exports=a("npm:url@0.10.3/url"),d.define=e,c.exports}),System.registerDynamic("github:jspm/nodelibs-url@0.1.0/index",["npm:url@0.10.3"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,c.exports=System._nodeRequire?System._nodeRequire("url"):a("npm:url@0.10.3"),d.define=e,c.exports}),System.registerDynamic("github:jspm/nodelibs-url@0.1.0",["github:jspm/nodelibs-url@0.1.0/index"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,c.exports=a("github:jspm/nodelibs-url@0.1.0/index"),d.define=e,c.exports}),System.registerDynamic("npm:async@0.9.2/lib/async",["github:jspm/nodelibs-process@0.1.2"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,function(a){!function(){function b(a){var b=!1;return function(){if(b)throw new Error("Callback was already called.");b=!0,a.apply(d,arguments)}}var d,e,f={};d=this,null!=d&&(e=d.async),f.noConflict=function(){return d.async=e,f};var g=Object.prototype.toString,h=Array.isArray||function(a){return"[object Array]"===g.call(a)},i=function(a,b){for(var c=0;c<a.length;c+=1)b(a[c],c,a)},j=function(a,b){if(a.map)return a.map(b);var c=[];return i(a,function(a,d,e){c.push(b(a,d,e))}),c},k=function(a,b,c){return a.reduce?a.reduce(b,c):(i(a,function(a,d,e){c=b(c,a,d,e)}),c)},l=function(a){if(Object.keys)return Object.keys(a);var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b};"undefined"!=typeof a&&a.nextTick?(f.nextTick=a.nextTick,"undefined"!=typeof setImmediate?f.setImmediate=function(a){setImmediate(a)}:f.setImmediate=f.nextTick):"function"==typeof setImmediate?(f.nextTick=function(a){setImmediate(a)},f.setImmediate=f.nextTick):(f.nextTick=function(a){setTimeout(a,0)},f.setImmediate=f.nextTick),f.each=function(a,c,d){function e(b){b?(d(b),d=function(){}):(f+=1,f>=a.length&&d())}if(d=d||function(){},!a.length)return d();var f=0;i(a,function(a){c(a,b(e))})},f.forEach=f.each,f.eachSeries=function(a,b,c){if(c=c||function(){},!a.length)return c();var d=0,e=function(){b(a[d],function(b){b?(c(b),c=function(){}):(d+=1,d>=a.length?c():e())})};e()},f.forEachSeries=f.eachSeries,f.eachLimit=function(a,b,c,d){var e=m(b);e.apply(null,[a,c,d])},f.forEachLimit=f.eachLimit;var m=function(a){return function(b,c,d){if(d=d||function(){},!b.length||0>=a)return d();var e=0,f=0,g=0;!function h(){if(e>=b.length)return d();for(;a>g&&f<b.length;)f+=1,g+=1,c(b[f-1],function(a){a?(d(a),d=function(){}):(e+=1,g-=1,e>=b.length?d():h())})}()}},n=function(a){return function(){var b=Array.prototype.slice.call(arguments);return a.apply(null,[f.each].concat(b))}},o=function(a,b){return function(){var c=Array.prototype.slice.call(arguments);return b.apply(null,[m(a)].concat(c))}},p=function(a){return function(){var b=Array.prototype.slice.call(arguments);return a.apply(null,[f.eachSeries].concat(b))}},q=function(a,b,c,d){if(b=j(b,function(a,b){return{index:b,value:a}}),d){var e=[];a(b,function(a,b){c(a.value,function(c,d){e[a.index]=d,b(c)})},function(a){d(a,e)})}else a(b,function(a,b){c(a.value,function(a){b(a)})})};f.map=n(q),f.mapSeries=p(q),f.mapLimit=function(a,b,c,d){return r(b)(a,c,d)};var r=function(a){return o(a,q)};f.reduce=function(a,b,c,d){f.eachSeries(a,function(a,d){c(b,a,function(a,c){b=c,d(a)})},function(a){d(a,b)})},f.inject=f.reduce,f.foldl=f.reduce,f.reduceRight=function(a,b,c,d){var e=j(a,function(a){return a}).reverse();f.reduce(e,b,c,d)},f.foldr=f.reduceRight;var s=function(a,b,c,d){var e=[];b=j(b,function(a,b){return{index:b,value:a}}),a(b,function(a,b){c(a.value,function(c){c&&e.push(a),b()})},function(a){d(j(e.sort(function(a,b){return a.index-b.index}),function(a){return a.value}))})};f.filter=n(s),f.filterSeries=p(s),f.select=f.filter,f.selectSeries=f.filterSeries;var t=function(a,b,c,d){var e=[];b=j(b,function(a,b){return{index:b,value:a}}),a(b,function(a,b){c(a.value,function(c){c||e.push(a),b()})},function(a){d(j(e.sort(function(a,b){return a.index-b.index}),function(a){return a.value}))})};f.reject=n(t),f.rejectSeries=p(t);var u=function(a,b,c,d){a(b,function(a,b){c(a,function(c){c?(d(a),d=function(){}):b()})},function(a){d()})};f.detect=n(u),f.detectSeries=p(u),f.some=function(a,b,c){f.each(a,function(a,d){b(a,function(a){a&&(c(!0),c=function(){}),d()})},function(a){c(!1)})},f.any=f.some,f.every=function(a,b,c){f.each(a,function(a,d){b(a,function(a){a||(c(!1),c=function(){}),d()})},function(a){c(!0)})},f.all=f.every,f.sortBy=function(a,b,c){f.map(a,function(a,c){b(a,function(b,d){b?c(b):c(null,{value:a,criteria:d})})},function(a,b){if(a)return c(a);var d=function(a,b){var c=a.criteria,d=b.criteria;return d>c?-1:c>d?1:0};c(null,j(b.sort(d),function(a){return a.value}))})},f.auto=function(a,b){b=b||function(){};var c=l(a),d=c.length;if(!d)return b();var e={},g=[],j=function(a){g.unshift(a)},m=function(a){for(var b=0;b<g.length;b+=1)if(g[b]===a)return void g.splice(b,1)},n=function(){d--,i(g.slice(0),function(a){a()})};j(function(){if(!d){var a=b;b=function(){},a(null,e)}}),i(c,function(c){var d=h(a[c])?a[c]:[a[c]],g=function(a){var d=Array.prototype.slice.call(arguments,1);if(d.length<=1&&(d=d[0]),a){var g={};i(l(e),function(a){g[a]=e[a]}),g[c]=d,b(a,g),b=function(){}}else e[c]=d,f.setImmediate(n)},o=d.slice(0,Math.abs(d.length-1))||[],p=function(){return k(o,function(a,b){return a&&e.hasOwnProperty(b)},!0)&&!e.hasOwnProperty(c)};if(p())d[d.length-1](g,e);else{var q=function(){p()&&(m(q),d[d.length-1](g,e))};j(q)}})},f.retry=function(a,b,c){var d=5,e=[];"function"==typeof a&&(c=b,b=a,a=d),a=parseInt(a,10)||d;var g=function(d,g){for(var h=function(a,b){return function(c){a(function(a,d){c(!a||b,{err:a,result:d})},g)}};a;)e.push(h(b,!(a-=1)));f.series(e,function(a,b){b=b[b.length-1],(d||c)(b.err,b.result)})};return c?g():g},f.waterfall=function(a,b){if(b=b||function(){},!h(a)){var c=new Error("First argument to waterfall must be an array of functions");return b(c)}if(!a.length)return b();var d=function(a){return function(c){if(c)b.apply(null,arguments),b=function(){};else{var e=Array.prototype.slice.call(arguments,1),g=a.next();g?e.push(d(g)):e.push(b),f.setImmediate(function(){a.apply(null,e)})}}};d(f.iterator(a))()};var v=function(a,b,c){if(c=c||function(){},h(b))a.map(b,function(a,b){a&&a(function(a){var c=Array.prototype.slice.call(arguments,1);c.length<=1&&(c=c[0]),b.call(null,a,c)})},c);else{var d={};a.each(l(b),function(a,c){b[a](function(b){var e=Array.prototype.slice.call(arguments,1);e.length<=1&&(e=e[0]),d[a]=e,c(b)})},function(a){c(a,d)})}};f.parallel=function(a,b){v({map:f.map,each:f.each},a,b)},f.parallelLimit=function(a,b,c){v({map:r(b),each:m(b)},a,c)},f.series=function(a,b){if(b=b||function(){},h(a))f.mapSeries(a,function(a,b){a&&a(function(a){var c=Array.prototype.slice.call(arguments,1);c.length<=1&&(c=c[0]),b.call(null,a,c)})},b);else{var c={};f.eachSeries(l(a),function(b,d){a[b](function(a){var e=Array.prototype.slice.call(arguments,1);e.length<=1&&(e=e[0]),c[b]=e,d(a)})},function(a){b(a,c)})}},f.iterator=function(a){var b=function(c){var d=function(){return a.length&&a[c].apply(null,arguments),d.next()};return d.next=function(){return c<a.length-1?b(c+1):null},d};return b(0)},f.apply=function(a){var b=Array.prototype.slice.call(arguments,1);return function(){return a.apply(null,b.concat(Array.prototype.slice.call(arguments)))}};var w=function(a,b,c,d){var e=[];a(b,function(a,b){c(a,function(a,c){e=e.concat(c||[]),b(a)})},function(a){d(a,e)})};f.concat=n(w),f.concatSeries=p(w),f.whilst=function(a,b,c){a()?b(function(d){return d?c(d):void f.whilst(a,b,c)}):c()},f.doWhilst=function(a,b,c){a(function(d){if(d)return c(d);var e=Array.prototype.slice.call(arguments,1);b.apply(null,e)?f.doWhilst(a,b,c):c()})},f.until=function(a,b,c){a()?c():b(function(d){return d?c(d):void f.until(a,b,c)})},f.doUntil=function(a,b,c){a(function(d){if(d)return c(d);var e=Array.prototype.slice.call(arguments,1);b.apply(null,e)?c():f.doUntil(a,b,c)})},f.queue=function(a,c){function d(a,b,c,d){return a.started||(a.started=!0),h(b)||(b=[b]),0==b.length?f.setImmediate(function(){a.drain&&a.drain()}):void i(b,function(b){var e={data:b,callback:"function"==typeof d?d:null};c?a.tasks.unshift(e):a.tasks.push(e),a.saturated&&a.tasks.length===a.concurrency&&a.saturated(),f.setImmediate(a.process)})}void 0===c&&(c=1);var e=0,g={tasks:[],concurrency:c,saturated:null,empty:null,drain:null,started:!1,paused:!1,push:function(a,b){d(g,a,!1,b)},kill:function(){g.drain=null,g.tasks=[]},unshift:function(a,b){d(g,a,!0,b)},process:function(){if(!g.paused&&e<g.concurrency&&g.tasks.length){var c=g.tasks.shift();g.empty&&0===g.tasks.length&&g.empty(),e+=1;var d=function(){e-=1,c.callback&&c.callback.apply(c,arguments),g.drain&&g.tasks.length+e===0&&g.drain(),g.process()},f=b(d);a(c.data,f)}},length:function(){return g.tasks.length},running:function(){return e},idle:function(){return g.tasks.length+e===0},pause:function(){g.paused!==!0&&(g.paused=!0)},resume:function(){if(g.paused!==!1){g.paused=!1;for(var a=1;a<=g.concurrency;a++)f.setImmediate(g.process)}}};return g},f.priorityQueue=function(a,b){function c(a,b){return a.priority-b.priority}function d(a,b,c){for(var d=-1,e=a.length-1;e>d;){var f=d+(e-d+1>>>1);c(b,a[f])>=0?d=f:e=f-1}return d}function e(a,b,e,g){return a.started||(a.started=!0),h(b)||(b=[b]),0==b.length?f.setImmediate(function(){a.drain&&a.drain()}):void i(b,function(b){var h={data:b,priority:e,callback:"function"==typeof g?g:null};a.tasks.splice(d(a.tasks,h,c)+1,0,h),a.saturated&&a.tasks.length===a.concurrency&&a.saturated(),f.setImmediate(a.process)})}var g=f.queue(a,b);return g.push=function(a,b,c){e(g,a,b,c)},delete g.unshift,g},f.cargo=function(a,b){var c=!1,d=[],e={tasks:d,payload:b,saturated:null,empty:null,drain:null,drained:!0,push:function(a,c){h(a)||(a=[a]),i(a,function(a){d.push({data:a,callback:"function"==typeof c?c:null}),e.drained=!1,e.saturated&&d.length===b&&e.saturated()}),f.setImmediate(e.process)},process:function g(){if(!c){if(0===d.length)return e.drain&&!e.drained&&e.drain(),void(e.drained=!0);var f="number"==typeof b?d.splice(0,b):d.splice(0,d.length),h=j(f,function(a){return a.data});e.empty&&e.empty(),c=!0,a(h,function(){c=!1;var a=arguments;i(f,function(b){b.callback&&b.callback.apply(null,a)}),g()})}},length:function(){return d.length},running:function(){return c}};return e};var x=function(a){return function(b){var c=Array.prototype.slice.call(arguments,1);b.apply(null,c.concat([function(b){var c=Array.prototype.slice.call(arguments,1);"undefined"!=typeof console&&(b?console.error&&console.error(b):console[a]&&i(c,function(b){console[a](b)}))}]))}};f.log=x("log"),f.dir=x("dir"),f.memoize=function(a,b){var c={},d={};b=b||function(a){return a};var e=function(){var e=Array.prototype.slice.call(arguments),g=e.pop(),h=b.apply(null,e);h in c?f.nextTick(function(){g.apply(null,c[h])}):h in d?d[h].push(g):(d[h]=[g],a.apply(null,e.concat([function(){c[h]=arguments;var a=d[h];delete d[h];for(var b=0,e=a.length;e>b;b++)a[b].apply(null,arguments)}])))};return e.memo=c,e.unmemoized=a,e},f.unmemoize=function(a){return function(){return(a.unmemoized||a).apply(null,arguments)}},f.times=function(a,b,c){for(var d=[],e=0;a>e;e++)d.push(e);return f.map(d,b,c)},f.timesSeries=function(a,b,c){for(var d=[],e=0;a>e;e++)d.push(e);return f.mapSeries(d,b,c)},f.seq=function(){var a=arguments;return function(){var b=this,c=Array.prototype.slice.call(arguments),d=c.pop();f.reduce(a,c,function(a,c,d){c.apply(b,a.concat([function(){var a=arguments[0],b=Array.prototype.slice.call(arguments,1);d(a,b)}]))},function(a,c){d.apply(b,[a].concat(c))})}},f.compose=function(){return f.seq.apply(null,Array.prototype.reverse.call(arguments))};var y=function(a,b){var c=function(){var c=this,d=Array.prototype.slice.call(arguments),e=d.pop();return a(b,function(a,b){a.apply(c,d.concat([b]))},e)};if(arguments.length>2){var d=Array.prototype.slice.call(arguments,2);return c.apply(this,d)}return c};f.applyEach=n(y),f.applyEachSeries=p(y),f.forever=function(a,b){function c(d){if(d){if(b)return b(d);throw d}a(c)}c()},"undefined"!=typeof c&&c.exports?c.exports=f:"undefined"!=typeof define&&define.amd?define([],function(){return f}):d.async=f}()}(a("github:jspm/nodelibs-process@0.1.2")),
d.define=e,c.exports}),System.registerDynamic("npm:async@0.9.2",["npm:async@0.9.2/lib/async"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,c.exports=a("npm:async@0.9.2/lib/async"),d.define=e,c.exports}),System.registerDynamic("npm:resource-loader@1.6.2/src/Loader",["npm:async@0.9.2","github:jspm/nodelibs-url@0.1.0","npm:resource-loader@1.6.2/src/Resource","npm:eventemitter3@1.1.1","github:jspm/nodelibs-process@0.1.2"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,function(b){function d(a,b){h.call(this),b=b||10,this.baseUrl=a||"",this.progress=0,this.loading=!1,this._progressChunk=0,this._beforeMiddleware=[],this._afterMiddleware=[],this._boundLoadResource=this._loadResource.bind(this),this._boundOnLoad=this._onLoad.bind(this),this._buffer=[],this._numToLoad=0,this._queue=e.queue(this._boundLoadResource,b),this.resources={}}var e=a("npm:async@0.9.2"),f=a("github:jspm/nodelibs-url@0.1.0"),g=a("npm:resource-loader@1.6.2/src/Resource"),h=a("npm:eventemitter3@1.1.1");d.prototype=Object.create(h.prototype),d.prototype.constructor=d,c.exports=d,d.prototype.add=d.prototype.enqueue=function(a,b,c,d){if(Array.isArray(a)){for(var e=0;e<a.length;++e)this.add(a[e]);return this}if("object"==typeof a&&(d=b||a.callback||a.onComplete,c=a,b=a.url,a=a.name||a.key||a.url),"string"!=typeof b&&(d=c,c=b,b=a),"string"!=typeof b)throw new Error("No url passed to add resource to loader.");if("function"==typeof c&&(d=c,c=null),this.resources[a])throw new Error('Resource with name "'+a+'" already exists.');return b=this._handleBaseUrl(b),this.resources[a]=new g(a,b,c),"function"==typeof d&&this.resources[a].once("afterMiddleware",d),this._numToLoad++,this._queue.started?(this._queue.push(this.resources[a]),this._progressChunk=(100-this.progress)/(this._queue.length()+this._queue.running())):(this._buffer.push(this.resources[a]),this._progressChunk=100/this._buffer.length),this},d.prototype._handleBaseUrl=function(a){var b=f.parse(a);return b.protocol||0===b.pathname.indexOf("//")?a:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&a.lastIndexOf("/")!==a.length-1?this.baseUrl+"/"+a:this.baseUrl+a},d.prototype.before=d.prototype.pre=function(a){return this._beforeMiddleware.push(a),this},d.prototype.after=d.prototype.use=function(a){return this._afterMiddleware.push(a),this},d.prototype.reset=function(){this.progress=0,this.loading=!1,this._progressChunk=0,this._buffer.length=0,this._numToLoad=0,this._queue.kill(),this._queue.started=!1,this.resources={}},d.prototype.load=function(a){if("function"==typeof a&&this.once("complete",a),this._queue.started)return this;this.emit("start",this);for(var b=0;b<this._buffer.length;++b)this._queue.push(this._buffer[b]);return this._buffer.length=0,this},d.prototype._loadResource=function(a,b){var c=this;a._dequeue=b,this._runMiddleware(a,this._beforeMiddleware,function(){a.load(c._boundOnLoad)})},d.prototype._onComplete=function(){this.emit("complete",this,this.resources)},d.prototype._onLoad=function(a){this.progress+=this._progressChunk,this.emit("progress",this,a),this._runMiddleware(a,this._afterMiddleware,function(){a.emit("afterMiddleware",a),this._numToLoad--,0===this._numToLoad&&(this.progress=100,this._onComplete()),a.error?this.emit("error",a.error,this,a):this.emit("load",this,a)}),a._dequeue()},d.prototype._runMiddleware=function(a,b,c){var d=this;e.eachSeries(b,function(b,c){b.call(d,a,c)},c.bind(this,a))},d.LOAD_TYPE=g.LOAD_TYPE,d.XHR_READY_STATE=g.XHR_READY_STATE,d.XHR_RESPONSE_TYPE=g.XHR_RESPONSE_TYPE}(a("github:jspm/nodelibs-process@0.1.2")),d.define=e,c.exports}),System.registerDynamic("npm:resource-loader@1.6.2/src/index",["npm:resource-loader@1.6.2/src/Loader","npm:resource-loader@1.6.2/src/Resource","npm:resource-loader@1.6.2/src/middlewares/caching/memory","npm:resource-loader@1.6.2/src/middlewares/parsing/blob"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,c.exports=a("npm:resource-loader@1.6.2/src/Loader"),c.exports.Resource=a("npm:resource-loader@1.6.2/src/Resource"),c.exports.middleware={caching:{memory:a("npm:resource-loader@1.6.2/src/middlewares/caching/memory")},parsing:{blob:a("npm:resource-loader@1.6.2/src/middlewares/parsing/blob")}},d.define=e,c.exports}),System.registerDynamic("npm:resource-loader@1.6.2",["npm:resource-loader@1.6.2/src/index"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,c.exports=a("npm:resource-loader@1.6.2/src/index"),d.define=e,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/loaders/loader",["npm:resource-loader@1.6.2","npm:pixi.js@3.0.8/src/loaders/textureParser","npm:pixi.js@3.0.8/src/loaders/spritesheetParser","npm:pixi.js@3.0.8/src/loaders/bitmapFontParser"],!0,function(a,b,c){function d(a,b){g.call(this,a,b);for(var c=0;c<d._pixiMiddleware.length;++c)this.use(d._pixiMiddleware[c]())}var e=this,f=e.define;e.define=void 0;var g=a("npm:resource-loader@1.6.2"),h=a("npm:pixi.js@3.0.8/src/loaders/textureParser"),i=a("npm:pixi.js@3.0.8/src/loaders/spritesheetParser"),j=a("npm:pixi.js@3.0.8/src/loaders/bitmapFontParser");d.prototype=Object.create(g.prototype),d.prototype.constructor=d,c.exports=d,d._pixiMiddleware=[g.middleware.parsing.blob,h,i,j],d.addPixiMiddleware=function(a){d._pixiMiddleware.push(a)};var k=g.Resource;return k.setExtensionXhrType("fnt",k.XHR_RESPONSE_TYPE.DOCUMENT),e.define=f,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/loaders/index",["npm:pixi.js@3.0.8/src/loaders/loader","npm:pixi.js@3.0.8/src/loaders/bitmapFontParser","npm:pixi.js@3.0.8/src/loaders/spritesheetParser","npm:pixi.js@3.0.8/src/loaders/textureParser","npm:resource-loader@1.6.2"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,c.exports={Loader:a("npm:pixi.js@3.0.8/src/loaders/loader"),bitmapFontParser:a("npm:pixi.js@3.0.8/src/loaders/bitmapFontParser"),spritesheetParser:a("npm:pixi.js@3.0.8/src/loaders/spritesheetParser"),textureParser:a("npm:pixi.js@3.0.8/src/loaders/textureParser"),Resource:a("npm:resource-loader@1.6.2").Resource},d.define=e,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/interaction/interactiveTarget",[],!0,function(a,b,c){var d=this,e=d.define;d.define=void 0;var f={interactive:!1,buttonMode:!1,interactiveChildren:!0,defaultCursor:"pointer",_over:!1,_touchDown:!1};return c.exports=f,d.define=e,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/interaction/InteractionManager",["npm:pixi.js@3.0.8/src/core/index","npm:pixi.js@3.0.8/src/interaction/InteractionData","npm:pixi.js@3.0.8/src/interaction/interactiveTarget"],!0,function(a,b,c){function d(a,b){b=b||{},this.renderer=a,this.autoPreventDefault=void 0!==b.autoPreventDefault?b.autoPreventDefault:!0,this.interactionFrequency=b.interactionFrequency||10,this.mouse=new h,this.eventData={stopped:!1,target:null,type:null,data:this.mouse,stopPropagation:function(){this.stopped=!0}},this.interactiveDataPool=[],this.interactionDOMElement=null,this.eventsAdded=!1,this.onMouseUp=this.onMouseUp.bind(this),this.processMouseUp=this.processMouseUp.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.processMouseDown=this.processMouseDown.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.processMouseMove=this.processMouseMove.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.processMouseOverOut=this.processMouseOverOut.bind(this),this.onTouchStart=this.onTouchStart.bind(this),this.processTouchStart=this.processTouchStart.bind(this),this.onTouchEnd=this.onTouchEnd.bind(this),this.processTouchEnd=this.processTouchEnd.bind(this),this.onTouchMove=this.onTouchMove.bind(this),this.processTouchMove=this.processTouchMove.bind(this),this.last=0,this.currentCursorStyle="inherit",this._tempPoint=new g.Point,this.resolution=1,this.setTargetElement(this.renderer.view,this.renderer.resolution)}var e=this,f=e.define;e.define=void 0;var g=a("npm:pixi.js@3.0.8/src/core/index"),h=a("npm:pixi.js@3.0.8/src/interaction/InteractionData");return Object.assign(g.DisplayObject.prototype,a("npm:pixi.js@3.0.8/src/interaction/interactiveTarget")),d.prototype.constructor=d,c.exports=d,d.prototype.setTargetElement=function(a,b){this.removeEvents(),this.interactionDOMElement=a,this.resolution=b||1,this.addEvents()},d.prototype.addEvents=function(){this.interactionDOMElement&&(g.ticker.shared.add(this.update,this),window.navigator.msPointerEnabled&&(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"),window.document.addEventListener("mousemove",this.onMouseMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onMouseDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onMouseOut,!0),this.interactionDOMElement.addEventListener("touchstart",this.onTouchStart,!0),this.interactionDOMElement.addEventListener("touchend",this.onTouchEnd,!0),this.interactionDOMElement.addEventListener("touchmove",this.onTouchMove,!0),window.addEventListener("mouseup",this.onMouseUp,!0),this.eventsAdded=!0)},d.prototype.removeEvents=function(){this.interactionDOMElement&&(g.ticker.shared.remove(this.update),window.navigator.msPointerEnabled&&(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""),window.document.removeEventListener("mousemove",this.onMouseMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onMouseDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onMouseOut,!0),this.interactionDOMElement.removeEventListener("touchstart",this.onTouchStart,!0),this.interactionDOMElement.removeEventListener("touchend",this.onTouchEnd,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onTouchMove,!0),this.interactionDOMElement=null,window.removeEventListener("mouseup",this.onMouseUp,!0),this.eventsAdded=!1)},d.prototype.update=function(a){if(this._deltaTime+=a,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.interactionDOMElement)){if(this.didMove)return void(this.didMove=!1);this.cursor="inherit",this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseOverOut,!0),this.currentCursorStyle!==this.cursor&&(this.currentCursorStyle=this.cursor,this.interactionDOMElement.style.cursor=this.cursor)}},d.prototype.dispatchEvent=function(a,b,c){c.stopped||(c.target=a,c.type=b,a.emit(b,c),a[b]&&a[b](c))},d.prototype.mapPositionToPoint=function(a,b,c){var d=this.interactionDOMElement.getBoundingClientRect();a.x=(b-d.left)*(this.interactionDOMElement.width/d.width)/this.resolution,a.y=(c-d.top)*(this.interactionDOMElement.height/d.height)/this.resolution},d.prototype.processInteractive=function(a,b,c,d,e){if(!b||!b.visible)return!1;var f=b.children,g=!1;if(e=e||b.interactive,b.interactiveChildren)for(var h=f.length-1;h>=0;h--)!g&&d?g=this.processInteractive(a,f[h],c,!0,e):this.processInteractive(a,f[h],c,!1,!1);return e&&(d&&(b.hitArea?(b.worldTransform.applyInverse(a,this._tempPoint),g=b.hitArea.contains(this._tempPoint.x,this._tempPoint.y)):b.containsPoint&&(g=b.containsPoint(a))),b.interactive&&c(b,g)),g},d.prototype.onMouseDown=function(a){this.mouse.originalEvent=a,this.eventData.data=this.mouse,this.eventData.stopped=!1,this.mapPositionToPoint(this.mouse.global,a.clientX,a.clientY),this.autoPreventDefault&&this.mouse.originalEvent.preventDefault(),this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseDown,!0)},d.prototype.processMouseDown=function(a,b){var c=this.mouse.originalEvent,d=2===c.button||3===c.which;b&&(a[d?"_isRightDown":"_isLeftDown"]=!0,this.dispatchEvent(a,d?"rightdown":"mousedown",this.eventData))},d.prototype.onMouseUp=function(a){this.mouse.originalEvent=a,this.eventData.data=this.mouse,this.eventData.stopped=!1,this.mapPositionToPoint(this.mouse.global,a.clientX,a.clientY),this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseUp,!0)},d.prototype.processMouseUp=function(a,b){var c=this.mouse.originalEvent,d=2===c.button||3===c.which,e=d?"_isRightDown":"_isLeftDown";b?(this.dispatchEvent(a,d?"rightup":"mouseup",this.eventData),a[e]&&(a[e]=!1,this.dispatchEvent(a,d?"rightclick":"click",this.eventData))):a[e]&&(a[e]=!1,this.dispatchEvent(a,d?"rightupoutside":"mouseupoutside",this.eventData))},d.prototype.onMouseMove=function(a){this.mouse.originalEvent=a,this.eventData.data=this.mouse,this.eventData.stopped=!1,this.mapPositionToPoint(this.mouse.global,a.clientX,a.clientY),this.didMove=!0,this.cursor="inherit",this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseMove,!0),this.currentCursorStyle!==this.cursor&&(this.currentCursorStyle=this.cursor,this.interactionDOMElement.style.cursor=this.cursor)},d.prototype.processMouseMove=function(a,b){this.dispatchEvent(a,"mousemove",this.eventData),this.processMouseOverOut(a,b)},d.prototype.onMouseOut=function(a){this.mouse.originalEvent=a,this.eventData.stopped=!1,this.mapPositionToPoint(this.mouse.global,a.clientX,a.clientY),this.interactionDOMElement.style.cursor="inherit",this.mapPositionToPoint(this.mouse.global,a.clientX,a.clientY),this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseOverOut,!1)},d.prototype.processMouseOverOut=function(a,b){b?(a._over||(a._over=!0,this.dispatchEvent(a,"mouseover",this.eventData)),a.buttonMode&&(this.cursor=a.defaultCursor)):a._over&&(a._over=!1,this.dispatchEvent(a,"mouseout",this.eventData))},d.prototype.onTouchStart=function(a){this.autoPreventDefault&&a.preventDefault();for(var b=a.changedTouches,c=b.length,d=0;c>d;d++){var e=b[d],f=this.getTouchData(e);f.originalEvent=a,this.eventData.data=f,this.eventData.stopped=!1,this.processInteractive(f.global,this.renderer._lastObjectRendered,this.processTouchStart,!0),this.returnTouchData(f)}},d.prototype.processTouchStart=function(a,b){b&&(a._touchDown=!0,this.dispatchEvent(a,"touchstart",this.eventData))},d.prototype.onTouchEnd=function(a){this.autoPreventDefault&&a.preventDefault();for(var b=a.changedTouches,c=b.length,d=0;c>d;d++){var e=b[d],f=this.getTouchData(e);f.originalEvent=a,this.eventData.data=f,this.eventData.stopped=!1,this.processInteractive(f.global,this.renderer._lastObjectRendered,this.processTouchEnd,!0),this.returnTouchData(f)}},d.prototype.processTouchEnd=function(a,b){b?(this.dispatchEvent(a,"touchend",this.eventData),a._touchDown&&(a._touchDown=!1,this.dispatchEvent(a,"tap",this.eventData))):a._touchDown&&(a._touchDown=!1,this.dispatchEvent(a,"touchendoutside",this.eventData))},d.prototype.onTouchMove=function(a){this.autoPreventDefault&&a.preventDefault();for(var b=a.changedTouches,c=b.length,d=0;c>d;d++){var e=b[d],f=this.getTouchData(e);f.originalEvent=a,this.eventData.data=f,this.eventData.stopped=!1,this.processInteractive(f.global,this.renderer._lastObjectRendered,this.processTouchMove,!0),this.returnTouchData(f)}},d.prototype.processTouchMove=function(a,b){b=b,this.dispatchEvent(a,"touchmove",this.eventData)},d.prototype.getTouchData=function(a){var b=this.interactiveDataPool.pop();return b||(b=new h),b.identifier=a.identifier,this.mapPositionToPoint(b.global,a.clientX,a.clientY),navigator.isCocoonJS&&(b.global.x=b.global.x/this.resolution,b.global.y=b.global.y/this.resolution),a.globalX=b.global.x,a.globalY=b.global.y,b},d.prototype.returnTouchData=function(a){this.interactiveDataPool.push(a)},d.prototype.destroy=function(){this.removeEvents(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactiveDataPool=null,this.interactionDOMElement=null,this.onMouseUp=null,this.processMouseUp=null,this.onMouseDown=null,this.processMouseDown=null,this.onMouseMove=null,this.processMouseMove=null,this.onMouseOut=null,this.processMouseOverOut=null,this.onTouchStart=null,this.processTouchStart=null,this.onTouchEnd=null,this.processTouchEnd=null,this.onTouchMove=null,this.processTouchMove=null,this._tempPoint=null},g.WebGLRenderer.registerPlugin("interaction",d),g.CanvasRenderer.registerPlugin("interaction",d),e.define=f,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/interaction/InteractionData",["npm:pixi.js@3.0.8/src/core/index"],!0,function(a,b,c){function d(){this.global=new g.Point,this.target=null,this.originalEvent=null}var e=this,f=e.define;e.define=void 0;var g=a("npm:pixi.js@3.0.8/src/core/index");return d.prototype.constructor=d,c.exports=d,d.prototype.getLocalPosition=function(a,b,c){return a.toLocal(c?c:this.global,b)},e.define=f,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/interaction/index",["npm:pixi.js@3.0.8/src/interaction/InteractionData","npm:pixi.js@3.0.8/src/interaction/InteractionManager","npm:pixi.js@3.0.8/src/interaction/interactiveTarget"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,c.exports={InteractionData:a("npm:pixi.js@3.0.8/src/interaction/InteractionData"),InteractionManager:a("npm:pixi.js@3.0.8/src/interaction/InteractionManager"),interactiveTarget:a("npm:pixi.js@3.0.8/src/interaction/interactiveTarget")},d.define=e,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/filters/twist/TwistFilter",["npm:pixi.js@3.0.8/src/core/index","github:jspm/nodelibs-fs@0.1.2"],!0,function(a,b,c){function d(){h.AbstractFilter.call(this,null,i.readFileSync(g+"/twist.frag","utf8"),{radius:{type:"1f",value:.5},angle:{type:"1f",value:5},offset:{type:"v2",value:{x:.5,y:.5}}})}var e=this,f=e.define;e.define=void 0;var g=(c.id,c.id.split("/").splice(0,c.id.split("/").length-1).join("/")),h=a("npm:pixi.js@3.0.8/src/core/index"),i=a("github:jspm/nodelibs-fs@0.1.2");return d.prototype=Object.create(h.AbstractFilter.prototype),d.prototype.constructor=d,c.exports=d,Object.defineProperties(d.prototype,{offset:{get:function(){return this.uniforms.offset.value},set:function(a){this.uniforms.offset.value=a}},radius:{get:function(){return this.uniforms.radius.value},set:function(a){this.uniforms.radius.value=a}},angle:{get:function(){return this.uniforms.angle.value},set:function(a){this.uniforms.angle.value=a}}}),e.define=f,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/filters/tiltshift/TiltShiftYFilter",["npm:pixi.js@3.0.8/src/filters/tiltshift/TiltShiftAxisFilter"],!0,function(a,b,c){function d(){g.call(this)}var e=this,f=e.define;e.define=void 0;var g=a("npm:pixi.js@3.0.8/src/filters/tiltshift/TiltShiftAxisFilter");return d.prototype=Object.create(g.prototype),d.prototype.constructor=d,c.exports=d,d.prototype.updateDelta=function(){var a=this.uniforms.end.value.x-this.uniforms.start.value.x,b=this.uniforms.end.value.y-this.uniforms.start.value.y,c=Math.sqrt(a*a+b*b);this.uniforms.delta.value.x=-b/c,this.uniforms.delta.value.y=a/c},e.define=f,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/filters/tiltshift/TiltShiftAxisFilter",["npm:pixi.js@3.0.8/src/core/index","github:jspm/nodelibs-fs@0.1.2"],!0,function(a,b,c){function d(){h.AbstractFilter.call(this,null,i.readFileSync(g+"/tiltShift.frag","utf8"),{blur:{type:"1f",value:100},gradientBlur:{type:"1f",value:600},start:{type:"v2",value:{x:0,y:window.innerHeight/2}},end:{type:"v2",value:{x:600,y:window.innerHeight/2}},delta:{type:"v2",value:{x:30,y:30}},texSize:{type:"v2",value:{x:window.innerWidth,y:window.innerHeight}}}),this.updateDelta()}var e=this,f=e.define;e.define=void 0;var g=(c.id,c.id.split("/").splice(0,c.id.split("/").length-1).join("/")),h=a("npm:pixi.js@3.0.8/src/core/index"),i=a("github:jspm/nodelibs-fs@0.1.2");return d.prototype=Object.create(h.AbstractFilter.prototype),d.prototype.constructor=d,c.exports=d,d.prototype.updateDelta=function(){this.uniforms.delta.value.x=0,this.uniforms.delta.value.y=0},Object.defineProperties(d.prototype,{blur:{get:function(){return this.uniforms.blur.value},set:function(a){this.uniforms.blur.value=a}},gradientBlur:{get:function(){return this.uniforms.gradientBlur.value},set:function(a){this.uniforms.gradientBlur.value=a}},start:{get:function(){return this.uniforms.start.value},set:function(a){this.uniforms.start.value=a,this.updateDelta()}},end:{get:function(){return this.uniforms.end.value},set:function(a){this.uniforms.end.value=a,this.updateDelta()}}}),e.define=f,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/filters/tiltshift/TiltShiftXFilter",["npm:pixi.js@3.0.8/src/filters/tiltshift/TiltShiftAxisFilter"],!0,function(a,b,c){function d(){g.call(this)}var e=this,f=e.define;e.define=void 0;var g=a("npm:pixi.js@3.0.8/src/filters/tiltshift/TiltShiftAxisFilter");return d.prototype=Object.create(g.prototype),d.prototype.constructor=d,c.exports=d,d.prototype.updateDelta=function(){var a=this.uniforms.end.value.x-this.uniforms.start.value.x,b=this.uniforms.end.value.y-this.uniforms.start.value.y,c=Math.sqrt(a*a+b*b);this.uniforms.delta.value.x=a/c,this.uniforms.delta.value.y=b/c},e.define=f,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/filters/tiltshift/TiltShiftFilter",["npm:pixi.js@3.0.8/src/core/index","npm:pixi.js@3.0.8/src/filters/tiltshift/TiltShiftXFilter","npm:pixi.js@3.0.8/src/filters/tiltshift/TiltShiftYFilter"],!0,function(a,b,c){function d(){g.AbstractFilter.call(this),this.tiltShiftXFilter=new h,this.tiltShiftYFilter=new i}var e=this,f=e.define;e.define=void 0;var g=a("npm:pixi.js@3.0.8/src/core/index"),h=a("npm:pixi.js@3.0.8/src/filters/tiltshift/TiltShiftXFilter"),i=a("npm:pixi.js@3.0.8/src/filters/tiltshift/TiltShiftYFilter");return d.prototype=Object.create(g.AbstractFilter.prototype),d.prototype.constructor=d,c.exports=d,d.prototype.applyFilter=function(a,b,c){var d=a.filterManager.getRenderTarget(!0);this.tiltShiftXFilter.applyFilter(a,b,d),this.tiltShiftYFilter.applyFilter(a,d,c),a.filterManager.returnRenderTarget(d)},Object.defineProperties(d.prototype,{blur:{get:function(){return this.tiltShiftXFilter.blur},set:function(a){this.tiltShiftXFilter.blur=this.tiltShiftYFilter.blur=a}},gradientBlur:{get:function(){return this.tiltShiftXFilter.gradientBlur},set:function(a){this.tiltShiftXFilter.gradientBlur=this.tiltShiftYFilter.gradientBlur=a}},start:{get:function(){return this.tiltShiftXFilter.start},set:function(a){this.tiltShiftXFilter.start=this.tiltShiftYFilter.start=a}},end:{get:function(){return this.tiltShiftXFilter.end},set:function(a){this.tiltShiftXFilter.end=this.tiltShiftYFilter.end=a}}}),e.define=f,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/filters/blur/SmartBlurFilter",["npm:pixi.js@3.0.8/src/core/index","github:jspm/nodelibs-fs@0.1.2"],!0,function(a,b,c){function d(){h.AbstractFilter.call(this,null,i.readFileSync(g+"/smartBlur.frag","utf8"),{delta:{type:"v2",value:{x:.1,y:0}}})}var e=this,f=e.define;e.define=void 0;var g=(c.id,c.id.split("/").splice(0,c.id.split("/").length-1).join("/")),h=a("npm:pixi.js@3.0.8/src/core/index"),i=a("github:jspm/nodelibs-fs@0.1.2");return d.prototype=Object.create(h.AbstractFilter.prototype),d.prototype.constructor=d,c.exports=d,e.define=f,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/filters/sepia/SepiaFilter",["npm:pixi.js@3.0.8/src/core/index","github:jspm/nodelibs-fs@0.1.2"],!0,function(a,b,c){function d(){h.AbstractFilter.call(this,null,i.readFileSync(g+"/sepia.frag","utf8"),{sepia:{type:"1f",value:1}})}var e=this,f=e.define;e.define=void 0;var g=(c.id,c.id.split("/").splice(0,c.id.split("/").length-1).join("/")),h=a("npm:pixi.js@3.0.8/src/core/index"),i=a("github:jspm/nodelibs-fs@0.1.2");return d.prototype=Object.create(h.AbstractFilter.prototype),d.prototype.constructor=d,c.exports=d,Object.defineProperties(d.prototype,{sepia:{get:function(){return this.uniforms.sepia.value},set:function(a){this.uniforms.sepia.value=a}}}),e.define=f,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/filters/shockwave/ShockwaveFilter",["npm:pixi.js@3.0.8/src/core/index","github:jspm/nodelibs-fs@0.1.2"],!0,function(a,b,c){function d(){h.AbstractFilter.call(this,null,i.readFileSync(g+"/shockwave.frag","utf8"),{center:{type:"v2",value:{x:.5,y:.5}},params:{type:"v3",value:{x:10,y:.8,z:.1}},time:{type:"1f",value:0}})}var e=this,f=e.define;e.define=void 0;var g=(c.id,c.id.split("/").splice(0,c.id.split("/").length-1).join("/")),h=a("npm:pixi.js@3.0.8/src/core/index"),i=a("github:jspm/nodelibs-fs@0.1.2");return d.prototype=Object.create(h.AbstractFilter.prototype),d.prototype.constructor=d,c.exports=d,Object.defineProperties(d.prototype,{center:{get:function(){return this.uniforms.center.value},set:function(a){this.uniforms.center.value=a}},params:{get:function(){return this.uniforms.params.value},set:function(a){this.uniforms.params.value=a}},time:{get:function(){return this.uniforms.time.value},set:function(a){this.uniforms.time.value=a}}}),e.define=f,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/filters/rgb/RGBSplitFilter",["npm:pixi.js@3.0.8/src/core/index","github:jspm/nodelibs-fs@0.1.2"],!0,function(a,b,c){function d(){h.AbstractFilter.call(this,null,i.readFileSync(g+"/rgbSplit.frag","utf8"),{red:{type:"v2",value:{x:20,y:20}},green:{type:"v2",value:{x:-20,y:20}},blue:{type:"v2",value:{x:20,y:-20}},dimensions:{type:"4fv",value:[0,0,0,0]}})}var e=this,f=e.define;e.define=void 0;var g=(c.id,c.id.split("/").splice(0,c.id.split("/").length-1).join("/")),h=a("npm:pixi.js@3.0.8/src/core/index"),i=a("github:jspm/nodelibs-fs@0.1.2");return d.prototype=Object.create(h.AbstractFilter.prototype),d.prototype.constructor=d,c.exports=d,Object.defineProperties(d.prototype,{red:{get:function(){return this.uniforms.red.value},set:function(a){this.uniforms.red.value=a}},green:{get:function(){return this.uniforms.green.value},set:function(a){this.uniforms.green.value=a}},blue:{get:function(){return this.uniforms.blue.value},set:function(a){this.uniforms.blue.value=a}}}),e.define=f,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/filters/pixelate/PixelateFilter",["npm:pixi.js@3.0.8/src/core/index","github:jspm/nodelibs-fs@0.1.2"],!0,function(a,b,c){function d(){h.AbstractFilter.call(this,null,i.readFileSync(g+"/pixelate.frag","utf8"),{dimensions:{type:"4fv",value:new Float32Array([0,0,0,0])},pixelSize:{type:"v2",value:{x:10,y:10}}})}var e=this,f=e.define;e.define=void 0;var g=(c.id,c.id.split("/").splice(0,c.id.split("/").length-1).join("/")),h=a("npm:pixi.js@3.0.8/src/core/index"),i=a("github:jspm/nodelibs-fs@0.1.2");return d.prototype=Object.create(h.AbstractFilter.prototype),d.prototype.constructor=d,c.exports=d,Object.defineProperties(d.prototype,{size:{get:function(){return this.uniforms.pixelSize.value},set:function(a){this.uniforms.pixelSize.value=a}}}),e.define=f,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/filters/noise/NoiseFilter",["npm:pixi.js@3.0.8/src/core/index","github:jspm/nodelibs-fs@0.1.2"],!0,function(a,b,c){function d(){h.AbstractFilter.call(this,null,i.readFileSync(g+"/noise.frag","utf8"),{noise:{type:"1f",value:.5}})}var e=this,f=e.define;e.define=void 0;var g=(c.id,c.id.split("/").splice(0,c.id.split("/").length-1).join("/")),h=a("npm:pixi.js@3.0.8/src/core/index"),i=a("github:jspm/nodelibs-fs@0.1.2");return d.prototype=Object.create(h.AbstractFilter.prototype),d.prototype.constructor=d,c.exports=d,Object.defineProperties(d.prototype,{noise:{get:function(){return this.uniforms.noise.value},set:function(a){this.uniforms.noise.value=a}}}),e.define=f,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/filters/invert/InvertFilter",["npm:pixi.js@3.0.8/src/core/index","github:jspm/nodelibs-fs@0.1.2"],!0,function(a,b,c){function d(){h.AbstractFilter.call(this,null,i.readFileSync(g+"/invert.frag","utf8"),{invert:{type:"1f",value:1}})}var e=this,f=e.define;e.define=void 0;var g=(c.id,c.id.split("/").splice(0,c.id.split("/").length-1).join("/")),h=a("npm:pixi.js@3.0.8/src/core/index"),i=a("github:jspm/nodelibs-fs@0.1.2");return d.prototype=Object.create(h.AbstractFilter.prototype),d.prototype.constructor=d,c.exports=d,Object.defineProperties(d.prototype,{invert:{get:function(){return this.uniforms.invert.value},set:function(a){this.uniforms.invert.value=a}}}),e.define=f,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/filters/dropshadow/BlurYTintFilter",["npm:pixi.js@3.0.8/src/core/index","github:jspm/nodelibs-fs@0.1.2"],!0,function(a,b,c){function d(){h.AbstractFilter.call(this,i.readFileSync(g+"/blurYTint.vert","utf8"),i.readFileSync(g+"/blurYTint.frag","utf8"),{blur:{type:"1f",value:1/512},color:{type:"c",value:[0,0,0]},alpha:{type:"1f",value:.7},offset:{type:"2f",value:[5,5]},strength:{type:"1f",value:1}}),this.passes=1,this.strength=4}var e=this,f=e.define;e.define=void 0;var g=(c.id,c.id.split("/").splice(0,c.id.split("/").length-1).join("/")),h=a("npm:pixi.js@3.0.8/src/core/index"),i=a("github:jspm/nodelibs-fs@0.1.2");return d.prototype=Object.create(h.AbstractFilter.prototype),d.prototype.constructor=d,c.exports=d,d.prototype.applyFilter=function(a,b,c,d){var e=this.getShader(a);if(this.uniforms.strength.value=this.strength/4/this.passes*(b.frame.height/b.size.height),1===this.passes)a.filterManager.applyFilter(e,b,c,d);else{for(var f=a.filterManager.getRenderTarget(!0),g=b,h=f,i=0;i<this.passes-1;i++){a.filterManager.applyFilter(e,g,h,d);var j=h;h=g,g=j}a.filterManager.applyFilter(e,g,c,d),a.filterManager.returnRenderTarget(f)}},Object.defineProperties(d.prototype,{blur:{get:function(){return this.strength},set:function(a){this.padding=.5*a,this.strength=a}}}),e.define=f,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/filters/dropshadow/DropShadowFilter",["npm:pixi.js@3.0.8/src/core/index","npm:pixi.js@3.0.8/src/filters/blur/BlurXFilter","npm:pixi.js@3.0.8/src/filters/dropshadow/BlurYTintFilter"],!0,function(a,b,c){function d(){g.AbstractFilter.call(this),this.blurXFilter=new h,this.blurYTintFilter=new i,this.defaultFilter=new g.AbstractFilter,this.padding=30,this._dirtyPosition=!0,this._angle=45*Math.PI/180,this._distance=10,this.alpha=.75,this.hideObject=!1,this.blendMode=g.BLEND_MODES.MULTIPLY}var e=this,f=e.define;e.define=void 0;var g=a("npm:pixi.js@3.0.8/src/core/index"),h=a("npm:pixi.js@3.0.8/src/filters/blur/BlurXFilter"),i=a("npm:pixi.js@3.0.8/src/filters/dropshadow/BlurYTintFilter");return d.prototype=Object.create(g.AbstractFilter.prototype),d.prototype.constructor=d,c.exports=d,d.prototype.applyFilter=function(a,b,c){var d=a.filterManager.getRenderTarget(!0);this._dirtyPosition&&(this._dirtyPosition=!1,this.blurYTintFilter.uniforms.offset.value[0]=Math.sin(this._angle)*this._distance,this.blurYTintFilter.uniforms.offset.value[1]=Math.cos(this._angle)*this._distance),this.blurXFilter.applyFilter(a,b,d),a.blendModeManager.setBlendMode(this.blendMode),this.blurYTintFilter.applyFilter(a,d,c),a.blendModeManager.setBlendMode(g.BLEND_MODES.NORMAL),this.hideObject||this.defaultFilter.applyFilter(a,b,c),a.filterManager.returnRenderTarget(d)},Object.defineProperties(d.prototype,{blur:{get:function(){return this.blurXFilter.blur},set:function(a){this.blurXFilter.blur=this.blurYTintFilter.blur=a}},blurX:{get:function(){return this.blurXFilter.blur},set:function(a){this.blurXFilter.blur=a}},blurY:{get:function(){return this.blurYTintFilter.blur},set:function(a){this.blurYTintFilter.blur=a}},color:{get:function(){return g.utils.rgb2hex(this.blurYTintFilter.uniforms.color.value)},set:function(a){this.blurYTintFilter.uniforms.color.value=g.utils.hex2rgb(a)}},alpha:{get:function(){return this.blurYTintFilter.uniforms.alpha.value},set:function(a){this.blurYTintFilter.uniforms.alpha.value=a}},distance:{get:function(){return this._distance},set:function(a){this._dirtyPosition=!0,this._distance=a}},angle:{get:function(){return this._angle},set:function(a){this._dirtyPosition=!0,this._angle=a}}}),e.define=f,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/filters/gray/GrayFilter",["npm:pixi.js@3.0.8/src/core/index","github:jspm/nodelibs-fs@0.1.2"],!0,function(a,b,c){function d(){h.AbstractFilter.call(this,null,i.readFileSync(g+"/gray.frag","utf8"),{gray:{type:"1f",value:1}})}var e=this,f=e.define;e.define=void 0;var g=(c.id,c.id.split("/").splice(0,c.id.split("/").length-1).join("/")),h=a("npm:pixi.js@3.0.8/src/core/index"),i=a("github:jspm/nodelibs-fs@0.1.2");
return d.prototype=Object.create(h.AbstractFilter.prototype),d.prototype.constructor=d,c.exports=d,Object.defineProperties(d.prototype,{gray:{get:function(){return this.uniforms.gray.value},set:function(a){this.uniforms.gray.value=a}}}),e.define=f,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/filters/dot/DotScreenFilter",["npm:pixi.js@3.0.8/src/core/index","github:jspm/nodelibs-fs@0.1.2"],!0,function(a,b,c){function d(){h.AbstractFilter.call(this,null,i.readFileSync(g+"/dotScreen.frag","utf8"),{scale:{type:"1f",value:1},angle:{type:"1f",value:5},dimensions:{type:"4fv",value:[0,0,0,0]}})}var e=this,f=e.define;e.define=void 0;var g=(c.id,c.id.split("/").splice(0,c.id.split("/").length-1).join("/")),h=a("npm:pixi.js@3.0.8/src/core/index"),i=a("github:jspm/nodelibs-fs@0.1.2");return d.prototype=Object.create(h.AbstractFilter.prototype),d.prototype.constructor=d,c.exports=d,Object.defineProperties(d.prototype,{scale:{get:function(){return this.uniforms.scale.value},set:function(a){this.uniforms.scale.value=a}},angle:{get:function(){return this.uniforms.angle.value},set:function(a){this.uniforms.angle.value=a}}}),e.define=f,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/filters/displacement/DisplacementFilter",["npm:pixi.js@3.0.8/src/core/index","github:jspm/nodelibs-fs@0.1.2"],!0,function(a,b,c){function d(a,b){var c=new h.Matrix;a.renderable=!1,h.AbstractFilter.call(this,i.readFileSync(g+"/displacement.vert","utf8"),i.readFileSync(g+"/displacement.frag","utf8"),{mapSampler:{type:"sampler2D",value:a.texture},otherMatrix:{type:"mat3",value:c.toArray(!0)},scale:{type:"v2",value:{x:1,y:1}}}),this.maskSprite=a,this.maskMatrix=c,(null===b||void 0===b)&&(b=20),this.scale=new h.Point(b,b)}var e=this,f=e.define;e.define=void 0;var g=(c.id,c.id.split("/").splice(0,c.id.split("/").length-1).join("/")),h=a("npm:pixi.js@3.0.8/src/core/index"),i=a("github:jspm/nodelibs-fs@0.1.2");return d.prototype=Object.create(h.AbstractFilter.prototype),d.prototype.constructor=d,c.exports=d,d.prototype.applyFilter=function(a,b,c){var d=a.filterManager;d.calculateMappedMatrix(b.frame,this.maskSprite,this.maskMatrix),this.uniforms.otherMatrix.value=this.maskMatrix.toArray(!0),this.uniforms.scale.value.x=this.scale.x*(1/b.frame.width),this.uniforms.scale.value.y=this.scale.y*(1/b.frame.height);var e=this.getShader(a);d.applyFilter(e,b,c)},Object.defineProperties(d.prototype,{map:{get:function(){return this.uniforms.mapSampler.value},set:function(a){this.uniforms.mapSampler.value=a}}}),e.define=f,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/filters/crosshatch/CrossHatchFilter",["npm:pixi.js@3.0.8/src/core/index","github:jspm/nodelibs-fs@0.1.2"],!0,function(a,b,c){function d(){h.AbstractFilter.call(this,null,i.readFileSync(g+"/crosshatch.frag","utf8"))}var e=this,f=e.define;e.define=void 0;var g=(c.id,c.id.split("/").splice(0,c.id.split("/").length-1).join("/")),h=a("npm:pixi.js@3.0.8/src/core/index"),i=a("github:jspm/nodelibs-fs@0.1.2");return d.prototype=Object.create(h.AbstractFilter.prototype),d.prototype.constructor=d,c.exports=d,e.define=f,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/filters/convolution/ConvolutionFilter",["npm:pixi.js@3.0.8/src/core/index","github:jspm/nodelibs-fs@0.1.2"],!0,function(a,b,c){function d(a,b,c){h.AbstractFilter.call(this,null,i.readFileSync(g+"/convolution.frag","utf8"),{matrix:{type:"1fv",value:new Float32Array(a)},texelSize:{type:"v2",value:{x:1/b,y:1/c}}})}var e=this,f=e.define;e.define=void 0;var g=(c.id,c.id.split("/").splice(0,c.id.split("/").length-1).join("/")),h=a("npm:pixi.js@3.0.8/src/core/index"),i=a("github:jspm/nodelibs-fs@0.1.2");return d.prototype=Object.create(h.AbstractFilter.prototype),d.prototype.constructor=d,c.exports=d,Object.defineProperties(d.prototype,{matrix:{get:function(){return this.uniforms.matrix.value},set:function(a){this.uniforms.matrix.value=new Float32Array(a)}},width:{get:function(){return 1/this.uniforms.texelSize.value.x},set:function(a){this.uniforms.texelSize.value.x=1/a}},height:{get:function(){return 1/this.uniforms.texelSize.value.y},set:function(a){this.uniforms.texelSize.value.y=1/a}}}),e.define=f,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/filters/color/ColorStepFilter",["npm:pixi.js@3.0.8/src/core/index","github:jspm/nodelibs-fs@0.1.2"],!0,function(a,b,c){function d(){h.AbstractFilter.call(this,null,i.readFileSync(g+"/colorStep.frag","utf8"),{step:{type:"1f",value:5}})}var e=this,f=e.define;e.define=void 0;var g=(c.id,c.id.split("/").splice(0,c.id.split("/").length-1).join("/")),h=a("npm:pixi.js@3.0.8/src/core/index"),i=a("github:jspm/nodelibs-fs@0.1.2");return d.prototype=Object.create(h.AbstractFilter.prototype),d.prototype.constructor=d,c.exports=d,Object.defineProperties(d.prototype,{step:{get:function(){return this.uniforms.step.value},set:function(a){this.uniforms.step.value=a}}}),e.define=f,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/filters/color/ColorMatrixFilter",["npm:pixi.js@3.0.8/src/core/index","github:jspm/nodelibs-fs@0.1.2","github:jspm/nodelibs-process@0.1.2"],!0,function(a,b,c){var d=this,e=d.define;d.define=void 0;var f=(c.id,c.id.split("/").splice(0,c.id.split("/").length-1).join("/"));return function(b){function d(){e.AbstractFilter.call(this,null,g.readFileSync(f+"/colorMatrix.frag","utf8"),{m:{type:"1fv",value:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]}})}var e=a("npm:pixi.js@3.0.8/src/core/index"),g=a("github:jspm/nodelibs-fs@0.1.2");d.prototype=Object.create(e.AbstractFilter.prototype),d.prototype.constructor=d,c.exports=d,d.prototype._loadMatrix=function(a,b){b=!!b;var c=a;b&&(this._multiply(c,this.uniforms.m.value,a),c=this._colorMatrix(c)),this.uniforms.m.value=c},d.prototype._multiply=function(a,b,c){return a[0]=b[0]*c[0]+b[1]*c[5]+b[2]*c[10]+b[3]*c[15],a[1]=b[0]*c[1]+b[1]*c[6]+b[2]*c[11]+b[3]*c[16],a[2]=b[0]*c[2]+b[1]*c[7]+b[2]*c[12]+b[3]*c[17],a[3]=b[0]*c[3]+b[1]*c[8]+b[2]*c[13]+b[3]*c[18],a[4]=b[0]*c[4]+b[1]*c[9]+b[2]*c[14]+b[3]*c[19],a[5]=b[5]*c[0]+b[6]*c[5]+b[7]*c[10]+b[8]*c[15],a[6]=b[5]*c[1]+b[6]*c[6]+b[7]*c[11]+b[8]*c[16],a[7]=b[5]*c[2]+b[6]*c[7]+b[7]*c[12]+b[8]*c[17],a[8]=b[5]*c[3]+b[6]*c[8]+b[7]*c[13]+b[8]*c[18],a[9]=b[5]*c[4]+b[6]*c[9]+b[7]*c[14]+b[8]*c[19],a[10]=b[10]*c[0]+b[11]*c[5]+b[12]*c[10]+b[13]*c[15],a[11]=b[10]*c[1]+b[11]*c[6]+b[12]*c[11]+b[13]*c[16],a[12]=b[10]*c[2]+b[11]*c[7]+b[12]*c[12]+b[13]*c[17],a[13]=b[10]*c[3]+b[11]*c[8]+b[12]*c[13]+b[13]*c[18],a[14]=b[10]*c[4]+b[11]*c[9]+b[12]*c[14]+b[13]*c[19],a[15]=b[15]*c[0]+b[16]*c[5]+b[17]*c[10]+b[18]*c[15],a[16]=b[15]*c[1]+b[16]*c[6]+b[17]*c[11]+b[18]*c[16],a[17]=b[15]*c[2]+b[16]*c[7]+b[17]*c[12]+b[18]*c[17],a[18]=b[15]*c[3]+b[16]*c[8]+b[17]*c[13]+b[18]*c[18],a[19]=b[15]*c[4]+b[16]*c[9]+b[17]*c[14]+b[18]*c[19],a},d.prototype._colorMatrix=function(a){var b=new Float32Array(a);return b[4]/=255,b[9]/=255,b[14]/=255,b[19]/=255,b},d.prototype.brightness=function(a,b){var c=[a,0,0,0,0,0,a,0,0,0,0,0,a,0,0,0,0,0,1,0];this._loadMatrix(c,b)},d.prototype.greyscale=function(a,b){var c=[a,a,a,0,0,a,a,a,0,0,a,a,a,0,0,0,0,0,1,0];this._loadMatrix(c,b)},d.prototype.grayscale=d.prototype.greyscale,d.prototype.blackAndWhite=function(a){var b=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(b,a)},d.prototype.hue=function(a,b){a=(a||0)/180*Math.PI;var c=Math.cos(a),d=Math.sin(a),e=.213,f=.715,g=.072,h=[e+c*(1-e)+d*-e,f+c*-f+d*-f,g+c*-g+d*(1-g),0,0,e+c*-e+.143*d,f+c*(1-f)+.14*d,g+c*-g+d*-.283,0,0,e+c*-e+d*-(1-e),f+c*-f+d*f,g+c*(1-g)+d*g,0,0,0,0,0,1,0];this._loadMatrix(h,b)},d.prototype.contrast=function(a,b){var c=(a||0)+1,d=-128*(c-1),e=[c,0,0,0,d,0,c,0,0,d,0,0,c,0,d,0,0,0,1,0];this._loadMatrix(e,b)},d.prototype.saturate=function(a,b){var c=2*(a||0)/3+1,d=(c-1)*-.5,e=[c,d,d,0,0,d,c,d,0,0,d,d,c,0,0,0,0,0,1,0];this._loadMatrix(e,b)},d.prototype.desaturate=function(a){this.saturate(-1)},d.prototype.negative=function(a){var b=[0,1,1,0,0,1,0,1,0,0,1,1,0,0,0,0,0,0,1,0];this._loadMatrix(b,a)},d.prototype.sepia=function(a){var b=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(b,a)},d.prototype.technicolor=function(a){var b=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(b,a)},d.prototype.polaroid=function(a){var b=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(b,a)},d.prototype.toBGR=function(a){var b=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(b,a)},d.prototype.kodachrome=function(a){var b=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(b,a)},d.prototype.browni=function(a){var b=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(b,a)},d.prototype.vintage=function(a){var b=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(b,a)},d.prototype.colorTone=function(a,b,c,d,e){a=a||.2,b=b||.15,c=c||16770432,d=d||3375104;var f=(c>>16&255)/255,g=(c>>8&255)/255,h=(255&c)/255,i=(d>>16&255)/255,j=(d>>8&255)/255,k=(255&d)/255,l=[.3,.59,.11,0,0,f,g,h,a,0,i,j,k,b,0,f-i,g-j,h-k,0,0];this._loadMatrix(l,e)},d.prototype.night=function(a,b){a=a||.1;var c=[-2*a,-a,0,0,0,-a,0,a,0,0,0,a,2*a,0,0,0,0,0,1,0];this._loadMatrix(c,b)},d.prototype.predator=function(a,b){var c=[11.224130630493164*a,-4.794486999511719*a,-2.8746118545532227*a,0*a,.40342438220977783*a,-3.6330697536468506*a,9.193157196044922*a,-2.951810836791992*a,0*a,-1.316135048866272*a,-3.2184197902679443*a,-4.2375030517578125*a,7.476448059082031*a,0*a,.8044459223747253*a,0,0,0,1,0];this._loadMatrix(c,b)},d.prototype.lsd=function(a){var b=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(b,a)},d.prototype.reset=function(){var a=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(a,!1)},Object.defineProperties(d.prototype,{matrix:{get:function(){return this.uniforms.m.value},set:function(a){this.uniforms.m.value=a}}})}(a("github:jspm/nodelibs-process@0.1.2")),d.define=e,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/filters/blur/BlurDirFilter",["npm:pixi.js@3.0.8/src/core/index","github:jspm/nodelibs-fs@0.1.2"],!0,function(a,b,c){function d(a,b){h.AbstractFilter.call(this,i.readFileSync(g+"/blurDir.vert","utf8"),i.readFileSync(g+"/blurDir.frag","utf8"),{strength:{type:"1f",value:1},dirX:{type:"1f",value:a||0},dirY:{type:"1f",value:b||0}}),this.defaultFilter=new h.AbstractFilter,this.passes=1,this.dirX=a||0,this.dirY=b||0,this.strength=4}var e=this,f=e.define;e.define=void 0;var g=(c.id,c.id.split("/").splice(0,c.id.split("/").length-1).join("/")),h=a("npm:pixi.js@3.0.8/src/core/index"),i=a("github:jspm/nodelibs-fs@0.1.2");return d.prototype=Object.create(h.AbstractFilter.prototype),d.prototype.constructor=d,c.exports=d,d.prototype.applyFilter=function(a,b,c,d){var e=this.getShader(a);if(this.uniforms.strength.value=this.strength/4/this.passes*(b.frame.width/b.size.width),1===this.passes)a.filterManager.applyFilter(e,b,c,d);else{var f=a.filterManager.getRenderTarget(!0);a.filterManager.applyFilter(e,b,f,d);for(var g=0;g<this.passes-2;g++)a.filterManager.applyFilter(e,f,f,d);a.filterManager.applyFilter(e,f,c,d),a.filterManager.returnRenderTarget(f)}},Object.defineProperties(d.prototype,{blur:{get:function(){return this.strength},set:function(a){this.padding=.5*a,this.strength=a}},dirX:{get:function(){return this.dirX},set:function(a){this.uniforms.dirX.value=a}},dirY:{get:function(){return this.dirY},set:function(a){this.uniforms.dirY.value=a}}}),e.define=f,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/filters/blur/BlurFilter",["npm:pixi.js@3.0.8/src/core/index","npm:pixi.js@3.0.8/src/filters/blur/BlurXFilter","npm:pixi.js@3.0.8/src/filters/blur/BlurYFilter"],!0,function(a,b,c){function d(){g.AbstractFilter.call(this),this.blurXFilter=new h,this.blurYFilter=new i}var e=this,f=e.define;e.define=void 0;var g=a("npm:pixi.js@3.0.8/src/core/index"),h=a("npm:pixi.js@3.0.8/src/filters/blur/BlurXFilter"),i=a("npm:pixi.js@3.0.8/src/filters/blur/BlurYFilter");return d.prototype=Object.create(g.AbstractFilter.prototype),d.prototype.constructor=d,c.exports=d,d.prototype.applyFilter=function(a,b,c){var d=a.filterManager.getRenderTarget(!0);this.blurXFilter.applyFilter(a,b,d),this.blurYFilter.applyFilter(a,d,c),a.filterManager.returnRenderTarget(d)},Object.defineProperties(d.prototype,{blur:{get:function(){return this.blurXFilter.blur},set:function(a){this.padding=.5*Math.abs(a),this.blurXFilter.blur=this.blurYFilter.blur=a}},passes:{get:function(){return this.blurXFilter.passes},set:function(a){this.blurXFilter.passes=this.blurYFilter.passes=a}},blurX:{get:function(){return this.blurXFilter.blur},set:function(a){this.blurXFilter.blur=a}},blurY:{get:function(){return this.blurYFilter.blur},set:function(a){this.blurYFilter.blur=a}}}),e.define=f,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/filters/blur/BlurYFilter",["npm:pixi.js@3.0.8/src/core/index","github:jspm/nodelibs-fs@0.1.2"],!0,function(a,b,c){function d(){h.AbstractFilter.call(this,i.readFileSync(g+"/blurY.vert","utf8"),i.readFileSync(g+"/blur.frag","utf8"),{strength:{type:"1f",value:1}}),this.passes=1,this.strength=4}var e=this,f=e.define;e.define=void 0;var g=(c.id,c.id.split("/").splice(0,c.id.split("/").length-1).join("/")),h=a("npm:pixi.js@3.0.8/src/core/index"),i=a("github:jspm/nodelibs-fs@0.1.2");return d.prototype=Object.create(h.AbstractFilter.prototype),d.prototype.constructor=d,c.exports=d,d.prototype.applyFilter=function(a,b,c,d){var e=this.getShader(a);if(this.uniforms.strength.value=Math.abs(this.strength)/4/this.passes*(b.frame.height/b.size.height),1===this.passes)a.filterManager.applyFilter(e,b,c,d);else{for(var f=a.filterManager.getRenderTarget(!0),g=b,h=f,i=0;i<this.passes-1;i++){a.filterManager.applyFilter(e,g,h,!0);var j=h;h=g,g=j}a.filterManager.applyFilter(e,g,c,d),a.filterManager.returnRenderTarget(f)}},Object.defineProperties(d.prototype,{blur:{get:function(){return this.strength},set:function(a){this.padding=.5*Math.abs(a),this.strength=a}}}),e.define=f,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/filters/blur/BlurXFilter",["npm:pixi.js@3.0.8/src/core/index","github:jspm/nodelibs-fs@0.1.2"],!0,function(a,b,c){function d(){h.AbstractFilter.call(this,i.readFileSync(g+"/blurX.vert","utf8"),i.readFileSync(g+"/blur.frag","utf8"),{strength:{type:"1f",value:1}}),this.passes=1,this.strength=4}var e=this,f=e.define;e.define=void 0;var g=(c.id,c.id.split("/").splice(0,c.id.split("/").length-1).join("/")),h=a("npm:pixi.js@3.0.8/src/core/index"),i=a("github:jspm/nodelibs-fs@0.1.2");return d.prototype=Object.create(h.AbstractFilter.prototype),d.prototype.constructor=d,c.exports=d,d.prototype.applyFilter=function(a,b,c,d){var e=this.getShader(a);if(this.uniforms.strength.value=this.strength/4/this.passes*(b.frame.width/b.size.width),1===this.passes)a.filterManager.applyFilter(e,b,c,d);else{for(var f=a.filterManager.getRenderTarget(!0),g=b,h=f,i=0;i<this.passes-1;i++){a.filterManager.applyFilter(e,g,h,!0);var j=h;h=g,g=j}a.filterManager.applyFilter(e,g,c,d),a.filterManager.returnRenderTarget(f)}},Object.defineProperties(d.prototype,{blur:{get:function(){return this.strength},set:function(a){this.padding=.5*Math.abs(a),this.strength=a}}}),e.define=f,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/filters/bloom/BloomFilter",["npm:pixi.js@3.0.8/src/core/index","npm:pixi.js@3.0.8/src/filters/blur/BlurXFilter","npm:pixi.js@3.0.8/src/filters/blur/BlurYFilter"],!0,function(a,b,c){function d(){g.AbstractFilter.call(this),this.blurXFilter=new h,this.blurYFilter=new i,this.defaultFilter=new g.AbstractFilter}var e=this,f=e.define;e.define=void 0;var g=a("npm:pixi.js@3.0.8/src/core/index"),h=a("npm:pixi.js@3.0.8/src/filters/blur/BlurXFilter"),i=a("npm:pixi.js@3.0.8/src/filters/blur/BlurYFilter");return d.prototype=Object.create(g.AbstractFilter.prototype),d.prototype.constructor=d,c.exports=d,d.prototype.applyFilter=function(a,b,c){var d=a.filterManager.getRenderTarget(!0);this.defaultFilter.applyFilter(a,b,c),this.blurXFilter.applyFilter(a,b,d),a.blendModeManager.setBlendMode(g.BLEND_MODES.SCREEN),this.blurYFilter.applyFilter(a,d,c),a.blendModeManager.setBlendMode(g.BLEND_MODES.NORMAL),a.filterManager.returnRenderTarget(d)},Object.defineProperties(d.prototype,{blur:{get:function(){return this.blurXFilter.blur},set:function(a){this.blurXFilter.blur=this.blurYFilter.blur=a}},blurX:{get:function(){return this.blurXFilter.blur},set:function(a){this.blurXFilter.blur=a}},blurY:{get:function(){return this.blurYFilter.blur},set:function(a){this.blurYFilter.blur=a}}}),e.define=f,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/filters/ascii/AsciiFilter",["npm:pixi.js@3.0.8/src/core/index","github:jspm/nodelibs-fs@0.1.2"],!0,function(a,b,c){function d(){h.AbstractFilter.call(this,null,i.readFileSync(g+"/ascii.frag","utf8"),{dimensions:{type:"4fv",value:new Float32Array([0,0,0,0])},pixelSize:{type:"1f",value:8}})}var e=this,f=e.define;e.define=void 0;var g=(c.id,c.id.split("/").splice(0,c.id.split("/").length-1).join("/")),h=a("npm:pixi.js@3.0.8/src/core/index"),i=a("github:jspm/nodelibs-fs@0.1.2");return d.prototype=Object.create(h.AbstractFilter.prototype),d.prototype.constructor=d,c.exports=d,Object.defineProperties(d.prototype,{size:{get:function(){return this.uniforms.pixelSize.value},set:function(a){this.uniforms.pixelSize.value=a}}}),e.define=f,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/filters/index",["npm:pixi.js@3.0.8/src/filters/ascii/AsciiFilter","npm:pixi.js@3.0.8/src/filters/bloom/BloomFilter","npm:pixi.js@3.0.8/src/filters/blur/BlurFilter","npm:pixi.js@3.0.8/src/filters/blur/BlurXFilter","npm:pixi.js@3.0.8/src/filters/blur/BlurYFilter","npm:pixi.js@3.0.8/src/filters/blur/BlurDirFilter","npm:pixi.js@3.0.8/src/filters/color/ColorMatrixFilter","npm:pixi.js@3.0.8/src/filters/color/ColorStepFilter","npm:pixi.js@3.0.8/src/filters/convolution/ConvolutionFilter","npm:pixi.js@3.0.8/src/filters/crosshatch/CrossHatchFilter","npm:pixi.js@3.0.8/src/filters/displacement/DisplacementFilter","npm:pixi.js@3.0.8/src/filters/dot/DotScreenFilter","npm:pixi.js@3.0.8/src/filters/gray/GrayFilter","npm:pixi.js@3.0.8/src/filters/dropshadow/DropShadowFilter","npm:pixi.js@3.0.8/src/filters/invert/InvertFilter","npm:pixi.js@3.0.8/src/filters/noise/NoiseFilter","npm:pixi.js@3.0.8/src/filters/pixelate/PixelateFilter","npm:pixi.js@3.0.8/src/filters/rgb/RGBSplitFilter","npm:pixi.js@3.0.8/src/filters/shockwave/ShockwaveFilter","npm:pixi.js@3.0.8/src/filters/sepia/SepiaFilter","npm:pixi.js@3.0.8/src/filters/blur/SmartBlurFilter","npm:pixi.js@3.0.8/src/filters/tiltshift/TiltShiftFilter","npm:pixi.js@3.0.8/src/filters/tiltshift/TiltShiftXFilter","npm:pixi.js@3.0.8/src/filters/tiltshift/TiltShiftYFilter","npm:pixi.js@3.0.8/src/filters/twist/TwistFilter"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,c.exports={AsciiFilter:a("npm:pixi.js@3.0.8/src/filters/ascii/AsciiFilter"),BloomFilter:a("npm:pixi.js@3.0.8/src/filters/bloom/BloomFilter"),BlurFilter:a("npm:pixi.js@3.0.8/src/filters/blur/BlurFilter"),BlurXFilter:a("npm:pixi.js@3.0.8/src/filters/blur/BlurXFilter"),BlurYFilter:a("npm:pixi.js@3.0.8/src/filters/blur/BlurYFilter"),BlurDirFilter:a("npm:pixi.js@3.0.8/src/filters/blur/BlurDirFilter"),ColorMatrixFilter:a("npm:pixi.js@3.0.8/src/filters/color/ColorMatrixFilter"),ColorStepFilter:a("npm:pixi.js@3.0.8/src/filters/color/ColorStepFilter"),ConvolutionFilter:a("npm:pixi.js@3.0.8/src/filters/convolution/ConvolutionFilter"),CrossHatchFilter:a("npm:pixi.js@3.0.8/src/filters/crosshatch/CrossHatchFilter"),DisplacementFilter:a("npm:pixi.js@3.0.8/src/filters/displacement/DisplacementFilter"),DotScreenFilter:a("npm:pixi.js@3.0.8/src/filters/dot/DotScreenFilter"),GrayFilter:a("npm:pixi.js@3.0.8/src/filters/gray/GrayFilter"),DropShadowFilter:a("npm:pixi.js@3.0.8/src/filters/dropshadow/DropShadowFilter"),InvertFilter:a("npm:pixi.js@3.0.8/src/filters/invert/InvertFilter"),NoiseFilter:a("npm:pixi.js@3.0.8/src/filters/noise/NoiseFilter"),PixelateFilter:a("npm:pixi.js@3.0.8/src/filters/pixelate/PixelateFilter"),RGBSplitFilter:a("npm:pixi.js@3.0.8/src/filters/rgb/RGBSplitFilter"),ShockwaveFilter:a("npm:pixi.js@3.0.8/src/filters/shockwave/ShockwaveFilter"),SepiaFilter:a("npm:pixi.js@3.0.8/src/filters/sepia/SepiaFilter"),SmartBlurFilter:a("npm:pixi.js@3.0.8/src/filters/blur/SmartBlurFilter"),TiltShiftFilter:a("npm:pixi.js@3.0.8/src/filters/tiltshift/TiltShiftFilter"),TiltShiftXFilter:a("npm:pixi.js@3.0.8/src/filters/tiltshift/TiltShiftXFilter"),TiltShiftYFilter:a("npm:pixi.js@3.0.8/src/filters/tiltshift/TiltShiftYFilter"),TwistFilter:a("npm:pixi.js@3.0.8/src/filters/twist/TwistFilter")},d.define=e,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/extras/BitmapText",["npm:pixi.js@3.0.8/src/core/index"],!0,function(a,b,c){function d(a,b){g.Container.call(this),b=b||{},this.textWidth=0,this.textHeight=0,this._glyphs=[],this._font={tint:void 0!==b.tint?b.tint:16777215,align:b.align||"left",name:null,size:0},this.font=b.font,this._text=a,this.maxWidth=0,this.maxLineHeight=0,this.dirty=!1,this.updateText()}var e=this,f=e.define;e.define=void 0;var g=a("npm:pixi.js@3.0.8/src/core/index");return d.prototype=Object.create(g.Container.prototype),d.prototype.constructor=d,c.exports=d,Object.defineProperties(d.prototype,{tint:{get:function(){return this._font.tint},set:function(a){this._font.tint="number"==typeof a&&a>=0?a:16777215,this.dirty=!0}},align:{get:function(){return this._font.align},set:function(a){this._font.align=a||"left",this.dirty=!0}},font:{get:function(){return this._font},set:function(a){a&&("string"==typeof a?(a=a.split(" "),this._font.name=1===a.length?a[0]:a.slice(1).join(" "),this._font.size=a.length>=2?parseInt(a[0],10):d.fonts[this._font.name].size):(this._font.name=a.name,this._font.size="number"==typeof a.size?a.size:parseInt(a.size,10)),this.dirty=!0)}},text:{get:function(){return this._text},set:function(a){a=a.toString()||" ",this._text!==a&&(this._text=a,this.dirty=!0)}}}),d.prototype.updateText=function(){for(var a=d.fonts[this._font.name],b=new g.Point,c=null,e=[],f=0,h=0,i=[],j=0,k=this._font.size/a.size,l=-1,m=0,n=0;n<this.text.length;n++){var o=this.text.charCodeAt(n);if(l=/(\s)/.test(this.text.charAt(n))?n:l,/(?:\r\n|\r|\n)/.test(this.text.charAt(n)))i.push(f),h=Math.max(h,f),j++,b.x=0,b.y+=a.lineHeight,c=null;else if(-1!==l&&this.maxWidth>0&&b.x*k>this.maxWidth)e.splice(l,n-l),n=l,l=-1,i.push(f),h=Math.max(h,f),j++,b.x=0,b.y+=a.lineHeight,c=null;else{var p=a.chars[o];p&&(c&&p.kerning[c]&&(b.x+=p.kerning[c]),e.push({texture:p.texture,line:j,charCode:o,position:new g.Point(b.x+p.xOffset,b.y+p.yOffset)}),f=b.x+(p.texture.width+p.xOffset),b.x+=p.xAdvance,m=Math.max(m,p.yOffset+p.texture.height),c=o)}}i.push(f),h=Math.max(h,f);var q=[];for(n=0;j>=n;n++){var r=0;"right"===this._font.align?r=h-i[n]:"center"===this._font.align&&(r=(h-i[n])/2),q.push(r)}var s=e.length,t=this.tint;for(n=0;s>n;n++){var u=this._glyphs[n];u?u.texture=e[n].texture:(u=new g.Sprite(e[n].texture),this._glyphs.push(u)),u.position.x=(e[n].position.x+q[e[n].line])*k,u.position.y=e[n].position.y*k,u.scale.x=u.scale.y=k,u.tint=t,u.parent||this.addChild(u)}for(n=s;n<this._glyphs.length;++n)this.removeChild(this._glyphs[n]);this.textWidth=h*k,this.textHeight=(b.y+a.lineHeight)*k,this.maxLineHeight=m*k},d.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},d.prototype.getLocalBounds=function(){return this.validate(),g.Container.prototype.getLocalBounds.call(this)},d.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},d.fonts={},e.define=f,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/extras/TilingSprite",["npm:pixi.js@3.0.8/src/core/index","npm:pixi.js@3.0.8/src/core/renderers/canvas/utils/CanvasTinter"],!0,function(a,b,c){function d(a,b,c){g.Sprite.call(this,a),this.tileScale=new g.Point(1,1),this.tilePosition=new g.Point(0,0),this._width=b||100,this._height=c||100,this._uvs=new g.TextureUvs,this._canvasPattern=null,this.shader=new g.AbstractFilter(["precision lowp float;","attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute vec4 aColor;","uniform mat3 projectionMatrix;","uniform vec4 uFrame;","uniform vec4 uTransform;","varying vec2 vTextureCoord;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vec2 coord = aTextureCoord;","   coord -= uTransform.xy;","   coord /= uTransform.zw;","   vTextureCoord = coord;","   vColor = vec4(aColor.rgb * aColor.a, aColor.a);","}"].join("\n"),["precision lowp float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","uniform vec4 uFrame;","uniform vec2 uPixelSize;","void main(void){","   vec2 coord = mod(vTextureCoord, uFrame.zw);","   coord = clamp(coord, uPixelSize, uFrame.zw - uPixelSize);","   coord += uFrame.xy;","   gl_FragColor =  texture2D(uSampler, coord) * vColor ;","}"].join("\n"),{uFrame:{type:"4fv",value:[0,0,1,1]},uTransform:{type:"4fv",value:[0,0,1,1]},uPixelSize:{type:"2fv",value:[1,1]}})}var e=this,f=e.define;e.define=void 0;var g=a("npm:pixi.js@3.0.8/src/core/index"),h=new g.Point,i=a("npm:pixi.js@3.0.8/src/core/renderers/canvas/utils/CanvasTinter");return d.prototype=Object.create(g.Sprite.prototype),d.prototype.constructor=d,c.exports=d,Object.defineProperties(d.prototype,{width:{get:function(){return this._width},set:function(a){this._width=a}},height:{get:function(){return this._height},set:function(a){this._height=a}}}),d.prototype._onTextureUpdate=function(){},d.prototype._renderWebGL=function(a){var b=this._texture;if(b&&b._uvs){var c=b._uvs,d=b._frame.width,e=b._frame.height,f=b.baseTexture.width,g=b.baseTexture.height;b._uvs=this._uvs,b._frame.width=this.width,b._frame.height=this.height,this.shader.uniforms.uPixelSize.value[0]=1/f,this.shader.uniforms.uPixelSize.value[1]=1/g,this.shader.uniforms.uFrame.value[0]=c.x0,this.shader.uniforms.uFrame.value[1]=c.y0,this.shader.uniforms.uFrame.value[2]=c.x1-c.x0,this.shader.uniforms.uFrame.value[3]=c.y2-c.y0,this.shader.uniforms.uTransform.value[0]=this.tilePosition.x%(d*this.tileScale.x)/this._width,this.shader.uniforms.uTransform.value[1]=this.tilePosition.y%(e*this.tileScale.y)/this._height,this.shader.uniforms.uTransform.value[2]=f/this._width*this.tileScale.x,this.shader.uniforms.uTransform.value[3]=g/this._height*this.tileScale.y,a.setObjectRenderer(a.plugins.sprite),a.plugins.sprite.render(this),b._uvs=c,b._frame.width=d,b._frame.height=e}},d.prototype._renderCanvas=function(a){var b=this._texture;if(b.baseTexture.hasLoaded){var c=a.context,d=this.worldTransform,e=a.resolution,f=b.baseTexture,h=this.tilePosition.x/this.tileScale.x%b._frame.width,j=this.tilePosition.y/this.tileScale.y%b._frame.height;if(!this._canvasPattern){var k=new g.CanvasBuffer(b._frame.width,b._frame.height);16777215!==this.tint?(this.cachedTint!==this.tint&&(this.cachedTint=this.tint,this.tintedTexture=i.getTintedTexture(this,this.tint)),k.context.drawImage(this.tintedTexture,0,0)):k.context.drawImage(f.source,-b._frame.x,-b._frame.y),this._canvasPattern=k.context.createPattern(k.canvas,"repeat")}c.globalAlpha=this.worldAlpha,c.setTransform(d.a*e,d.b*e,d.c*e,d.d*e,d.tx*e,d.ty*e),c.scale(this.tileScale.x,this.tileScale.y),c.translate(h+this.anchor.x*-this._width,j+this.anchor.y*-this._height);var l=a.blendModes[this.blendMode];l!==a.context.globalCompositeOperation&&(c.globalCompositeOperation=l),c.fillStyle=this._canvasPattern,c.fillRect(-h,-j,this._width/this.tileScale.x,this._height/this.tileScale.y)}},d.prototype.getBounds=function(){var a,b,c,d,e=this._width,f=this._height,g=e*(1-this.anchor.x),h=e*-this.anchor.x,i=f*(1-this.anchor.y),j=f*-this.anchor.y,k=this.worldTransform,l=k.a,m=k.b,n=k.c,o=k.d,p=k.tx,q=k.ty,r=l*h+n*j+p,s=o*j+m*h+q,t=l*g+n*j+p,u=o*j+m*g+q,v=l*g+n*i+p,w=o*i+m*g+q,x=l*h+n*i+p,y=o*i+m*h+q;a=r,a=a>t?t:a,a=a>v?v:a,a=a>x?x:a,c=s,c=c>u?u:c,c=c>w?w:c,c=c>y?y:c,b=r,b=t>b?t:b,b=v>b?v:b,b=x>b?x:b,d=s,d=u>d?u:d,d=w>d?w:d,d=y>d?y:d;var z=this._bounds;return z.x=a,z.width=b-a,z.y=c,z.height=d-c,this._currentBounds=z,z},d.prototype.containsPoint=function(a){this.worldTransform.applyInverse(a,h);var b,c=this._width,d=this._height,e=-c*this.anchor.x;return h.x>e&&h.x<e+c&&(b=-d*this.anchor.y,h.y>b&&h.y<b+d)?!0:!1},d.prototype.destroy=function(){g.Sprite.prototype.destroy.call(this),this.tileScale=null,this._tileScaleOffset=null,this.tilePosition=null,this._uvs=null},d.fromFrame=function(a,b,c){var e=g.utils.TextureCache[a];if(!e)throw new Error('The frameId "'+a+'" does not exist in the texture cache '+this);return new d(e,b,c)},d.fromImage=function(a,b,c,e,f){return new d(g.Texture.fromImage(a,e,f),b,c)},e.define=f,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/extras/MovieClip",["npm:pixi.js@3.0.8/src/core/index"],!0,function(a,b,c){function d(a){g.Sprite.call(this,a[0]instanceof g.Texture?a[0]:a[0].texture),this._textures=null,this._durations=null,this.textures=a,this.animationSpeed=1,this.loop=!0,this.onComplete=null,this._currentTime=0,this.playing=!1}var e=this,f=e.define;e.define=void 0;var g=a("npm:pixi.js@3.0.8/src/core/index");return d.prototype=Object.create(g.Sprite.prototype),d.prototype.constructor=d,c.exports=d,Object.defineProperties(d.prototype,{totalFrames:{get:function(){return this._textures.length}},textures:{get:function(){return this._textures},set:function(a){if(a[0]instanceof g.Texture)this._textures=a,this._durations=null;else{this._textures=[],this._durations=[];for(var b=0;b<a.length;b++)this._textures.push(a[b].texture),this._durations.push(a[b].time)}}},currentFrame:{get:function(){var a=Math.floor(this._currentTime)%this._textures.length;return 0>a&&(a+=this._textures.length),a}}}),d.prototype.stop=function(){this.playing&&(this.playing=!1,g.ticker.shared.remove(this.update,this))},d.prototype.play=function(){this.playing||(this.playing=!0,g.ticker.shared.add(this.update,this))},d.prototype.gotoAndStop=function(a){this.stop(),this._currentTime=a,this._texture=this._textures[this.currentFrame]},d.prototype.gotoAndPlay=function(a){this._currentTime=a,this.play()},d.prototype.update=function(a){var b=this.animationSpeed*a;if(null!==this._durations){var c=this._currentTime%1*this._durations[this.currentFrame];for(c+=b/60*1e3;0>c;)this._currentTime--,c+=this._durations[this.currentFrame];var d=Math.sign(this.animationSpeed*a);for(this._currentTime=Math.floor(this._currentTime);c>=this._durations[this.currentFrame];)c-=this._durations[this.currentFrame]*d,this._currentTime+=d;this._currentTime+=c/this._durations[this.currentFrame]}else this._currentTime+=b;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):this._texture=this._textures[this.currentFrame]},d.prototype.destroy=function(){this.stop(),g.Sprite.prototype.destroy.call(this)},d.fromFrames=function(a){for(var b=[],c=0;c<a.length;++c)b.push(new g.Texture.fromFrame(a[c]));return new d(b)},d.fromImages=function(a){for(var b=[],c=0;c<a.length;++c)b.push(new g.Texture.fromImage(a[c]));return new d(b)},e.define=f,c.exports;
}),System.registerDynamic("npm:pixi.js@3.0.8/src/extras/getGlobalPosition",["npm:pixi.js@3.0.8/src/core/index"],!0,function(a,b,c){var d=this,e=d.define;d.define=void 0;var f=a("npm:pixi.js@3.0.8/src/core/index");return f.DisplayObject.prototype.getGlobalPosition=function(a){return a=a||new f.Point,this.parent?(this.displayObjectUpdateTransform(),a.x=this.worldTransform.tx,a.y=this.worldTransform.ty):(a.x=this.position.x,a.y=this.position.y),a},d.define=e,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/extras/getChildByName",["npm:pixi.js@3.0.8/src/core/index"],!0,function(a,b,c){var d=this,e=d.define;d.define=void 0;var f=a("npm:pixi.js@3.0.8/src/core/index");return f.DisplayObject.prototype.name=null,f.Container.prototype.getChildByName=function(a){for(var b=0;b<this.children.length;b++)if(this.children[b].name===a)return this.children[b];return null},d.define=e,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/extras/cacheAsBitmap",["npm:pixi.js@3.0.8/src/core/index"],!0,function(a,b,c){var d=this,e=d.define;d.define=void 0;var f=a("npm:pixi.js@3.0.8/src/core/index"),g=f.DisplayObject,h=new f.Matrix;return g.prototype._cacheAsBitmap=!1,g.prototype._originalRenderWebGL=null,g.prototype._originalRenderCanvas=null,g.prototype._originalUpdateTransform=null,g.prototype._originalHitTest=null,g.prototype._originalDestroy=null,g.prototype._cachedSprite=null,Object.defineProperties(g.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(a){this._cacheAsBitmap!==a&&(this._cacheAsBitmap=a,a?(this._originalRenderWebGL=this.renderWebGL,this._originalRenderCanvas=this.renderCanvas,this._originalUpdateTransform=this.updateTransform,this._originalGetBounds=this.getBounds,this._originalDestroy=this.destroy,this._originalContainsPoint=this.containsPoint,this.renderWebGL=this._renderCachedWebGL,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(this._cachedSprite&&this._destroyCachedDisplayObject(),this.renderWebGL=this._originalRenderWebGL,this.renderCanvas=this._originalRenderCanvas,this.getBounds=this._originalGetBounds,this.destroy=this._originalDestroy,this.updateTransform=this._originalUpdateTransform,this.containsPoint=this._originalContainsPoint))}}}),g.prototype._renderCachedWebGL=function(a){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(a),this._cachedSprite.worldAlpha=this.worldAlpha,a.setObjectRenderer(a.plugins.sprite),a.plugins.sprite.render(this._cachedSprite))},g.prototype._initCachedDisplayObject=function(a){if(!this._cachedSprite){a.currentRenderer.flush();var b=this.getLocalBounds().clone();if(this._filters){var c=this._filters[0].padding;b.x-=c,b.y-=c,b.width+=2*c,b.height+=2*c}var d=a.currentRenderTarget,e=a.filterManager.filterStack,g=new f.RenderTexture(a,0|b.width,0|b.height),i=h;i.tx=-b.x,i.ty=-b.y,this.renderWebGL=this._originalRenderWebGL,g.render(this,i,!0,!0),a.setRenderTarget(d),a.filterManager.filterStack=e,this.renderWebGL=this._renderCachedWebGL,this.updateTransform=this.displayObjectUpdateTransform,this.getBounds=this._getCachedBounds,this._cachedSprite=new f.Sprite(g),this._cachedSprite.worldTransform=this.worldTransform,this._cachedSprite.anchor.x=-(b.x/b.width),this._cachedSprite.anchor.y=-(b.y/b.height),this.updateTransform(),this.containsPoint=this._cachedSprite.containsPoint.bind(this._cachedSprite)}},g.prototype._renderCachedCanvas=function(a){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(a),this._cachedSprite.worldAlpha=this.worldAlpha,this._cachedSprite.renderCanvas(a))},g.prototype._initCachedDisplayObjectCanvas=function(a){if(!this._cachedSprite){var b=this.getLocalBounds(),c=a.context,d=new f.RenderTexture(a,0|b.width,0|b.height),e=h;e.tx=-b.x,e.ty=-b.y,this.renderCanvas=this._originalRenderCanvas,d.render(this,e,!0),a.context=c,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.getBounds=this._getCachedBounds,this._cachedSprite=new f.Sprite(d),this._cachedSprite.worldTransform=this.worldTransform,this._cachedSprite.anchor.x=-(b.x/b.width),this._cachedSprite.anchor.y=-(b.y/b.height),this.updateTransform(),this.containsPoint=this._cachedSprite.containsPoint.bind(this._cachedSprite)}},g.prototype._getCachedBounds=function(){return this._cachedSprite._currentBounds=null,this._cachedSprite.getBounds()},g.prototype._destroyCachedDisplayObject=function(){this._cachedSprite._texture.destroy(),this._cachedSprite=null},g.prototype._cacheAsBitmapDestroy=function(){this.cacheAsBitmap=!1,this._originalDestroy()},d.define=e,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/extras/index",["npm:pixi.js@3.0.8/src/extras/cacheAsBitmap","npm:pixi.js@3.0.8/src/extras/getChildByName","npm:pixi.js@3.0.8/src/extras/getGlobalPosition","npm:pixi.js@3.0.8/src/extras/MovieClip","npm:pixi.js@3.0.8/src/extras/TilingSprite","npm:pixi.js@3.0.8/src/extras/BitmapText"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,a("npm:pixi.js@3.0.8/src/extras/cacheAsBitmap"),a("npm:pixi.js@3.0.8/src/extras/getChildByName"),a("npm:pixi.js@3.0.8/src/extras/getGlobalPosition"),c.exports={MovieClip:a("npm:pixi.js@3.0.8/src/extras/MovieClip"),TilingSprite:a("npm:pixi.js@3.0.8/src/extras/TilingSprite"),BitmapText:a("npm:pixi.js@3.0.8/src/extras/BitmapText")},d.define=e,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/core/renderers/canvas/utils/CanvasMaskManager",["npm:pixi.js@3.0.8/src/core/renderers/canvas/utils/CanvasGraphics"],!0,function(a,b,c){function d(){}var e=this,f=e.define;e.define=void 0;var g=a("npm:pixi.js@3.0.8/src/core/renderers/canvas/utils/CanvasGraphics");return d.prototype.constructor=d,c.exports=d,d.prototype.pushMask=function(a,b){b.context.save();var c=a.alpha,d=a.worldTransform,e=b.resolution;b.context.setTransform(d.a*e,d.b*e,d.c*e,d.d*e,d.tx*e,d.ty*e),a.texture||(g.renderGraphicsMask(a,b.context),b.context.clip()),a.worldAlpha=c},d.prototype.popMask=function(a){a.context.restore()},d.prototype.destroy=function(){},e.define=f,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/core/renderers/canvas/CanvasRenderer",["npm:pixi.js@3.0.8/src/core/renderers/SystemRenderer","npm:pixi.js@3.0.8/src/core/renderers/canvas/utils/CanvasMaskManager","npm:pixi.js@3.0.8/src/core/utils/index","npm:pixi.js@3.0.8/src/core/math/index","npm:pixi.js@3.0.8/src/core/const"],!0,function(a,b,c){function d(a,b,c){c=c||{},g.call(this,"Canvas",a,b,c),this.type=k.RENDERER_TYPE.CANVAS,this.context=this.view.getContext("2d",{alpha:this.transparent}),this.refresh=!0,this.maskManager=new h,this.smoothProperty="imageSmoothingEnabled",this.context.imageSmoothingEnabled||(this.context.webkitImageSmoothingEnabled?this.smoothProperty="webkitImageSmoothingEnabled":this.context.mozImageSmoothingEnabled?this.smoothProperty="mozImageSmoothingEnabled":this.context.oImageSmoothingEnabled?this.smoothProperty="oImageSmoothingEnabled":this.context.msImageSmoothingEnabled&&(this.smoothProperty="msImageSmoothingEnabled")),this.initPlugins(),this._mapBlendModes(),this._tempDisplayObjectParent={worldTransform:new j.Matrix,worldAlpha:1},this.resize(a,b)}var e=this,f=e.define;e.define=void 0;var g=a("npm:pixi.js@3.0.8/src/core/renderers/SystemRenderer"),h=a("npm:pixi.js@3.0.8/src/core/renderers/canvas/utils/CanvasMaskManager"),i=a("npm:pixi.js@3.0.8/src/core/utils/index"),j=a("npm:pixi.js@3.0.8/src/core/math/index"),k=a("npm:pixi.js@3.0.8/src/core/const");return d.prototype=Object.create(g.prototype),d.prototype.constructor=d,c.exports=d,i.pluginTarget.mixin(d),d.prototype.render=function(a){var b=a.parent;this._lastObjectRendered=a,a.parent=this._tempDisplayObjectParent,a.updateTransform(),a.parent=b,this.context.setTransform(1,0,0,1,0,0),this.context.globalAlpha=1,this.context.globalCompositeOperation=this.blendModes[k.BLEND_MODES.NORMAL],navigator.isCocoonJS&&this.view.screencanvas&&(this.context.fillStyle="black",this.context.clear()),this.clearBeforeRender&&(this.transparent?this.context.clearRect(0,0,this.width,this.height):(this.context.fillStyle=this._backgroundColorString,this.context.fillRect(0,0,this.width,this.height))),this.renderDisplayObject(a,this.context)},d.prototype.destroy=function(a){this.destroyPlugins(),g.prototype.destroy.call(this,a),this.context=null,this.refresh=!0,this.maskManager.destroy(),this.maskManager=null,this.smoothProperty=null},d.prototype.renderDisplayObject=function(a,b){var c=this.context;this.context=b,a.renderCanvas(this),this.context=c},d.prototype.resize=function(a,b){g.prototype.resize.call(this,a,b),this.smoothProperty&&(this.context[this.smoothProperty]=k.SCALE_MODES.DEFAULT===k.SCALE_MODES.LINEAR)},d.prototype._mapBlendModes=function(){this.blendModes||(this.blendModes={},i.canUseNewCanvasBlendModes()?(this.blendModes[k.BLEND_MODES.NORMAL]="source-over",this.blendModes[k.BLEND_MODES.ADD]="lighter",this.blendModes[k.BLEND_MODES.MULTIPLY]="multiply",this.blendModes[k.BLEND_MODES.SCREEN]="screen",this.blendModes[k.BLEND_MODES.OVERLAY]="overlay",this.blendModes[k.BLEND_MODES.DARKEN]="darken",this.blendModes[k.BLEND_MODES.LIGHTEN]="lighten",this.blendModes[k.BLEND_MODES.COLOR_DODGE]="color-dodge",this.blendModes[k.BLEND_MODES.COLOR_BURN]="color-burn",this.blendModes[k.BLEND_MODES.HARD_LIGHT]="hard-light",this.blendModes[k.BLEND_MODES.SOFT_LIGHT]="soft-light",this.blendModes[k.BLEND_MODES.DIFFERENCE]="difference",this.blendModes[k.BLEND_MODES.EXCLUSION]="exclusion",this.blendModes[k.BLEND_MODES.HUE]="hue",this.blendModes[k.BLEND_MODES.SATURATION]="saturate",this.blendModes[k.BLEND_MODES.COLOR]="color",this.blendModes[k.BLEND_MODES.LUMINOSITY]="luminosity"):(this.blendModes[k.BLEND_MODES.NORMAL]="source-over",this.blendModes[k.BLEND_MODES.ADD]="lighter",this.blendModes[k.BLEND_MODES.MULTIPLY]="source-over",this.blendModes[k.BLEND_MODES.SCREEN]="source-over",this.blendModes[k.BLEND_MODES.OVERLAY]="source-over",this.blendModes[k.BLEND_MODES.DARKEN]="source-over",this.blendModes[k.BLEND_MODES.LIGHTEN]="source-over",this.blendModes[k.BLEND_MODES.COLOR_DODGE]="source-over",this.blendModes[k.BLEND_MODES.COLOR_BURN]="source-over",this.blendModes[k.BLEND_MODES.HARD_LIGHT]="source-over",this.blendModes[k.BLEND_MODES.SOFT_LIGHT]="source-over",this.blendModes[k.BLEND_MODES.DIFFERENCE]="source-over",this.blendModes[k.BLEND_MODES.EXCLUSION]="source-over",this.blendModes[k.BLEND_MODES.HUE]="source-over",this.blendModes[k.BLEND_MODES.SATURATION]="source-over",this.blendModes[k.BLEND_MODES.COLOR]="source-over",this.blendModes[k.BLEND_MODES.LUMINOSITY]="source-over"))},e.define=f,c.exports}),System.registerDynamic("npm:earcut@2.0.7/src/earcut",["github:jspm/nodelibs-process@0.1.2"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,function(a){"use strict";function b(a,b,c){c=c||2;var e=b&&b.length,g=e?b[0]*c:a.length,h=d(a,0,g,c,!0),i=[];if(!h)return i;var j,l,m,n,o,p,q;if(e&&(h=k(a,b,h,c)),a.length>80*c){j=m=a[0],l=n=a[1];for(var r=c;g>r;r+=c)o=a[r],p=a[r+1],j>o&&(j=o),l>p&&(l=p),o>m&&(m=o),p>n&&(n=p);q=Math.max(m-j,n-l)}return f(h,i,c,j,l,q),i}function d(a,b,c,d,e){var f,g,h,i=0;for(f=b,g=c-d;c>f;f+=d)i+=(a[g]-a[f])*(a[f+1]+a[g+1]),g=f;if(e===i>0)for(f=b;c>f;f+=d)h=B(f,a[f],a[f+1],h);else for(f=c-d;f>=b;f-=d)h=B(f,a[f],a[f+1],h);return h}function e(a,b){if(!a)return a;b||(b=a);var c,d=a;do if(c=!1,d.steiner||!v(d,d.next)&&0!==u(d.prev,d,d.next))d=d.next;else{if(C(d),d=b=d.prev,d===d.next)return null;c=!0}while(c||d!==b);return b}function f(a,b,c,d,k,l,m){if(a){!m&&l&&o(a,d,k,l);for(var n,p,q=a;a.prev!==a.next;)if(n=a.prev,p=a.next,l?h(a,d,k,l):g(a))b.push(n.i/c),b.push(a.i/c),b.push(p.i/c),C(a),a=p.next,q=p.next;else if(a=p,a===q){m?1===m?(a=i(a,b,c),f(a,b,c,d,k,l,2)):2===m&&j(a,b,c,d,k,l):f(e(a),b,c,d,k,l,1);break}}}function g(a){var b=a.prev,c=a,d=a.next;if(u(b,c,d)>=0)return!1;for(var e=a.next.next;e!==a.prev;){if(s(b.x,b.y,c.x,c.y,d.x,d.y,e.x,e.y)&&u(e.prev,e,e.next)>=0)return!1;e=e.next}return!0}function h(a,b,c,d){var e=a.prev,f=a,g=a.next;if(u(e,f,g)>=0)return!1;for(var h=e.x<f.x?e.x<g.x?e.x:g.x:f.x<g.x?f.x:g.x,i=e.y<f.y?e.y<g.y?e.y:g.y:f.y<g.y?f.y:g.y,j=e.x>f.x?e.x>g.x?e.x:g.x:f.x>g.x?f.x:g.x,k=e.y>f.y?e.y>g.y?e.y:g.y:f.y>g.y?f.y:g.y,l=q(h,i,b,c,d),m=q(j,k,b,c,d),n=a.nextZ;n&&n.z<=m;){if(n!==a.prev&&n!==a.next&&s(e.x,e.y,f.x,f.y,g.x,g.y,n.x,n.y)&&u(n.prev,n,n.next)>=0)return!1;n=n.nextZ}for(n=a.prevZ;n&&n.z>=l;){if(n!==a.prev&&n!==a.next&&s(e.x,e.y,f.x,f.y,g.x,g.y,n.x,n.y)&&u(n.prev,n,n.next)>=0)return!1;n=n.prevZ}return!0}function i(a,b,c){var d=a;do{var e=d.prev,f=d.next.next;w(e,d,d.next,f)&&y(e,f)&&y(f,e)&&(b.push(e.i/c),b.push(d.i/c),b.push(f.i/c),C(d),C(d.next),d=a=f),d=d.next}while(d!==a);return d}function j(a,b,c,d,g,h){var i=a;do{for(var j=i.next.next;j!==i.prev;){if(i.i!==j.i&&t(i,j)){var k=A(i,j);return i=e(i,i.next),k=e(k,k.next),f(i,b,c,d,g,h),void f(k,b,c,d,g,h)}j=j.next}i=i.next}while(i!==a)}function k(a,b,c,f){var g,h,i,j,k,n=[];for(g=0,h=b.length;h>g;g++)i=b[g]*f,j=h-1>g?b[g+1]*f:a.length,k=d(a,i,j,f,!1),k===k.next&&(k.steiner=!0),n.push(r(k));for(n.sort(l),g=0;g<n.length;g++)m(n[g],c),c=e(c,c.next);return c}function l(a,b){return a.x-b.x}function m(a,b){if(b=n(a,b)){var c=A(b,a);e(c,c.next)}}function n(a,b){var c,d=b,e=a.x,f=a.y,g=-(1/0);do{if(f<=d.y&&f>=d.next.y){var h=d.x+(f-d.y)*(d.next.x-d.x)/(d.next.y-d.y);e>=h&&h>g&&(g=h,c=d.x<d.next.x?d:d.next)}d=d.next}while(d!==b);if(!c)return null;var i,j=c,k=1/0;for(d=c.next;d!==j;)e>=d.x&&d.x>=c.x&&s(f<c.y?e:g,f,c.x,c.y,f<c.y?g:e,f,d.x,d.y)&&(i=Math.abs(f-d.y)/(e-d.x),(k>i||i===k&&d.x>c.x)&&y(d,a)&&(c=d,k=i)),d=d.next;return c}function o(a,b,c,d){var e=a;do null===e.z&&(e.z=q(e.x,e.y,b,c,d)),e.prevZ=e.prev,e.nextZ=e.next,e=e.next;while(e!==a);e.prevZ.nextZ=null,e.prevZ=null,p(e)}function p(a){var b,c,d,e,f,g,h,i,j=1;do{for(c=a,a=null,f=null,g=0;c;){for(g++,d=c,h=0,b=0;j>b&&(h++,d=d.nextZ,d);b++);for(i=j;h>0||i>0&&d;)0===h?(e=d,d=d.nextZ,i--):0!==i&&d?c.z<=d.z?(e=c,c=c.nextZ,h--):(e=d,d=d.nextZ,i--):(e=c,c=c.nextZ,h--),f?f.nextZ=e:a=e,e.prevZ=f,f=e;c=d}f.nextZ=null,j*=2}while(g>1);return a}function q(a,b,c,d,e){return a=32767*(a-c)/e,b=32767*(b-d)/e,a=16711935&(a|a<<8),a=252645135&(a|a<<4),a=858993459&(a|a<<2),a=1431655765&(a|a<<1),b=16711935&(b|b<<8),b=252645135&(b|b<<4),b=858993459&(b|b<<2),b=1431655765&(b|b<<1),a|b<<1}function r(a){var b=a,c=a;do b.x<c.x&&(c=b),b=b.next;while(b!==a);return c}function s(a,b,c,d,e,f,g,h){return(e-g)*(b-h)-(a-g)*(f-h)>=0&&(a-g)*(d-h)-(c-g)*(b-h)>=0&&(c-g)*(f-h)-(e-g)*(d-h)>=0}function t(a,b){return v(a,b)||a.next.i!==b.i&&a.prev.i!==b.i&&!x(a,b)&&y(a,b)&&y(b,a)&&z(a,b)}function u(a,b,c){return(b.y-a.y)*(c.x-b.x)-(b.x-a.x)*(c.y-b.y)}function v(a,b){return a.x===b.x&&a.y===b.y}function w(a,b,c,d){return u(a,b,c)>0!=u(a,b,d)>0&&u(c,d,a)>0!=u(c,d,b)>0}function x(a,b){var c=a;do{if(c.i!==a.i&&c.next.i!==a.i&&c.i!==b.i&&c.next.i!==b.i&&w(c,c.next,a,b))return!0;c=c.next}while(c!==a);return!1}function y(a,b){return u(a.prev,a,a.next)<0?u(a,b,a.next)>=0&&u(a,a.prev,b)>=0:u(a,b,a.prev)<0||u(a,a.next,b)<0}function z(a,b){var c=a,d=!1,e=(a.x+b.x)/2,f=(a.y+b.y)/2;do c.y>f!=c.next.y>f&&e<(c.next.x-c.x)*(f-c.y)/(c.next.y-c.y)+c.x&&(d=!d),c=c.next;while(c!==a);return d}function A(a,b){var c=new D(a.i,a.x,a.y),d=new D(b.i,b.x,b.y),e=a.next,f=b.prev;return a.next=b,b.prev=a,c.next=e,e.prev=c,d.next=c,c.prev=d,f.next=d,d.prev=f,d}function B(a,b,c,d){var e=new D(a,b,c);return d?(e.next=d.next,e.prev=d,d.next.prev=e,d.next=e):(e.prev=e,e.next=e),e}function C(a){a.next.prev=a.prev,a.prev.next=a.next,a.prevZ&&(a.prevZ.nextZ=a.nextZ),a.nextZ&&(a.nextZ.prevZ=a.prevZ)}function D(a,b,c){this.i=a,this.x=b,this.y=c,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}c.exports=b}(a("github:jspm/nodelibs-process@0.1.2")),d.define=e,c.exports}),System.registerDynamic("npm:earcut@2.0.7",["npm:earcut@2.0.7/src/earcut"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,c.exports=a("npm:earcut@2.0.7/src/earcut"),d.define=e,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/core/graphics/webgl/WebGLGraphicsData",[],!0,function(a,b,c){function d(a){this.gl=a,this.color=[0,0,0],this.points=[],this.indices=[],this.buffer=a.createBuffer(),this.indexBuffer=a.createBuffer(),this.mode=1,this.alpha=1,this.dirty=!0,this.glPoints=null,this.glIndices=null}var e=this,f=e.define;return e.define=void 0,d.prototype.constructor=d,c.exports=d,d.prototype.reset=function(){this.points.length=0,this.indices.length=0},d.prototype.upload=function(){var a=this.gl;this.glPoints=new Float32Array(this.points),a.bindBuffer(a.ARRAY_BUFFER,this.buffer),a.bufferData(a.ARRAY_BUFFER,this.glPoints,a.STATIC_DRAW),this.glIndices=new Uint16Array(this.indices),a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.indexBuffer),a.bufferData(a.ELEMENT_ARRAY_BUFFER,this.glIndices,a.STATIC_DRAW),this.dirty=!1},d.prototype.destroy=function(){this.color=null,this.points=null,this.indices=null,this.gl.deleteBuffer(this.buffer),this.gl.deleteBuffer(this.indexBuffer),this.gl=null,this.buffer=null,this.indexBuffer=null,this.glPoints=null,this.glIndices=null},e.define=f,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/core/graphics/webgl/GraphicsRenderer",["npm:pixi.js@3.0.8/src/core/utils/index","npm:pixi.js@3.0.8/src/core/math/index","npm:pixi.js@3.0.8/src/core/const","npm:pixi.js@3.0.8/src/core/renderers/webgl/utils/ObjectRenderer","npm:pixi.js@3.0.8/src/core/renderers/webgl/WebGLRenderer","npm:pixi.js@3.0.8/src/core/graphics/webgl/WebGLGraphicsData","npm:earcut@2.0.7"],!0,function(a,b,c){function d(a){j.call(this,a),this.graphicsDataPool=[],this.primitiveShader=null,this.complexPrimitiveShader=null,this.maximumSimplePolySize=200}var e=this,f=e.define;e.define=void 0;var g=a("npm:pixi.js@3.0.8/src/core/utils/index"),h=a("npm:pixi.js@3.0.8/src/core/math/index"),i=a("npm:pixi.js@3.0.8/src/core/const"),j=a("npm:pixi.js@3.0.8/src/core/renderers/webgl/utils/ObjectRenderer"),k=a("npm:pixi.js@3.0.8/src/core/renderers/webgl/WebGLRenderer"),l=a("npm:pixi.js@3.0.8/src/core/graphics/webgl/WebGLGraphicsData"),m=a("npm:earcut@2.0.7");return d.prototype=Object.create(j.prototype),d.prototype.constructor=d,c.exports=d,k.registerPlugin("graphics",d),d.prototype.onContextChange=function(){},d.prototype.destroy=function(){j.prototype.destroy.call(this);for(var a=0;a<this.graphicsDataPool.length;++a)this.graphicsDataPool[a].destroy();this.graphicsDataPool=null},d.prototype.render=function(a){var b,c=this.renderer,d=c.gl,e=c.shaderManager.plugins.primitiveShader;a.dirty&&this.updateGraphics(a);var f=a._webGL[d.id];c.blendModeManager.setBlendMode(a.blendMode);for(var h=0,i=f.data.length;i>h;h++)b=f.data[h],1===f.data[h].mode?(c.stencilManager.pushStencil(a,b),d.uniform1f(c.shaderManager.complexPrimitiveShader.uniforms.alpha._location,a.worldAlpha*b.alpha),d.drawElements(d.TRIANGLE_FAN,4,d.UNSIGNED_SHORT,2*(b.indices.length-4)),c.stencilManager.popStencil(a,b)):(e=c.shaderManager.primitiveShader,c.shaderManager.setShader(e),d.uniformMatrix3fv(e.uniforms.translationMatrix._location,!1,a.worldTransform.toArray(!0)),d.uniformMatrix3fv(e.uniforms.projectionMatrix._location,!1,c.currentRenderTarget.projectionMatrix.toArray(!0)),d.uniform3fv(e.uniforms.tint._location,g.hex2rgb(a.tint)),d.uniform1f(e.uniforms.alpha._location,a.worldAlpha),d.bindBuffer(d.ARRAY_BUFFER,b.buffer),d.vertexAttribPointer(e.attributes.aVertexPosition,2,d.FLOAT,!1,24,0),d.vertexAttribPointer(e.attributes.aColor,4,d.FLOAT,!1,24,8),d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,b.indexBuffer),d.drawElements(d.TRIANGLE_STRIP,b.indices.length,d.UNSIGNED_SHORT,0)),c.drawCount++},d.prototype.updateGraphics=function(a){var b=this.renderer.gl,c=a._webGL[b.id];c||(c=a._webGL[b.id]={lastIndex:0,data:[],gl:b}),a.dirty=!1;var d;if(a.clearDirty){for(a.clearDirty=!1,d=0;d<c.data.length;d++){var e=c.data[d];e.reset(),this.graphicsDataPool.push(e)}c.data=[],c.lastIndex=0}var f;for(d=c.lastIndex;d<a.graphicsData.length;d++){var g=a.graphicsData[d];if(g.type===i.SHAPES.POLY){if(g.points=g.shape.points.slice(),g.shape.closed&&(g.points[0]!==g.points[g.points.length-2]||g.points[1]!==g.points[g.points.length-1])&&g.points.push(g.points[0],g.points[1]),g.fill&&g.points.length>=6)if(g.points.length<2*this.maximumSimplePolySize){f=this.switchMode(c,0);var h=this.buildPoly(g,f);h||(f=this.switchMode(c,1),this.buildComplexPoly(g,f))}else f=this.switchMode(c,1),this.buildComplexPoly(g,f);g.lineWidth>0&&(f=this.switchMode(c,0),this.buildLine(g,f))}else f=this.switchMode(c,0),g.type===i.SHAPES.RECT?this.buildRectangle(g,f):g.type===i.SHAPES.CIRC||g.type===i.SHAPES.ELIP?this.buildCircle(g,f):g.type===i.SHAPES.RREC&&this.buildRoundedRectangle(g,f);c.lastIndex++}for(d=0;d<c.data.length;d++)f=c.data[d],f.dirty&&f.upload()},d.prototype.switchMode=function(a,b){var c;return a.data.length?(c=a.data[a.data.length-1],(c.points.length>32e4||c.mode!==b||1===b)&&(c=this.graphicsDataPool.pop()||new l(a.gl),c.mode=b,a.data.push(c))):(c=this.graphicsDataPool.pop()||new l(a.gl),c.mode=b,a.data.push(c)),c.dirty=!0,c},d.prototype.buildRectangle=function(a,b){var c=a.shape,d=c.x,e=c.y,f=c.width,h=c.height;if(a.fill){var i=g.hex2rgb(a.fillColor),j=a.fillAlpha,k=i[0]*j,l=i[1]*j,m=i[2]*j,n=b.points,o=b.indices,p=n.length/6;n.push(d,e),n.push(k,l,m,j),n.push(d+f,e),n.push(k,l,m,j),n.push(d,e+h),n.push(k,l,m,j),n.push(d+f,e+h),n.push(k,l,m,j),o.push(p,p,p+1,p+2,p+3,p+3)}if(a.lineWidth){var q=a.points;a.points=[d,e,d+f,e,d+f,e+h,d,e+h,d,e],this.buildLine(a,b),a.points=q}},d.prototype.buildRoundedRectangle=function(a,b){var c=a.shape,d=c.x,e=c.y,f=c.width,h=c.height,i=c.radius,j=[];if(j.push(d,e+i),this.quadraticBezierCurve(d,e+h-i,d,e+h,d+i,e+h,j),this.quadraticBezierCurve(d+f-i,e+h,d+f,e+h,d+f,e+h-i,j),this.quadraticBezierCurve(d+f,e+i,d+f,e,d+f-i,e,j),this.quadraticBezierCurve(d+i,e,d,e,d,e+i+1e-10,j),a.fill){var k=g.hex2rgb(a.fillColor),l=a.fillAlpha,n=k[0]*l,o=k[1]*l,p=k[2]*l,q=b.points,r=b.indices,s=q.length/6,t=m(j,null,2),u=0;for(u=0;u<t.length;u+=3)r.push(t[u]+s),r.push(t[u]+s),r.push(t[u+1]+s),r.push(t[u+2]+s),r.push(t[u+2]+s);for(u=0;u<j.length;u++)q.push(j[u],j[++u],n,o,p,l)}if(a.lineWidth){var v=a.points;a.points=j,this.buildLine(a,b),a.points=v}},d.prototype.quadraticBezierCurve=function(a,b,c,d,e,f,g){function h(a,b,c){var d=b-a;return a+d*c}for(var i,j,k,l,m,n,o=20,p=g||[],q=0,r=0;o>=r;r++)q=r/o,i=h(a,c,q),j=h(b,d,q),k=h(c,e,q),l=h(d,f,q),m=h(i,k,q),n=h(j,l,q),p.push(m,n);return p},d.prototype.buildCircle=function(a,b){var c,d,e=a.shape,f=e.x,h=e.y;a.type===i.SHAPES.CIRC?(c=e.radius,d=e.radius):(c=e.width,d=e.height);var j=Math.floor(30*Math.sqrt(e.radius))||Math.floor(15*Math.sqrt(e.width+e.height)),k=2*Math.PI/j,l=0;if(a.fill){var m=g.hex2rgb(a.fillColor),n=a.fillAlpha,o=m[0]*n,p=m[1]*n,q=m[2]*n,r=b.points,s=b.indices,t=r.length/6;for(s.push(t),l=0;j+1>l;l++)r.push(f,h,o,p,q,n),r.push(f+Math.sin(k*l)*c,h+Math.cos(k*l)*d,o,p,q,n),s.push(t++,t++);s.push(t-1)}if(a.lineWidth){var u=a.points;for(a.points=[],l=0;j+1>l;l++)a.points.push(f+Math.sin(k*l)*c,h+Math.cos(k*l)*d);this.buildLine(a,b),a.points=u}},d.prototype.buildLine=function(a,b){var c=0,d=a.points;if(0!==d.length){var e=new h.Point(d[0],d[1]),f=new h.Point(d[d.length-2],d[d.length-1]);if(e.x===f.x&&e.y===f.y){d=d.slice(),d.pop(),d.pop(),f=new h.Point(d[d.length-2],d[d.length-1]);var i=f.x+.5*(e.x-f.x),j=f.y+.5*(e.y-f.y);d.unshift(i,j),d.push(i,j)}var k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H=b.points,I=b.indices,J=d.length/2,K=d.length,L=H.length/6,M=a.lineWidth/2,N=g.hex2rgb(a.lineColor),O=a.lineAlpha,P=N[0]*O,Q=N[1]*O,R=N[2]*O;for(m=d[0],n=d[1],o=d[2],p=d[3],s=-(n-p),t=m-o,G=Math.sqrt(s*s+t*t),s/=G,t/=G,s*=M,t*=M,H.push(m-s,n-t,P,Q,R,O),H.push(m+s,n+t,P,Q,R,O),c=1;J-1>c;c++)m=d[2*(c-1)],n=d[2*(c-1)+1],o=d[2*c],p=d[2*c+1],q=d[2*(c+1)],r=d[2*(c+1)+1],s=-(n-p),t=m-o,G=Math.sqrt(s*s+t*t),s/=G,t/=G,s*=M,t*=M,u=-(p-r),v=o-q,G=Math.sqrt(u*u+v*v),u/=G,v/=G,u*=M,v*=M,y=-t+n-(-t+p),z=-s+o-(-s+m),A=(-s+m)*(-t+p)-(-s+o)*(-t+n),B=-v+r-(-v+p),C=-u+o-(-u+q),D=(-u+q)*(-v+p)-(-u+o)*(-v+r),E=y*C-B*z,Math.abs(E)<.1?(E+=10.1,H.push(o-s,p-t,P,Q,R,O),H.push(o+s,p+t,P,Q,R,O)):(k=(z*D-C*A)/E,l=(B*A-y*D)/E,F=(k-o)*(k-o)+(l-p)+(l-p),F>19600?(w=s-u,x=t-v,G=Math.sqrt(w*w+x*x),w/=G,x/=G,w*=M,x*=M,H.push(o-w,p-x),H.push(P,Q,R,O),H.push(o+w,p+x),H.push(P,Q,R,O),H.push(o-w,p-x),H.push(P,Q,R,O),K++):(H.push(k,l),H.push(P,Q,R,O),H.push(o-(k-o),p-(l-p)),H.push(P,Q,R,O)));for(m=d[2*(J-2)],n=d[2*(J-2)+1],o=d[2*(J-1)],p=d[2*(J-1)+1],s=-(n-p),t=m-o,G=Math.sqrt(s*s+t*t),s/=G,t/=G,s*=M,t*=M,H.push(o-s,p-t),H.push(P,Q,R,O),H.push(o+s,p+t),H.push(P,Q,R,O),I.push(L),c=0;K>c;c++)I.push(L++);I.push(L-1)}},d.prototype.buildComplexPoly=function(a,b){var c=a.points.slice();if(!(c.length<6)){var d=b.indices;b.points=c,b.alpha=a.fillAlpha,b.color=g.hex2rgb(a.fillColor);for(var e,f,h=1/0,i=-(1/0),j=1/0,k=-(1/0),l=0;l<c.length;l+=2)e=c[l],f=c[l+1],h=h>e?e:h,i=e>i?e:i,j=j>f?f:j,k=f>k?f:k;c.push(h,j,i,j,i,k,h,k);var m=c.length/2;for(l=0;m>l;l++)d.push(l)}},d.prototype.buildPoly=function(a,b){var c=a.points;if(!(c.length<6)){var d=b.points,e=b.indices,f=c.length/2,h=g.hex2rgb(a.fillColor),i=a.fillAlpha,j=h[0]*i,k=h[1]*i,l=h[2]*i,n=m(c,null,2);if(!n)return!1;var o=d.length/6,p=0;for(p=0;p<n.length;p+=3)e.push(n[p]+o),e.push(n[p]+o),e.push(n[p+1]+o),e.push(n[p+2]+o),e.push(n[p+2]+o);for(p=0;f>p;p++)d.push(c[2*p],c[2*p+1],j,k,l,i);return!0}},e.define=f,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/core/graphics/GraphicsData",[],!0,function(a,b,c){function d(a,b,c,d,e,f,g){this.lineWidth=a,this.lineColor=b,this.lineAlpha=c,this._lineTint=b,this.fillColor=d,this.fillAlpha=e,this._fillTint=d,this.fill=f,this.shape=g,this.type=g.type}var e=this,f=e.define;return e.define=void 0,d.prototype.constructor=d,c.exports=d,d.prototype.clone=function(){return new d(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.shape)},d.prototype.destroy=function(){this.shape=null},e.define=f,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/core/renderers/canvas/utils/CanvasGraphics",["npm:pixi.js@3.0.8/src/core/const"],!0,function(a,b,c){var d=this,e=d.define;d.define=void 0;var f=a("npm:pixi.js@3.0.8/src/core/const"),g={};return c.exports=g,g.renderGraphics=function(a,b){var c=a.worldAlpha;a.dirty&&(this.updateGraphicsTint(a),a.dirty=!1);for(var d=0;d<a.graphicsData.length;d++){var e=a.graphicsData[d],g=e.shape,h=e._fillTint,i=e._lineTint;if(b.lineWidth=e.lineWidth,e.type===f.SHAPES.POLY){b.beginPath();var j=g.points;b.moveTo(j[0],j[1]);for(var k=1;k<j.length/2;k++)b.lineTo(j[2*k],j[2*k+1]);g.closed&&b.lineTo(j[0],j[1]),j[0]===j[j.length-2]&&j[1]===j[j.length-1]&&b.closePath(),e.fill&&(b.globalAlpha=e.fillAlpha*c,b.fillStyle="#"+("00000"+(0|h).toString(16)).substr(-6),b.fill()),e.lineWidth&&(b.globalAlpha=e.lineAlpha*c,b.strokeStyle="#"+("00000"+(0|i).toString(16)).substr(-6),b.stroke())}else if(e.type===f.SHAPES.RECT)(e.fillColor||0===e.fillColor)&&(b.globalAlpha=e.fillAlpha*c,b.fillStyle="#"+("00000"+(0|h).toString(16)).substr(-6),b.fillRect(g.x,g.y,g.width,g.height)),e.lineWidth&&(b.globalAlpha=e.lineAlpha*c,b.strokeStyle="#"+("00000"+(0|i).toString(16)).substr(-6),b.strokeRect(g.x,g.y,g.width,g.height));else if(e.type===f.SHAPES.CIRC)b.beginPath(),b.arc(g.x,g.y,g.radius,0,2*Math.PI),b.closePath(),e.fill&&(b.globalAlpha=e.fillAlpha*c,b.fillStyle="#"+("00000"+(0|h).toString(16)).substr(-6),b.fill()),e.lineWidth&&(b.globalAlpha=e.lineAlpha*c,b.strokeStyle="#"+("00000"+(0|i).toString(16)).substr(-6),b.stroke());else if(e.type===f.SHAPES.ELIP){var l=2*g.width,m=2*g.height,n=g.x-l/2,o=g.y-m/2;b.beginPath();var p=.5522848,q=l/2*p,r=m/2*p,s=n+l,t=o+m,u=n+l/2,v=o+m/2;b.moveTo(n,v),b.bezierCurveTo(n,v-r,u-q,o,u,o),b.bezierCurveTo(u+q,o,s,v-r,s,v),b.bezierCurveTo(s,v+r,u+q,t,u,t),b.bezierCurveTo(u-q,t,n,v+r,n,v),b.closePath(),e.fill&&(b.globalAlpha=e.fillAlpha*c,b.fillStyle="#"+("00000"+(0|h).toString(16)).substr(-6),b.fill()),e.lineWidth&&(b.globalAlpha=e.lineAlpha*c,b.strokeStyle="#"+("00000"+(0|i).toString(16)).substr(-6),b.stroke())}else if(e.type===f.SHAPES.RREC){var w=g.x,x=g.y,y=g.width,z=g.height,A=g.radius,B=Math.min(y,z)/2|0;A=A>B?B:A,b.beginPath(),b.moveTo(w,x+A),b.lineTo(w,x+z-A),b.quadraticCurveTo(w,x+z,w+A,x+z),b.lineTo(w+y-A,x+z),b.quadraticCurveTo(w+y,x+z,w+y,x+z-A),b.lineTo(w+y,x+A),b.quadraticCurveTo(w+y,x,w+y-A,x),b.lineTo(w+A,x),b.quadraticCurveTo(w,x,w,x+A),b.closePath(),(e.fillColor||0===e.fillColor)&&(b.globalAlpha=e.fillAlpha*c,b.fillStyle="#"+("00000"+(0|h).toString(16)).substr(-6),b.fill()),e.lineWidth&&(b.globalAlpha=e.lineAlpha*c,b.strokeStyle="#"+("00000"+(0|i).toString(16)).substr(-6),b.stroke())}}},g.renderGraphicsMask=function(a,b){var c=a.graphicsData.length;if(0!==c){b.beginPath();for(var d=0;c>d;d++){var e=a.graphicsData[d],g=e.shape;if(e.type===f.SHAPES.POLY){var h=g.points;b.moveTo(h[0],h[1]);for(var i=1;i<h.length/2;i++)b.lineTo(h[2*i],h[2*i+1]);h[0]===h[h.length-2]&&h[1]===h[h.length-1]&&b.closePath()}else if(e.type===f.SHAPES.RECT)b.rect(g.x,g.y,g.width,g.height),b.closePath();else if(e.type===f.SHAPES.CIRC)b.arc(g.x,g.y,g.radius,0,2*Math.PI),b.closePath();else if(e.type===f.SHAPES.ELIP){var j=2*g.width,k=2*g.height,l=g.x-j/2,m=g.y-k/2,n=.5522848,o=j/2*n,p=k/2*n,q=l+j,r=m+k,s=l+j/2,t=m+k/2;b.moveTo(l,t),b.bezierCurveTo(l,t-p,s-o,m,s,m),b.bezierCurveTo(s+o,m,q,t-p,q,t),b.bezierCurveTo(q,t+p,s+o,r,s,r),b.bezierCurveTo(s-o,r,l,t+p,l,t),b.closePath()}else if(e.type===f.SHAPES.RREC){var u=g.x,v=g.y,w=g.width,x=g.height,y=g.radius,z=Math.min(w,x)/2|0;y=y>z?z:y,b.moveTo(u,v+y),b.lineTo(u,v+x-y),b.quadraticCurveTo(u,v+x,u+y,v+x),b.lineTo(u+w-y,v+x),b.quadraticCurveTo(u+w,v+x,u+w,v+x-y),b.lineTo(u+w,v+y),b.quadraticCurveTo(u+w,v,u+w-y,v),b.lineTo(u+y,v),b.quadraticCurveTo(u,v,u,v+y),b.closePath()}}}},g.updateGraphicsTint=function(a){if(16777215!==a.tint||a._prevTint!==a.tint){a._prevTint=a.tint;for(var b=(a.tint>>16&255)/255,c=(a.tint>>8&255)/255,d=(255&a.tint)/255,e=0;e<a.graphicsData.length;e++){var f=a.graphicsData[e],g=0|f.fillColor,h=0|f.lineColor;f._fillTint=((g>>16&255)/255*b*255<<16)+((g>>8&255)/255*c*255<<8)+(255&g)/255*d*255,f._lineTint=((h>>16&255)/255*b*255<<16)+((h>>8&255)/255*c*255<<8)+(255&h)/255*d*255}}},d.define=e,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/core/graphics/Graphics",["npm:pixi.js@3.0.8/src/core/display/Container","npm:pixi.js@3.0.8/src/core/textures/Texture","npm:pixi.js@3.0.8/src/core/renderers/canvas/utils/CanvasBuffer","npm:pixi.js@3.0.8/src/core/renderers/canvas/utils/CanvasGraphics","npm:pixi.js@3.0.8/src/core/graphics/GraphicsData","npm:pixi.js@3.0.8/src/core/math/index","npm:pixi.js@3.0.8/src/core/const"],!0,function(a,b,c){function d(){g.call(this),this.fillAlpha=1,this.lineWidth=0,this.lineColor=0,this.graphicsData=[],this.tint=16777215,this._prevTint=16777215,this.blendMode=m.BLEND_MODES.NORMAL,this.currentPath=null,this._webGL={},this.isMask=!1,this.boundsPadding=0,this._localBounds=new l.Rectangle(0,0,1,1),this.dirty=!0,this.glDirty=!1,this.boundsDirty=!0,this.cachedSpriteDirty=!1}var e=this,f=e.define;e.define=void 0;var g=a("npm:pixi.js@3.0.8/src/core/display/Container"),h=a("npm:pixi.js@3.0.8/src/core/textures/Texture"),i=a("npm:pixi.js@3.0.8/src/core/renderers/canvas/utils/CanvasBuffer"),j=a("npm:pixi.js@3.0.8/src/core/renderers/canvas/utils/CanvasGraphics"),k=a("npm:pixi.js@3.0.8/src/core/graphics/GraphicsData"),l=a("npm:pixi.js@3.0.8/src/core/math/index"),m=a("npm:pixi.js@3.0.8/src/core/const"),n=new l.Point;return d.prototype=Object.create(g.prototype),d.prototype.constructor=d,c.exports=d,d.prototype.clone=function(){var a=new d;a.renderable=this.renderable,a.fillAlpha=this.fillAlpha,a.lineWidth=this.lineWidth,a.lineColor=this.lineColor,a.tint=this.tint,a.blendMode=this.blendMode,a.isMask=this.isMask,a.boundsPadding=this.boundsPadding,a.dirty=!0,a.glDirty=!0,a.cachedSpriteDirty=this.cachedSpriteDirty;for(var b=0;b<this.graphicsData.length;++b)a.graphicsData.push(this.graphicsData[b].clone());return a.currentPath=a.graphicsData[a.graphicsData.length-1],
a.updateLocalBounds(),a},d.prototype.lineStyle=function(a,b,c){if(this.lineWidth=a||0,this.lineColor=b||0,this.lineAlpha=void 0===c?1:c,this.currentPath)if(this.currentPath.shape.points.length){var d=new l.Polygon(this.currentPath.shape.points.slice(-2));d.closed=!1,this.drawShape(d)}else this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha;return this},d.prototype.moveTo=function(a,b){var c=new l.Polygon([a,b]);return c.closed=!1,this.drawShape(c),this},d.prototype.lineTo=function(a,b){return this.currentPath.shape.points.push(a,b),this.dirty=!0,this},d.prototype.quadraticCurveTo=function(a,b,c,d){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var e,f,g=20,h=this.currentPath.shape.points;0===h.length&&this.moveTo(0,0);for(var i=h[h.length-2],j=h[h.length-1],k=0,l=1;g>=l;++l)k=l/g,e=i+(a-i)*k,f=j+(b-j)*k,h.push(e+(a+(c-a)*k-e)*k,f+(b+(d-b)*k-f)*k);return this.dirty=this.boundsDirty=!0,this},d.prototype.bezierCurveTo=function(a,b,c,d,e,f){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);for(var g,h,i,j,k,l=20,m=this.currentPath.shape.points,n=m[m.length-2],o=m[m.length-1],p=0,q=1;l>=q;++q)p=q/l,g=1-p,h=g*g,i=h*g,j=p*p,k=j*p,m.push(i*n+3*h*p*a+3*g*j*c+k*e,i*o+3*h*p*b+3*g*j*d+k*f);return this.dirty=this.boundsDirty=!0,this},d.prototype.arcTo=function(a,b,c,d,e){this.currentPath?0===this.currentPath.shape.points.length&&this.currentPath.shape.points.push(a,b):this.moveTo(a,b);var f=this.currentPath.shape.points,g=f[f.length-2],h=f[f.length-1],i=h-b,j=g-a,k=d-b,l=c-a,m=Math.abs(i*l-j*k);if(1e-8>m||0===e)(f[f.length-2]!==a||f[f.length-1]!==b)&&f.push(a,b);else{var n=i*i+j*j,o=k*k+l*l,p=i*k+j*l,q=e*Math.sqrt(n)/m,r=e*Math.sqrt(o)/m,s=q*p/n,t=r*p/o,u=q*l+r*j,v=q*k+r*i,w=j*(r+s),x=i*(r+s),y=l*(q+t),z=k*(q+t),A=Math.atan2(x-v,w-u),B=Math.atan2(z-v,y-u);this.arc(u+a,v+b,e,A,B,j*k>l*i)}return this.dirty=this.boundsDirty=!0,this},d.prototype.arc=function(a,b,c,d,e,f){if(f=f||!1,d===e)return this;!f&&d>=e?e+=2*Math.PI:f&&e>=d&&(d+=2*Math.PI);var g=f?-1*(d-e):e-d,h=40*Math.ceil(Math.abs(g)/(2*Math.PI));if(0===g)return this;var i=a+Math.cos(d)*c,j=b+Math.sin(d)*c;this.currentPath?this.currentPath.shape.points.push(i,j):this.moveTo(i,j);for(var k=this.currentPath.shape.points,l=g/(2*h),m=2*l,n=Math.cos(l),o=Math.sin(l),p=h-1,q=p%1/p,r=0;p>=r;r++){var s=r+q*r,t=l+d+m*s,u=Math.cos(t),v=-Math.sin(t);k.push((n*u+o*v)*c+a,(n*-v+o*u)*c+b)}return this.dirty=this.boundsDirty=!0,this},d.prototype.beginFill=function(a,b){return this.filling=!0,this.fillColor=a||0,this.fillAlpha=void 0===b?1:b,this.currentPath&&this.currentPath.shape.points.length<=2&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha),this},d.prototype.endFill=function(){return this.filling=!1,this.fillColor=null,this.fillAlpha=1,this},d.prototype.drawRect=function(a,b,c,d){return this.drawShape(new l.Rectangle(a,b,c,d)),this},d.prototype.drawRoundedRect=function(a,b,c,d,e){return this.drawShape(new l.RoundedRectangle(a,b,c,d,e)),this},d.prototype.drawCircle=function(a,b,c){return this.drawShape(new l.Circle(a,b,c)),this},d.prototype.drawEllipse=function(a,b,c,d){return this.drawShape(new l.Ellipse(a,b,c,d)),this},d.prototype.drawPolygon=function(a){var b=a,c=!0;if(b instanceof l.Polygon&&(c=b.closed,b=b.points),!Array.isArray(b)){b=new Array(arguments.length);for(var d=0;d<b.length;++d)b[d]=arguments[d]}var e=new l.Polygon(b);return e.closed=c,this.drawShape(e),this},d.prototype.clear=function(){return this.lineWidth=0,this.filling=!1,this.dirty=!0,this.clearDirty=!0,this.graphicsData=[],this},d.prototype.generateTexture=function(a,b,c){b=b||1;var d=this.getLocalBounds(),e=new i(d.width*b,d.height*b),f=h.fromCanvas(e.canvas,c);return f.baseTexture.resolution=b,e.context.scale(b,b),e.context.translate(-d.x,-d.y),j.renderGraphics(this,e.context),f},d.prototype._renderWebGL=function(a){this.glDirty&&(this.dirty=!0,this.glDirty=!1),a.setObjectRenderer(a.plugins.graphics),a.plugins.graphics.render(this)},d.prototype._renderCanvas=function(a){if(this.isMask!==!0){this._prevTint!==this.tint&&(this.dirty=!0);var b=a.context,c=this.worldTransform,d=a.blendModes[this.blendMode];d!==b.globalCompositeOperation&&(b.globalCompositeOperation=d);var e=a.resolution;b.setTransform(c.a*e,c.b*e,c.c*e,c.d*e,c.tx*e,c.ty*e),j.renderGraphics(this,b)}},d.prototype.getBounds=function(a){if(!this._currentBounds){if(!this.renderable)return l.Rectangle.EMPTY;this.boundsDirty&&(this.updateLocalBounds(),this.glDirty=!0,this.cachedSpriteDirty=!0,this.boundsDirty=!1);var b=this._localBounds,c=b.x,d=b.width+b.x,e=b.y,f=b.height+b.y,g=a||this.worldTransform,h=g.a,i=g.b,j=g.c,k=g.d,m=g.tx,n=g.ty,o=h*d+j*f+m,p=k*f+i*d+n,q=h*c+j*f+m,r=k*f+i*c+n,s=h*c+j*e+m,t=k*e+i*c+n,u=h*d+j*e+m,v=k*e+i*d+n,w=o,x=p,y=o,z=p;y=y>q?q:y,y=y>s?s:y,y=y>u?u:y,z=z>r?r:z,z=z>t?t:z,z=z>v?v:z,w=q>w?q:w,w=s>w?s:w,w=u>w?u:w,x=r>x?r:x,x=t>x?t:x,x=v>x?v:x,this._bounds.x=y,this._bounds.width=w-y,this._bounds.y=z,this._bounds.height=x-z,this._currentBounds=this._bounds}return this._currentBounds},d.prototype.containsPoint=function(a){this.worldTransform.applyInverse(a,n);for(var b=this.graphicsData,c=0;c<b.length;c++){var d=b[c];if(d.fill&&d.shape&&d.shape.contains(n.x,n.y))return!0}return!1},d.prototype.updateLocalBounds=function(){var a=1/0,b=-(1/0),c=1/0,d=-(1/0);if(this.graphicsData.length)for(var e,f,g,h,i,j,k=0;k<this.graphicsData.length;k++){var l=this.graphicsData[k],n=l.type,o=l.lineWidth;if(e=l.shape,n===m.SHAPES.RECT||n===m.SHAPES.RREC)g=e.x-o/2,h=e.y-o/2,i=e.width+o,j=e.height+o,a=a>g?g:a,b=g+i>b?g+i:b,c=c>h?h:c,d=h+j>d?h+j:d;else if(n===m.SHAPES.CIRC)g=e.x,h=e.y,i=e.radius+o/2,j=e.radius+o/2,a=a>g-i?g-i:a,b=g+i>b?g+i:b,c=c>h-j?h-j:c,d=h+j>d?h+j:d;else if(n===m.SHAPES.ELIP)g=e.x,h=e.y,i=e.width+o/2,j=e.height+o/2,a=a>g-i?g-i:a,b=g+i>b?g+i:b,c=c>h-j?h-j:c,d=h+j>d?h+j:d;else{f=e.points;for(var p=0;p<f.length;p+=2)g=f[p],h=f[p+1],a=a>g-o?g-o:a,b=g+o>b?g+o:b,c=c>h-o?h-o:c,d=h+o>d?h+o:d}}else a=0,b=0,c=0,d=0;var q=this.boundsPadding;this._localBounds.x=a-q,this._localBounds.width=b-a+2*q,this._localBounds.y=c-q,this._localBounds.height=d-c+2*q},d.prototype.drawShape=function(a){this.currentPath&&this.currentPath.shape.points.length<=2&&this.graphicsData.pop(),this.currentPath=null;var b=new k(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,a);return this.graphicsData.push(b),b.type===m.SHAPES.POLY&&(b.shape.closed=b.shape.closed||this.filling,this.currentPath=b),this.dirty=this.boundsDirty=!0,b},d.prototype.destroy=function(){g.prototype.destroy.apply(this,arguments);for(var a=0;a<this.graphicsData.length;++a)this.graphicsData[a].destroy();for(var b in this._webgl)for(var c=0;c<this._webgl[b].data.length;++c)this._webgl[b].data[c].destroy();this.graphicsData=null,this.currentPath=null,this._webgl=null,this._localBounds=null},e.define=f,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/core/text/Text",["npm:pixi.js@3.0.8/src/core/sprites/Sprite","npm:pixi.js@3.0.8/src/core/textures/Texture","npm:pixi.js@3.0.8/src/core/math/index","npm:pixi.js@3.0.8/src/core/utils/index","npm:pixi.js@3.0.8/src/core/const"],!0,function(a,b,c){function d(a,b,c){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=c||k.RESOLUTION,this._text=null,this._style=null;var d=h.fromCanvas(this.canvas);d.trim=new i.Rectangle,g.call(this,d),this.text=a,this.style=b}var e=this,f=e.define;e.define=void 0;var g=a("npm:pixi.js@3.0.8/src/core/sprites/Sprite"),h=a("npm:pixi.js@3.0.8/src/core/textures/Texture"),i=a("npm:pixi.js@3.0.8/src/core/math/index"),j=a("npm:pixi.js@3.0.8/src/core/utils/index"),k=a("npm:pixi.js@3.0.8/src/core/const");return d.prototype=Object.create(g.prototype),d.prototype.constructor=d,c.exports=d,d.fontPropertiesCache={},d.fontPropertiesCanvas=document.createElement("canvas"),d.fontPropertiesContext=d.fontPropertiesCanvas.getContext("2d"),Object.defineProperties(d.prototype,{width:{get:function(){return this.dirty&&this.updateText(),this.scale.x*this._texture._frame.width},set:function(a){this.scale.x=a/this._texture._frame.width,this._width=a}},height:{get:function(){return this.dirty&&this.updateText(),this.scale.y*this._texture._frame.height},set:function(a){this.scale.y=a/this._texture._frame.height,this._height=a}},style:{get:function(){return this._style},set:function(a){a=a||{},"number"==typeof a.fill&&(a.fill=j.hex2string(a.fill)),"number"==typeof a.stroke&&(a.stroke=j.hex2string(a.stroke)),"number"==typeof a.dropShadowColor&&(a.dropShadowColor=j.hex2string(a.dropShadowColor)),a.font=a.font||"bold 20pt Arial",a.fill=a.fill||"black",a.align=a.align||"left",a.stroke=a.stroke||"black",a.strokeThickness=a.strokeThickness||0,a.wordWrap=a.wordWrap||!1,a.wordWrapWidth=a.wordWrapWidth||100,a.dropShadow=a.dropShadow||!1,a.dropShadowColor=a.dropShadowColor||"#000000",a.dropShadowAngle=a.dropShadowAngle||Math.PI/6,a.dropShadowDistance=a.dropShadowDistance||5,a.padding=a.padding||0,a.textBaseline=a.textBaseline||"alphabetic",a.lineJoin=a.lineJoin||"miter",a.miterLimit=a.miterLimit||10,this._style=a,this.dirty=!0}},text:{get:function(){return this._text},set:function(a){a=a.toString()||" ",this._text!==a&&(this._text=a,this.dirty=!0)}}}),d.prototype.updateText=function(){var a=this._style;this.context.font=a.font;for(var b=a.wordWrap?this.wordWrap(this._text):this._text,c=b.split(/(?:\r\n|\r|\n)/),d=new Array(c.length),e=0,f=this.determineFontProperties(a.font),g=0;g<c.length;g++){var h=this.context.measureText(c[g]).width;d[g]=h,e=Math.max(e,h)}var i=e+a.strokeThickness;a.dropShadow&&(i+=a.dropShadowDistance),this.canvas.width=(i+this.context.lineWidth)*this.resolution;var j=this.style.lineHeight||f.fontSize+a.strokeThickness,k=j*c.length;a.dropShadow&&(k+=a.dropShadowDistance),this.canvas.height=(k+2*this._style.padding)*this.resolution,this.context.scale(this.resolution,this.resolution),navigator.isCocoonJS&&this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.context.font=a.font,this.context.strokeStyle=a.stroke,this.context.lineWidth=a.strokeThickness,this.context.textBaseline=a.textBaseline,this.context.lineJoin=a.lineJoin,this.context.miterLimit=a.miterLimit;var l,m;if(a.dropShadow){this.context.fillStyle=a.dropShadowColor;var n=Math.cos(a.dropShadowAngle)*a.dropShadowDistance,o=Math.sin(a.dropShadowAngle)*a.dropShadowDistance;for(g=0;g<c.length;g++)l=a.strokeThickness/2,m=a.strokeThickness/2+g*j+f.ascent,"right"===a.align?l+=e-d[g]:"center"===a.align&&(l+=(e-d[g])/2),a.fill&&this.context.fillText(c[g],l+n,m+o+this._style.padding)}for(this.context.fillStyle=a.fill,g=0;g<c.length;g++)l=a.strokeThickness/2,m=a.strokeThickness/2+g*j+f.ascent,"right"===a.align?l+=e-d[g]:"center"===a.align&&(l+=(e-d[g])/2),a.stroke&&a.strokeThickness&&this.context.strokeText(c[g],l,m+this._style.padding),a.fill&&this.context.fillText(c[g],l,m+this._style.padding);this.updateTexture()},d.prototype.updateTexture=function(){var a=this._texture;a.baseTexture.hasLoaded=!0,a.baseTexture.resolution=this.resolution,a.baseTexture.width=this.canvas.width/this.resolution,a.baseTexture.height=this.canvas.height/this.resolution,a.crop.width=a._frame.width=this.canvas.width/this.resolution,a.crop.height=a._frame.height=this.canvas.height/this.resolution,a.trim.x=0,a.trim.y=-this._style.padding,a.trim.width=a._frame.width,a.trim.height=a._frame.height-2*this._style.padding,this._width=this.canvas.width/this.resolution,this._height=this.canvas.height/this.resolution,a.baseTexture.emit("update",a.baseTexture),this.dirty=!1},d.prototype.renderWebGL=function(a){this.dirty&&this.updateText(),g.prototype.renderWebGL.call(this,a)},d.prototype._renderCanvas=function(a){this.dirty&&this.updateText(),g.prototype._renderCanvas.call(this,a)},d.prototype.determineFontProperties=function(a){var b=d.fontPropertiesCache[a];if(!b){b={};var c=d.fontPropertiesCanvas,e=d.fontPropertiesContext;e.font=a;var f=Math.ceil(e.measureText("|Mq").width),g=Math.ceil(e.measureText("M").width),h=2*g;g=1.4*g|0,c.width=f,c.height=h,e.fillStyle="#f00",e.fillRect(0,0,f,h),e.font=a,e.textBaseline="alphabetic",e.fillStyle="#000",e.fillText("|Mq",0,g);var i,j,k=e.getImageData(0,0,f,h).data,l=k.length,m=4*f,n=0,o=!1;for(i=0;g>i;i++){for(j=0;m>j;j+=4)if(255!==k[n+j]){o=!0;break}if(o)break;n+=m}for(b.ascent=g-i,n=l-m,o=!1,i=h;i>g;i--){for(j=0;m>j;j+=4)if(255!==k[n+j]){o=!0;break}if(o)break;n-=m}b.descent=i-g,b.fontSize=b.ascent+b.descent,d.fontPropertiesCache[a]=b}return b},d.prototype.wordWrap=function(a){for(var b="",c=a.split("\n"),d=this._style.wordWrapWidth,e=0;e<c.length;e++){for(var f=d,g=c[e].split(" "),h=0;h<g.length;h++){var i=this.context.measureText(g[h]).width,j=i+this.context.measureText(" ").width;0===h||j>f?(h>0&&(b+="\n"),b+=g[h],f=d-i):(f-=j,b+=" "+g[h])}e<c.length-1&&(b+="\n")}return b},d.prototype.getBounds=function(a){return this.dirty&&this.updateText(),g.prototype.getBounds.call(this,a)},d.prototype.destroy=function(a){this.context=null,this.canvas=null,this._style=null,this._texture.destroy(void 0===a?!0:a)},e.define=f,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/core/particles/webgl/ParticleBuffer",[],!0,function(a,b,c){function d(a,b,c,d){this.gl=a,this.vertSize=2,this.vertByteSize=4*this.vertSize,this.size=d,this.dynamicProperties=[],this.staticProperties=[];for(var e=0;e<b.length;e++){var f=b[e];c[e]?this.dynamicProperties.push(f):this.staticProperties.push(f)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.initBuffers()}var e=this,f=e.define;return e.define=void 0,d.prototype.constructor=d,c.exports=d,d.prototype.initBuffers=function(){var a,b,c=this.gl,d=0;for(this.dynamicStride=0,a=0;a<this.dynamicProperties.length;a++)b=this.dynamicProperties[a],b.offset=d,d+=b.size,this.dynamicStride+=b.size;this.dynamicData=new Float32Array(this.size*this.dynamicStride*4),this.dynamicBuffer=c.createBuffer(),c.bindBuffer(c.ARRAY_BUFFER,this.dynamicBuffer),c.bufferData(c.ARRAY_BUFFER,this.dynamicData,c.DYNAMIC_DRAW);var e=0;for(this.staticStride=0,a=0;a<this.staticProperties.length;a++)b=this.staticProperties[a],b.offset=e,e+=b.size,this.staticStride+=b.size;this.staticData=new Float32Array(this.size*this.staticStride*4),this.staticBuffer=c.createBuffer(),c.bindBuffer(c.ARRAY_BUFFER,this.staticBuffer),c.bufferData(c.ARRAY_BUFFER,this.staticData,c.DYNAMIC_DRAW)},d.prototype.uploadDynamic=function(a,b,c){for(var d=this.gl,e=0;e<this.dynamicProperties.length;e++){var f=this.dynamicProperties[e];f.uploadFunction(a,b,c,this.dynamicData,this.dynamicStride,f.offset)}d.bindBuffer(d.ARRAY_BUFFER,this.dynamicBuffer),d.bufferSubData(d.ARRAY_BUFFER,0,this.dynamicData)},d.prototype.uploadStatic=function(a,b,c){for(var d=this.gl,e=0;e<this.staticProperties.length;e++){var f=this.staticProperties[e];f.uploadFunction(a,b,c,this.staticData,this.staticStride,f.offset)}d.bindBuffer(d.ARRAY_BUFFER,this.staticBuffer),d.bufferSubData(d.ARRAY_BUFFER,0,this.staticData)},d.prototype.bind=function(){var a,b,c=this.gl;for(c.bindBuffer(c.ARRAY_BUFFER,this.dynamicBuffer),a=0;a<this.dynamicProperties.length;a++)b=this.dynamicProperties[a],c.vertexAttribPointer(b.attribute,b.size,c.FLOAT,!1,4*this.dynamicStride,4*b.offset);for(c.bindBuffer(c.ARRAY_BUFFER,this.staticBuffer),a=0;a<this.staticProperties.length;a++)b=this.staticProperties[a],c.vertexAttribPointer(b.attribute,b.size,c.FLOAT,!1,4*this.staticStride,4*b.offset)},d.prototype.destroy=function(){this.dynamicProperties=null,this.dynamicData=null,this.gl.deleteBuffer(this.dynamicBuffer),this.staticProperties=null,this.staticData=null,this.gl.deleteBuffer(this.staticBuffer)},e.define=f,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/core/particles/webgl/ParticleShader",["npm:pixi.js@3.0.8/src/core/renderers/webgl/shaders/TextureShader"],!0,function(a,b,c){function d(a){g.call(this,a,["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute float aColor;","attribute vec2 aPositionCoord;","attribute vec2 aScale;","attribute float aRotation;","uniform mat3 projectionMatrix;","varying vec2 vTextureCoord;","varying float vColor;","void main(void){","   vec2 v = aVertexPosition;","   v.x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);","   v.y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);","   v = v + aPositionCoord;","   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = aColor;","}"].join("\n"),["precision lowp float;","varying vec2 vTextureCoord;","varying float vColor;","uniform sampler2D uSampler;","uniform float uAlpha;","void main(void){","  vec4 color = texture2D(uSampler, vTextureCoord) * vColor * uAlpha;","  if (color.a == 0.0) discard;","  gl_FragColor = color;","}"].join("\n"),{uAlpha:{type:"1f",value:1}},{aPositionCoord:0,aRotation:0})}var e=this,f=e.define;e.define=void 0;var g=a("npm:pixi.js@3.0.8/src/core/renderers/webgl/shaders/TextureShader");return d.prototype=Object.create(g.prototype),d.prototype.constructor=d,c.exports=d,e.define=f,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/core/particles/webgl/ParticleRenderer",["npm:pixi.js@3.0.8/src/core/renderers/webgl/utils/ObjectRenderer","npm:pixi.js@3.0.8/src/core/renderers/webgl/WebGLRenderer","npm:pixi.js@3.0.8/src/core/particles/webgl/ParticleShader","npm:pixi.js@3.0.8/src/core/particles/webgl/ParticleBuffer","npm:pixi.js@3.0.8/src/core/math/index"],!0,function(a,b,c){function d(a){g.call(this,a);var b=98304;this.indices=new Uint16Array(b);for(var c=0,d=0;b>c;c+=6,d+=4)this.indices[c+0]=d+0,this.indices[c+1]=d+1,this.indices[c+2]=d+2,this.indices[c+3]=d+0,this.indices[c+4]=d+2,this.indices[c+5]=d+3;this.shader=null,this.indexBuffer=null,this.properties=null,this.tempMatrix=new k.Matrix}var e=this,f=e.define;e.define=void 0;var g=a("npm:pixi.js@3.0.8/src/core/renderers/webgl/utils/ObjectRenderer"),h=a("npm:pixi.js@3.0.8/src/core/renderers/webgl/WebGLRenderer"),i=a("npm:pixi.js@3.0.8/src/core/particles/webgl/ParticleShader"),j=a("npm:pixi.js@3.0.8/src/core/particles/webgl/ParticleBuffer"),k=a("npm:pixi.js@3.0.8/src/core/math/index");return d.prototype=Object.create(g.prototype),d.prototype.constructor=d,c.exports=d,h.registerPlugin("particle",d),d.prototype.onContextChange=function(){var a=this.renderer.gl;this.shader=new i(this.renderer.shaderManager),this.indexBuffer=a.createBuffer(),a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.indexBuffer),a.bufferData(a.ELEMENT_ARRAY_BUFFER,this.indices,a.STATIC_DRAW),this.properties=[{attribute:this.shader.attributes.aVertexPosition,size:2,uploadFunction:this.uploadVertices,offset:0},{attribute:this.shader.attributes.aPositionCoord,size:2,uploadFunction:this.uploadPosition,offset:0},{attribute:this.shader.attributes.aRotation,size:1,uploadFunction:this.uploadRotation,offset:0},{attribute:this.shader.attributes.aTextureCoord,size:2,uploadFunction:this.uploadUvs,offset:0},{attribute:this.shader.attributes.aColor,size:1,uploadFunction:this.uploadAlpha,offset:0}]},d.prototype.start=function(){var a=this.renderer.gl;a.activeTexture(a.TEXTURE0),a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.indexBuffer);var b=this.shader;this.renderer.shaderManager.setShader(b)},d.prototype.render=function(a){var b=a.children,c=b.length,d=a._maxSize,e=a._batchSize;if(0!==c){c>d&&(c=d),a._buffers||(a._buffers=this.generateBuffers(a)),this.renderer.blendModeManager.setBlendMode(a.blendMode);var f=this.renderer.gl,g=a.worldTransform.copy(this.tempMatrix);g.prepend(this.renderer.currentRenderTarget.projectionMatrix),f.uniformMatrix3fv(this.shader.uniforms.projectionMatrix._location,!1,g.toArray(!0)),f.uniform1f(this.shader.uniforms.uAlpha._location,a.worldAlpha);var h=b[0]._texture.baseTexture;if(h._glTextures[f.id])f.bindTexture(f.TEXTURE_2D,h._glTextures[f.id]);else{if(!this.renderer.updateTexture(h))return;a._properties[0]&&a._properties[3]||(a._bufferToUpdate=0)}for(var i=0,j=0;c>i;i+=e,j+=1){var k=c-i;k>e&&(k=e);var l=a._buffers[j];l.uploadDynamic(b,i,k),a._bufferToUpdate===j&&(l.uploadStatic(b,i,k),a._bufferToUpdate=j+1),l.bind(this.shader),f.drawElements(f.TRIANGLES,6*k,f.UNSIGNED_SHORT,0),this.renderer.drawCount++}}},d.prototype.generateBuffers=function(a){var b,c=this.renderer.gl,d=[],e=a._maxSize,f=a._batchSize,g=a._properties;for(b=0;e>b;b+=f)d.push(new j(c,this.properties,g,f));return d},d.prototype.uploadVertices=function(a,b,c,d,e,f){for(var g,h,i,j,k,l,m,n,o,p=0;c>p;p++)g=a[b+p],h=g._texture,j=g.scale.x,k=g.scale.y,h.trim?(i=h.trim,m=i.x-g.anchor.x*i.width,l=m+h.crop.width,o=i.y-g.anchor.y*i.height,n=o+h.crop.height):(l=h._frame.width*(1-g.anchor.x),m=h._frame.width*-g.anchor.x,n=h._frame.height*(1-g.anchor.y),o=h._frame.height*-g.anchor.y),d[f]=m*j,d[f+1]=o*k,d[f+e]=l*j,d[f+e+1]=o*k,d[f+2*e]=l*j,d[f+2*e+1]=n*k,d[f+3*e]=m*j,d[f+3*e+1]=n*k,f+=4*e},d.prototype.uploadPosition=function(a,b,c,d,e,f){for(var g=0;c>g;g++){var h=a[b+g].position;d[f]=h.x,d[f+1]=h.y,d[f+e]=h.x,d[f+e+1]=h.y,d[f+2*e]=h.x,d[f+2*e+1]=h.y,d[f+3*e]=h.x,d[f+3*e+1]=h.y,f+=4*e}},d.prototype.uploadRotation=function(a,b,c,d,e,f){for(var g=0;c>g;g++){var h=a[b+g].rotation;d[f]=h,d[f+e]=h,d[f+2*e]=h,d[f+3*e]=h,f+=4*e}},d.prototype.uploadUvs=function(a,b,c,d,e,f){for(var g=0;c>g;g++){var h=a[b+g]._texture._uvs;h?(d[f]=h.x0,d[f+1]=h.y0,d[f+e]=h.x1,d[f+e+1]=h.y1,d[f+2*e]=h.x2,d[f+2*e+1]=h.y2,d[f+3*e]=h.x3,d[f+3*e+1]=h.y3,f+=4*e):(d[f]=0,d[f+1]=0,d[f+e]=0,d[f+e+1]=0,d[f+2*e]=0,d[f+2*e+1]=0,d[f+3*e]=0,d[f+3*e+1]=0,f+=4*e)}},d.prototype.uploadAlpha=function(a,b,c,d,e,f){for(var g=0;c>g;g++){var h=a[b+g].alpha;d[f]=h,d[f+e]=h,d[f+2*e]=h,d[f+3*e]=h,f+=4*e}},d.prototype.destroy=function(){this.renderer.gl&&this.renderer.gl.deleteBuffer(this.indexBuffer),g.prototype.destroy.apply(this,arguments),this.shader.destroy(),this.indices=null,this.tempMatrix=null},e.define=f,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/core/renderers/webgl/filters/FXAAFilter",["npm:pixi.js@3.0.8/src/core/renderers/webgl/filters/AbstractFilter","github:jspm/nodelibs-fs@0.1.2"],!0,function(a,b,c){function d(){h.call(this,i.readFileSync(g+"/FXAA.vert","utf8"),i.readFileSync(g+"/FXAA.frag","utf8"),{resolution:{type:"v2",value:{x:1,y:1}}})}var e=this,f=e.define;e.define=void 0;var g=(c.id,c.id.split("/").splice(0,c.id.split("/").length-1).join("/")),h=a("npm:pixi.js@3.0.8/src/core/renderers/webgl/filters/AbstractFilter"),i=a("github:jspm/nodelibs-fs@0.1.2");return d.prototype=Object.create(h.prototype),d.prototype.constructor=d,c.exports=d,d.prototype.applyFilter=function(a,b,c){var d=a.filterManager,e=this.getShader(a);d.applyFilter(e,b,c)},e.define=f,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/core/renderers/webgl/managers/BlendModeManager",["npm:pixi.js@3.0.8/src/core/renderers/webgl/managers/WebGLManager"],!0,function(a,b,c){function d(a){g.call(this,a),this.currentBlendMode=99999}var e=this,f=e.define;e.define=void 0;var g=a("npm:pixi.js@3.0.8/src/core/renderers/webgl/managers/WebGLManager");return d.prototype=Object.create(g.prototype),d.prototype.constructor=d,c.exports=d,d.prototype.setBlendMode=function(a){if(this.currentBlendMode===a)return!1;this.currentBlendMode=a;var b=this.renderer.blendModes[this.currentBlendMode];return this.renderer.gl.blendFunc(b[0],b[1]),!0},e.define=f,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/core/renderers/webgl/managers/StencilManager",["npm:pixi.js@3.0.8/src/core/renderers/webgl/managers/WebGLManager","npm:pixi.js@3.0.8/src/core/utils/index"],!0,function(a,b,c){function d(a){g.call(this,a),this.stencilMaskStack=null}var e=this,f=e.define;e.define=void 0;var g=a("npm:pixi.js@3.0.8/src/core/renderers/webgl/managers/WebGLManager"),h=a("npm:pixi.js@3.0.8/src/core/utils/index");return d.prototype=Object.create(g.prototype),d.prototype.constructor=d,c.exports=d,d.prototype.setMaskStack=function(a){this.stencilMaskStack=a;var b=this.renderer.gl;0===a.stencilStack.length?b.disable(b.STENCIL_TEST):b.enable(b.STENCIL_TEST)},d.prototype.pushStencil=function(a,b){this.renderer.currentRenderTarget.attachStencilBuffer();var c=this.renderer.gl,d=this.stencilMaskStack;this.bindGraphics(a,b),0===d.stencilStack.length&&(c.enable(c.STENCIL_TEST),c.clear(c.STENCIL_BUFFER_BIT),d.reverse=!0,d.count=0),d.stencilStack.push(b);var e=d.count;c.colorMask(!1,!1,!1,!1),c.stencilFunc(c.ALWAYS,0,255),c.stencilOp(c.KEEP,c.KEEP,c.INVERT),1===b.mode?(c.drawElements(c.TRIANGLE_FAN,b.indices.length-4,c.UNSIGNED_SHORT,0),d.reverse?(c.stencilFunc(c.EQUAL,255-e,255),c.stencilOp(c.KEEP,c.KEEP,c.DECR)):(c.stencilFunc(c.EQUAL,e,255),c.stencilOp(c.KEEP,c.KEEP,c.INCR)),c.drawElements(c.TRIANGLE_FAN,4,c.UNSIGNED_SHORT,2*(b.indices.length-4)),d.reverse?c.stencilFunc(c.EQUAL,255-(e+1),255):c.stencilFunc(c.EQUAL,e+1,255),d.reverse=!d.reverse):(d.reverse?(c.stencilFunc(c.EQUAL,e,255),c.stencilOp(c.KEEP,c.KEEP,c.INCR)):(c.stencilFunc(c.EQUAL,255-e,255),c.stencilOp(c.KEEP,c.KEEP,c.DECR)),c.drawElements(c.TRIANGLE_STRIP,b.indices.length,c.UNSIGNED_SHORT,0),d.reverse?c.stencilFunc(c.EQUAL,e+1,255):c.stencilFunc(c.EQUAL,255-(e+1),255)),c.colorMask(!0,!0,!0,!0),c.stencilOp(c.KEEP,c.KEEP,c.KEEP),d.count++},d.prototype.bindGraphics=function(a,b){var c,d=this.renderer.gl;1===b.mode?(c=this.renderer.shaderManager.complexPrimitiveShader,this.renderer.shaderManager.setShader(c),d.uniformMatrix3fv(c.uniforms.translationMatrix._location,!1,a.worldTransform.toArray(!0)),d.uniformMatrix3fv(c.uniforms.projectionMatrix._location,!1,this.renderer.currentRenderTarget.projectionMatrix.toArray(!0)),d.uniform3fv(c.uniforms.tint._location,h.hex2rgb(a.tint)),d.uniform3fv(c.uniforms.color._location,b.color),d.uniform1f(c.uniforms.alpha._location,a.worldAlpha),d.bindBuffer(d.ARRAY_BUFFER,b.buffer),d.vertexAttribPointer(c.attributes.aVertexPosition,2,d.FLOAT,!1,8,0),d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,b.indexBuffer)):(c=this.renderer.shaderManager.primitiveShader,this.renderer.shaderManager.setShader(c),d.uniformMatrix3fv(c.uniforms.translationMatrix._location,!1,a.worldTransform.toArray(!0)),d.uniformMatrix3fv(c.uniforms.projectionMatrix._location,!1,this.renderer.currentRenderTarget.projectionMatrix.toArray(!0)),d.uniform3fv(c.uniforms.tint._location,h.hex2rgb(a.tint)),d.uniform1f(c.uniforms.alpha._location,a.worldAlpha),d.bindBuffer(d.ARRAY_BUFFER,b.buffer),d.vertexAttribPointer(c.attributes.aVertexPosition,2,d.FLOAT,!1,24,0),d.vertexAttribPointer(c.attributes.aColor,4,d.FLOAT,!1,24,8),d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,b.indexBuffer))},d.prototype.popStencil=function(a,b){var c=this.renderer.gl,d=this.stencilMaskStack;if(d.stencilStack.pop(),d.count--,0===d.stencilStack.length)c.disable(c.STENCIL_TEST);else{var e=d.count;this.bindGraphics(a,b),c.colorMask(!1,!1,!1,!1),1===b.mode?(d.reverse=!d.reverse,d.reverse?(c.stencilFunc(c.EQUAL,255-(e+1),255),c.stencilOp(c.KEEP,c.KEEP,c.INCR)):(c.stencilFunc(c.EQUAL,e+1,255),c.stencilOp(c.KEEP,c.KEEP,c.DECR)),c.drawElements(c.TRIANGLE_FAN,4,c.UNSIGNED_SHORT,2*(b.indices.length-4)),c.stencilFunc(c.ALWAYS,0,255),c.stencilOp(c.KEEP,c.KEEP,c.INVERT),c.drawElements(c.TRIANGLE_FAN,b.indices.length-4,c.UNSIGNED_SHORT,0),this.renderer.drawCount+=2,d.reverse?c.stencilFunc(c.EQUAL,e,255):c.stencilFunc(c.EQUAL,255-e,255)):(d.reverse?(c.stencilFunc(c.EQUAL,e+1,255),c.stencilOp(c.KEEP,c.KEEP,c.DECR)):(c.stencilFunc(c.EQUAL,255-(e+1),255),c.stencilOp(c.KEEP,c.KEEP,c.INCR)),c.drawElements(c.TRIANGLE_STRIP,b.indices.length,c.UNSIGNED_SHORT,0),this.renderer.drawCount++,d.reverse?c.stencilFunc(c.EQUAL,e,255):c.stencilFunc(c.EQUAL,255-e,255)),c.colorMask(!0,!0,!0,!0),c.stencilOp(c.KEEP,c.KEEP,c.KEEP)}},d.prototype.destroy=function(){g.prototype.destroy.call(this),this.stencilMaskStack.stencilStack=null},d.prototype.pushMask=function(a){this.renderer.setObjectRenderer(this.renderer.plugins.graphics),a.dirty&&this.renderer.plugins.graphics.updateGraphics(a,this.renderer.gl),a._webGL[this.renderer.gl.id].data.length&&this.pushStencil(a,a._webGL[this.renderer.gl.id].data[0])},d.prototype.popMask=function(a){this.renderer.setObjectRenderer(this.renderer.plugins.graphics),this.popStencil(a,a._webGL[this.renderer.gl.id].data[0])},e.define=f,c.exports}),System.registerDynamic("github:jspm/nodelibs-fs@0.1.2/index",[],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,System._nodeRequire?c.exports=System._nodeRequire("fs"):b.readFileSync=function(a){var b,c=new XMLHttpRequest;return c.open("GET",a,!1),c.onreadystatechange=function(d){if(4==c.readyState){var e=c.status;if(e>399&&600>e||400==e)throw"File read error on "+a;b=c.responseText}},c.send(null),b},d.define=e,c.exports}),System.registerDynamic("github:jspm/nodelibs-fs@0.1.2",["github:jspm/nodelibs-fs@0.1.2/index"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,c.exports=a("github:jspm/nodelibs-fs@0.1.2/index"),d.define=e,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/core/renderers/webgl/filters/AbstractFilter",["npm:pixi.js@3.0.8/src/core/renderers/webgl/shaders/TextureShader"],!0,function(a,b,c){function d(a,b,c){this.shaders=[],this.padding=0,this.uniforms=c||{},this.vertexSrc=a||g.defaultVertexSrc,this.fragmentSrc=b||g.defaultFragmentSrc}var e=this,f=e.define;e.define=void 0;var g=a("npm:pixi.js@3.0.8/src/core/renderers/webgl/shaders/TextureShader");return d.prototype.constructor=d,c.exports=d,d.prototype.getShader=function(a){var b=a.gl,c=this.shaders[b.id];return c||(c=new g(a.shaderManager,this.vertexSrc,this.fragmentSrc,this.uniforms,this.attributes),this.shaders[b.id]=c),c},d.prototype.applyFilter=function(a,b,c,d){var e=this.getShader(a);a.filterManager.applyFilter(e,b,c,d)},d.prototype.syncUniform=function(a){for(var b=0,c=this.shaders.length;c>b;++b)this.shaders[b].syncUniform(a)},e.define=f,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/core/renderers/webgl/filters/SpriteMaskFilter",["npm:pixi.js@3.0.8/src/core/renderers/webgl/filters/AbstractFilter","npm:pixi.js@3.0.8/src/core/math/index","github:jspm/nodelibs-fs@0.1.2"],!0,function(a,b,c){function d(a){var b=new i.Matrix;h.call(this,j.readFileSync(g+"/spriteMaskFilter.vert","utf8"),j.readFileSync(g+"/spriteMaskFilter.frag","utf8"),{mask:{type:"sampler2D",value:a._texture},alpha:{type:"f",value:1},otherMatrix:{type:"mat3",value:b.toArray(!0)}}),this.maskSprite=a,this.maskMatrix=b}var e=this,f=e.define;e.define=void 0;var g=(c.id,c.id.split("/").splice(0,c.id.split("/").length-1).join("/")),h=a("npm:pixi.js@3.0.8/src/core/renderers/webgl/filters/AbstractFilter"),i=a("npm:pixi.js@3.0.8/src/core/math/index"),j=a("github:jspm/nodelibs-fs@0.1.2");return d.prototype=Object.create(h.prototype),d.prototype.constructor=d,c.exports=d,d.prototype.applyFilter=function(a,b,c){var d=a.filterManager;this.uniforms.mask.value=this.maskSprite._texture,d.calculateMappedMatrix(b.frame,this.maskSprite,this.maskMatrix),this.uniforms.otherMatrix.value=this.maskMatrix.toArray(!0),this.uniforms.alpha.value=this.maskSprite.worldAlpha;var e=this.getShader(a);d.applyFilter(e,b,c)},Object.defineProperties(d.prototype,{map:{get:function(){return this.uniforms.mask.value},set:function(a){this.uniforms.mask.value=a}},offset:{get:function(){return this.uniforms.offset.value},set:function(a){this.uniforms.offset.value=a}}}),e.define=f,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/core/renderers/webgl/managers/MaskManager",["npm:pixi.js@3.0.8/src/core/renderers/webgl/managers/WebGLManager","npm:pixi.js@3.0.8/src/core/renderers/webgl/filters/SpriteMaskFilter"],!0,function(a,b,c){function d(a){g.call(this,a),this.stencilStack=[],this.reverse=!0,this.count=0,this.alphaMaskPool=[]}var e=this,f=e.define;e.define=void 0;var g=a("npm:pixi.js@3.0.8/src/core/renderers/webgl/managers/WebGLManager"),h=a("npm:pixi.js@3.0.8/src/core/renderers/webgl/filters/SpriteMaskFilter");
return d.prototype=Object.create(g.prototype),d.prototype.constructor=d,c.exports=d,d.prototype.pushMask=function(a,b){b.texture?this.pushSpriteMask(a,b):this.pushStencilMask(a,b)},d.prototype.popMask=function(a,b){b.texture?this.popSpriteMask(a,b):this.popStencilMask(a,b)},d.prototype.pushSpriteMask=function(a,b){var c=this.alphaMaskPool.pop();c||(c=[new h(b)]),c[0].maskSprite=b,this.renderer.filterManager.pushFilter(a,c)},d.prototype.popSpriteMask=function(){var a=this.renderer.filterManager.popFilter();this.alphaMaskPool.push(a)},d.prototype.pushStencilMask=function(a,b){this.renderer.stencilManager.pushMask(b)},d.prototype.popStencilMask=function(a,b){this.renderer.stencilManager.popMask(b)},e.define=f,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/core/renderers/webgl/shaders/PrimitiveShader",["npm:pixi.js@3.0.8/src/core/renderers/webgl/shaders/Shader"],!0,function(a,b,c){function d(a){g.call(this,a,["attribute vec2 aVertexPosition;","attribute vec4 aColor;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","uniform float alpha;","uniform float flipY;","uniform vec3 tint;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vColor = aColor * vec4(tint * alpha, alpha);","}"].join("\n"),["precision mediump float;","varying vec4 vColor;","void main(void){","   gl_FragColor = vColor;","}"].join("\n"),{tint:{type:"3f",value:[0,0,0]},alpha:{type:"1f",value:0},translationMatrix:{type:"mat3",value:new Float32Array(9)},projectionMatrix:{type:"mat3",value:new Float32Array(9)}},{aVertexPosition:0,aColor:0})}var e=this,f=e.define;e.define=void 0;var g=a("npm:pixi.js@3.0.8/src/core/renderers/webgl/shaders/Shader");return d.prototype=Object.create(g.prototype),d.prototype.constructor=d,c.exports=d,e.define=f,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/core/renderers/webgl/shaders/ComplexPrimitiveShader",["npm:pixi.js@3.0.8/src/core/renderers/webgl/shaders/Shader"],!0,function(a,b,c){function d(a){g.call(this,a,["attribute vec2 aVertexPosition;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","uniform vec3 tint;","uniform float alpha;","uniform vec3 color;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vColor = vec4(color * alpha * tint, alpha);","}"].join("\n"),["precision mediump float;","varying vec4 vColor;","void main(void){","   gl_FragColor = vColor;","}"].join("\n"),{tint:{type:"3f",value:[0,0,0]},alpha:{type:"1f",value:0},color:{type:"3f",value:[0,0,0]},translationMatrix:{type:"mat3",value:new Float32Array(9)},projectionMatrix:{type:"mat3",value:new Float32Array(9)}},{aVertexPosition:0})}var e=this,f=e.define;e.define=void 0;var g=a("npm:pixi.js@3.0.8/src/core/renderers/webgl/shaders/Shader");return d.prototype=Object.create(g.prototype),d.prototype.constructor=d,c.exports=d,e.define=f,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/core/renderers/webgl/shaders/Shader",["npm:pixi.js@3.0.8/src/core/utils/index"],!0,function(a,b,c){function d(a,b,c,d,e){if(!b||!c)throw new Error("Pixi.js Error. Shader requires vertexSrc and fragmentSrc");this.uid=g.uid(),this.gl=a.renderer.gl,this.shaderManager=a,this.program=null,this.uniforms=d||{},this.attributes=e||{},this.textureCount=1,this.vertexSrc=b,this.fragmentSrc=c,this.init()}var e=this,f=e.define;e.define=void 0;var g=a("npm:pixi.js@3.0.8/src/core/utils/index");return d.prototype.constructor=d,c.exports=d,d.prototype.init=function(){this.compile(),this.gl.useProgram(this.program),this.cacheUniformLocations(Object.keys(this.uniforms)),this.cacheAttributeLocations(Object.keys(this.attributes))},d.prototype.cacheUniformLocations=function(a){for(var b=0;b<a.length;++b)this.uniforms[a[b]]._location=this.gl.getUniformLocation(this.program,a[b])},d.prototype.cacheAttributeLocations=function(a){for(var b=0;b<a.length;++b)this.attributes[a[b]]=this.gl.getAttribLocation(this.program,a[b])},d.prototype.compile=function(){var a=this.gl,b=this._glCompile(a.VERTEX_SHADER,this.vertexSrc),c=this._glCompile(a.FRAGMENT_SHADER,this.fragmentSrc),d=a.createProgram();return a.attachShader(d,b),a.attachShader(d,c),a.linkProgram(d),a.getProgramParameter(d,a.LINK_STATUS)||(console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",a.getProgramParameter(d,a.VALIDATE_STATUS)),console.error("gl.getError()",a.getError()),""!==a.getProgramInfoLog(d)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",a.getProgramInfoLog(d)),a.deleteProgram(d),d=null),a.deleteShader(b),a.deleteShader(c),this.program=d},d.prototype.syncUniform=function(a){var b,c,d=a._location,e=a.value,f=this.gl;switch(a.type){case"b":case"bool":case"boolean":f.uniform1i(d,e?1:0);break;case"i":case"1i":f.uniform1i(d,e);break;case"f":case"1f":f.uniform1f(d,e);break;case"2f":f.uniform2f(d,e[0],e[1]);break;case"3f":f.uniform3f(d,e[0],e[1],e[2]);break;case"4f":f.uniform4f(d,e[0],e[1],e[2],e[3]);break;case"v2":f.uniform2f(d,e.x,e.y);break;case"v3":f.uniform3f(d,e.x,e.y,e.z);break;case"v4":f.uniform4f(d,e.x,e.y,e.z,e.w);break;case"1iv":f.uniform1iv(d,e);break;case"2iv":f.uniform2iv(d,e);break;case"3iv":f.uniform3iv(d,e);break;case"4iv":f.uniform4iv(d,e);break;case"1fv":f.uniform1fv(d,e);break;case"2fv":f.uniform2fv(d,e);break;case"3fv":f.uniform3fv(d,e);break;case"4fv":f.uniform4fv(d,e);break;case"m2":case"mat2":case"Matrix2fv":f.uniformMatrix2fv(d,a.transpose,e);break;case"m3":case"mat3":case"Matrix3fv":f.uniformMatrix3fv(d,a.transpose,e);break;case"m4":case"mat4":case"Matrix4fv":f.uniformMatrix4fv(d,a.transpose,e);break;case"c":"number"==typeof e&&(e=g.hex2rgb(e)),f.uniform3f(d,e[0],e[1],e[2]);break;case"iv1":f.uniform1iv(d,e);break;case"iv":f.uniform3iv(d,e);break;case"fv1":f.uniform1fv(d,e);break;case"fv":f.uniform3fv(d,e);break;case"v2v":for(a._array||(a._array=new Float32Array(2*e.length)),b=0,c=e.length;c>b;++b)a._array[2*b]=e[b].x,a._array[2*b+1]=e[b].y;f.uniform2fv(d,a._array);break;case"v3v":for(a._array||(a._array=new Float32Array(3*e.length)),b=0,c=e.length;c>b;++b)a._array[3*b]=e[b].x,a._array[3*b+1]=e[b].y,a._array[3*b+2]=e[b].z;f.uniform3fv(d,a._array);break;case"v4v":for(a._array||(a._array=new Float32Array(4*e.length)),b=0,c=e.length;c>b;++b)a._array[4*b]=e[b].x,a._array[4*b+1]=e[b].y,a._array[4*b+2]=e[b].z,a._array[4*b+3]=e[b].w;f.uniform4fv(d,a._array);break;case"t":case"sampler2D":if(!a.value||!a.value.baseTexture.hasLoaded)break;f.activeTexture(f["TEXTURE"+this.textureCount]);var h=a.value.baseTexture._glTextures[f.id];h||(this.initSampler2D(a),h=a.value.baseTexture._glTextures[f.id]),f.bindTexture(f.TEXTURE_2D,h),f.uniform1i(a._location,this.textureCount),this.textureCount++;break;default:console.warn("Pixi.js Shader Warning: Unknown uniform type: "+a.type)}},d.prototype.syncUniforms=function(){this.textureCount=1;for(var a in this.uniforms)this.syncUniform(this.uniforms[a])},d.prototype.initSampler2D=function(a){var b=this.gl,c=a.value.baseTexture;if(c.hasLoaded)if(a.textureData){var d=a.textureData;c._glTextures[b.id]=b.createTexture(),b.bindTexture(b.TEXTURE_2D,c._glTextures[b.id]),b.pixelStorei(b.UNPACK_PREMULTIPLY_ALPHA_WEBGL,c.premultipliedAlpha),b.texImage2D(b.TEXTURE_2D,0,d.luminance?b.LUMINANCE:b.RGBA,b.RGBA,b.UNSIGNED_BYTE,c.source),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,d.magFilter?d.magFilter:b.LINEAR),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,d.wrapS?d.wrapS:b.CLAMP_TO_EDGE),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,d.wrapS?d.wrapS:b.CLAMP_TO_EDGE),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,d.wrapT?d.wrapT:b.CLAMP_TO_EDGE)}else this.shaderManager.renderer.updateTexture(c)},d.prototype.destroy=function(){this.gl.deleteProgram(this.program),this.gl=null,this.uniforms=null,this.attributes=null,this.vertexSrc=null,this.fragmentSrc=null},d.prototype._glCompile=function(a,b){var c=this.gl.createShader(a);return this.gl.shaderSource(c,b),this.gl.compileShader(c),this.gl.getShaderParameter(c,this.gl.COMPILE_STATUS)?c:(console.log(this.gl.getShaderInfoLog(c)),null)},e.define=f,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/core/renderers/webgl/shaders/TextureShader",["npm:pixi.js@3.0.8/src/core/renderers/webgl/shaders/Shader"],!0,function(a,b,c){function d(a,b,c,e,f){var h={uSampler:{type:"sampler2D",value:0},projectionMatrix:{type:"mat3",value:new Float32Array([1,0,0,0,1,0,0,0,1])}};if(e)for(var i in e)h[i]=e[i];var j={aVertexPosition:0,aTextureCoord:0,aColor:0};if(f)for(var k in f)j[k]=f[k];b=b||d.defaultVertexSrc,c=c||d.defaultFragmentSrc,g.call(this,a,b,c,h,j)}var e=this,f=e.define;e.define=void 0;var g=a("npm:pixi.js@3.0.8/src/core/renderers/webgl/shaders/Shader");return d.prototype=Object.create(g.prototype),d.prototype.constructor=d,c.exports=d,d.defaultVertexSrc=["precision lowp float;","attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute vec4 aColor;","uniform mat3 projectionMatrix;","varying vec2 vTextureCoord;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = vec4(aColor.rgb * aColor.a, aColor.a);","}"].join("\n"),d.defaultFragmentSrc=["precision lowp float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","void main(void){","   gl_FragColor = texture2D(uSampler, vTextureCoord) * vColor ;","}"].join("\n"),e.define=f,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/core/renderers/webgl/managers/ShaderManager",["npm:pixi.js@3.0.8/src/core/renderers/webgl/managers/WebGLManager","npm:pixi.js@3.0.8/src/core/renderers/webgl/shaders/TextureShader","npm:pixi.js@3.0.8/src/core/renderers/webgl/shaders/ComplexPrimitiveShader","npm:pixi.js@3.0.8/src/core/renderers/webgl/shaders/PrimitiveShader","npm:pixi.js@3.0.8/src/core/utils/index"],!0,function(a,b,c){function d(a){g.call(this,a),this.maxAttibs=10,this.attribState=[],this.tempAttribState=[];for(var b=0;b<this.maxAttibs;b++)this.attribState[b]=!1;this.stack=[],this._currentId=-1,this.currentShader=null}var e=this,f=e.define;e.define=void 0;var g=a("npm:pixi.js@3.0.8/src/core/renderers/webgl/managers/WebGLManager"),h=a("npm:pixi.js@3.0.8/src/core/renderers/webgl/shaders/TextureShader"),i=a("npm:pixi.js@3.0.8/src/core/renderers/webgl/shaders/ComplexPrimitiveShader"),j=a("npm:pixi.js@3.0.8/src/core/renderers/webgl/shaders/PrimitiveShader"),k=a("npm:pixi.js@3.0.8/src/core/utils/index");return d.prototype=Object.create(g.prototype),d.prototype.constructor=d,k.pluginTarget.mixin(d),c.exports=d,d.prototype.onContextChange=function(){this.initPlugins();var a=this.renderer.gl;this.maxAttibs=a.getParameter(a.MAX_VERTEX_ATTRIBS),this.attribState=[];for(var b=0;b<this.maxAttibs;b++)this.attribState[b]=!1;this.defaultShader=new h(this),this.primitiveShader=new j(this),this.complexPrimitiveShader=new i(this)},d.prototype.setAttribs=function(a){var b;for(b=0;b<this.tempAttribState.length;b++)this.tempAttribState[b]=!1;for(var c in a)this.tempAttribState[a[c]]=!0;var d=this.renderer.gl;for(b=0;b<this.attribState.length;b++)this.attribState[b]!==this.tempAttribState[b]&&(this.attribState[b]=this.tempAttribState[b],this.attribState[b]?d.enableVertexAttribArray(b):d.disableVertexAttribArray(b))},d.prototype.setShader=function(a){return this._currentId===a.uid?!1:(this._currentId=a.uid,this.currentShader=a,this.renderer.gl.useProgram(a.program),this.setAttribs(a.attributes),!0)},d.prototype.destroy=function(){this.primitiveShader.destroy(),this.complexPrimitiveShader.destroy(),g.prototype.destroy.call(this),this.destroyPlugins(),this.attribState=null,this.tempAttribState=null},e.define=f,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/core/renderers/SystemRenderer",["npm:pixi.js@3.0.8/src/core/utils/index","npm:pixi.js@3.0.8/src/core/math/index","npm:pixi.js@3.0.8/src/core/const","npm:eventemitter3@1.1.1"],!0,function(a,b,c){function d(a,b,c,d){if(j.call(this),g.sayHello(a),d)for(var e in i.DEFAULT_RENDER_OPTIONS)"undefined"==typeof d[e]&&(d[e]=i.DEFAULT_RENDER_OPTIONS[e]);else d=i.DEFAULT_RENDER_OPTIONS;this.type=i.RENDERER_TYPE.UNKNOWN,this.width=b||800,this.height=c||600,this.view=d.view||document.createElement("canvas"),this.resolution=d.resolution,this.transparent=d.transparent,this.autoResize=d.autoResize||!1,this.blendModes=null,this.preserveDrawingBuffer=d.preserveDrawingBuffer,this.clearBeforeRender=d.clearBeforeRender,this.roundPixels=d.roundPixels,this._backgroundColor=0,this._backgroundColorRgb=[0,0,0],this._backgroundColorString="#000000",this.backgroundColor=d.backgroundColor||this._backgroundColor,this._tempDisplayObjectParent={worldTransform:new h.Matrix,worldAlpha:1,children:[]},this._lastObjectRendered=this._tempDisplayObjectParent}var e=this,f=e.define;e.define=void 0;var g=a("npm:pixi.js@3.0.8/src/core/utils/index"),h=a("npm:pixi.js@3.0.8/src/core/math/index"),i=a("npm:pixi.js@3.0.8/src/core/const"),j=a("npm:eventemitter3@1.1.1");return d.prototype=Object.create(j.prototype),d.prototype.constructor=d,c.exports=d,Object.defineProperties(d.prototype,{backgroundColor:{get:function(){return this._backgroundColor},set:function(a){this._backgroundColor=a,this._backgroundColorString=g.hex2string(a),g.hex2rgb(a,this._backgroundColorRgb)}}}),d.prototype.resize=function(a,b){this.width=a*this.resolution,this.height=b*this.resolution,this.view.width=this.width,this.view.height=this.height,this.autoResize&&(this.view.style.width=this.width/this.resolution+"px",this.view.style.height=this.height/this.resolution+"px")},d.prototype.destroy=function(a){a&&this.view.parentNode&&this.view.parentNode.removeChild(this.view),this.type=i.RENDERER_TYPE.UNKNOWN,this.width=0,this.height=0,this.view=null,this.resolution=0,this.transparent=!1,this.autoResize=!1,this.blendModes=null,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!1,this.roundPixels=!1,this._backgroundColor=0,this._backgroundColorRgb=null,this._backgroundColorString=null},e.define=f,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/core/renderers/webgl/WebGLRenderer",["npm:pixi.js@3.0.8/src/core/renderers/SystemRenderer","npm:pixi.js@3.0.8/src/core/renderers/webgl/managers/ShaderManager","npm:pixi.js@3.0.8/src/core/renderers/webgl/managers/MaskManager","npm:pixi.js@3.0.8/src/core/renderers/webgl/managers/StencilManager","npm:pixi.js@3.0.8/src/core/renderers/webgl/managers/FilterManager","npm:pixi.js@3.0.8/src/core/renderers/webgl/managers/BlendModeManager","npm:pixi.js@3.0.8/src/core/renderers/webgl/utils/RenderTarget","npm:pixi.js@3.0.8/src/core/renderers/webgl/utils/ObjectRenderer","npm:pixi.js@3.0.8/src/core/renderers/webgl/filters/FXAAFilter","npm:pixi.js@3.0.8/src/core/utils/index","npm:pixi.js@3.0.8/src/core/const"],!0,function(a,b,c){function d(a,b,c){c=c||{},g.call(this,"WebGL",a,b,c),this.type=q.RENDERER_TYPE.WEBGL,this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),this.view.addEventListener("webglcontextlost",this.handleContextLost,!1),this.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1),this._useFXAA=!!c.forceFXAA&&c.antialias,this._FXAAFilter=null,this._contextOptions={alpha:this.transparent,antialias:c.antialias,premultipliedAlpha:this.transparent&&"notMultiplied"!==this.transparent,stencil:!0,preserveDrawingBuffer:c.preserveDrawingBuffer},this.drawCount=0,this.shaderManager=new h(this),this.maskManager=new i(this),this.stencilManager=new j(this),this.filterManager=new k(this),this.blendModeManager=new l(this),this.currentRenderTarget=null,this.currentRenderer=new n(this),this.initPlugins(),this._createContext(),this._initContext(),this._mapGlModes(),this._renderTargetStack=[]}var e=this,f=e.define;e.define=void 0;var g=a("npm:pixi.js@3.0.8/src/core/renderers/SystemRenderer"),h=a("npm:pixi.js@3.0.8/src/core/renderers/webgl/managers/ShaderManager"),i=a("npm:pixi.js@3.0.8/src/core/renderers/webgl/managers/MaskManager"),j=a("npm:pixi.js@3.0.8/src/core/renderers/webgl/managers/StencilManager"),k=a("npm:pixi.js@3.0.8/src/core/renderers/webgl/managers/FilterManager"),l=a("npm:pixi.js@3.0.8/src/core/renderers/webgl/managers/BlendModeManager"),m=a("npm:pixi.js@3.0.8/src/core/renderers/webgl/utils/RenderTarget"),n=a("npm:pixi.js@3.0.8/src/core/renderers/webgl/utils/ObjectRenderer"),o=a("npm:pixi.js@3.0.8/src/core/renderers/webgl/filters/FXAAFilter"),p=a("npm:pixi.js@3.0.8/src/core/utils/index"),q=a("npm:pixi.js@3.0.8/src/core/const");return d.prototype=Object.create(g.prototype),d.prototype.constructor=d,c.exports=d,p.pluginTarget.mixin(d),d.glContextId=0,d.prototype._createContext=function(){var a=this.view.getContext("webgl",this._contextOptions)||this.view.getContext("experimental-webgl",this._contextOptions);if(this.gl=a,!a)throw new Error("This browser does not support webGL. Try using the canvas renderer");this.glContextId=d.glContextId++,a.id=this.glContextId,a.renderer=this},d.prototype._initContext=function(){var a=this.gl;a.disable(a.DEPTH_TEST),a.disable(a.CULL_FACE),a.enable(a.BLEND),this.renderTarget=new m(a,this.width,this.height,null,this.resolution,!0),this.setRenderTarget(this.renderTarget),this.emit("context",a),this.resize(this.width,this.height),this._useFXAA||(this._useFXAA=this._contextOptions.antialias&&!a.getContextAttributes().antialias),this._useFXAA&&(window.console.warn("FXAA antialiasing being used instead of native antialiasing"),this._FXAAFilter=[new o])},d.prototype.render=function(a){if(!this.gl.isContextLost()){this.drawCount=0,this._lastObjectRendered=a,this._useFXAA&&(this._FXAAFilter[0].uniforms.resolution.value.x=this.width,this._FXAAFilter[0].uniforms.resolution.value.y=this.height,a.filterArea=this.renderTarget.size,a.filters=this._FXAAFilter);var b=a.parent;a.parent=this._tempDisplayObjectParent,a.updateTransform(),a.parent=b;var c=this.gl;this.setRenderTarget(this.renderTarget),this.clearBeforeRender&&(this.transparent?c.clearColor(0,0,0,0):c.clearColor(this._backgroundColorRgb[0],this._backgroundColorRgb[1],this._backgroundColorRgb[2],1),c.clear(c.COLOR_BUFFER_BIT)),this.renderDisplayObject(a,this.renderTarget)}},d.prototype.renderDisplayObject=function(a,b,c){this.setRenderTarget(b),c&&b.clear(),this.filterManager.setFilterStack(b.filterStack),a.renderWebGL(this),this.currentRenderer.flush()},d.prototype.setObjectRenderer=function(a){this.currentRenderer!==a&&(this.currentRenderer.stop(),this.currentRenderer=a,this.currentRenderer.start())},d.prototype.setRenderTarget=function(a){this.currentRenderTarget!==a&&(this.currentRenderTarget=a,this.currentRenderTarget.activate(),this.stencilManager.setMaskStack(a.stencilMaskStack))},d.prototype.resize=function(a,b){g.prototype.resize.call(this,a,b),this.filterManager.resize(a,b),this.renderTarget.resize(a,b),this.currentRenderTarget===this.renderTarget&&(this.renderTarget.activate(),this.gl.viewport(0,0,this.width,this.height))},d.prototype.updateTexture=function(a){if(a=a.baseTexture||a,a.hasLoaded){var b=this.gl;return a._glTextures[b.id]||(a._glTextures[b.id]=b.createTexture(),a.on("update",this.updateTexture,this),a.on("dispose",this.destroyTexture,this)),b.bindTexture(b.TEXTURE_2D,a._glTextures[b.id]),b.pixelStorei(b.UNPACK_PREMULTIPLY_ALPHA_WEBGL,a.premultipliedAlpha),b.texImage2D(b.TEXTURE_2D,0,b.RGBA,b.RGBA,b.UNSIGNED_BYTE,a.source),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,a.scaleMode===q.SCALE_MODES.LINEAR?b.LINEAR:b.NEAREST),a.mipmap&&a.isPowerOfTwo?(b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,a.scaleMode===q.SCALE_MODES.LINEAR?b.LINEAR_MIPMAP_LINEAR:b.NEAREST_MIPMAP_NEAREST),b.generateMipmap(b.TEXTURE_2D)):b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,a.scaleMode===q.SCALE_MODES.LINEAR?b.LINEAR:b.NEAREST),a.isPowerOfTwo?(b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,b.REPEAT),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,b.REPEAT)):(b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,b.CLAMP_TO_EDGE),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,b.CLAMP_TO_EDGE)),a._glTextures[b.id]}},d.prototype.destroyTexture=function(a){a=a.baseTexture||a,a.hasLoaded&&a._glTextures[this.gl.id]&&this.gl.deleteTexture(a._glTextures[this.gl.id])},d.prototype.handleContextLost=function(a){a.preventDefault()},d.prototype.handleContextRestored=function(){this._initContext();for(var a in p.BaseTextureCache)p.BaseTextureCache[a]._glTextures.length=0},d.prototype.destroy=function(a){this.destroyPlugins(),this.view.removeEventListener("webglcontextlost",this.handleContextLost),this.view.removeEventListener("webglcontextrestored",this.handleContextRestored);for(var b in p.BaseTextureCache){var c=p.BaseTextureCache[b];c.off("update",this.updateTexture,this),c.off("dispose",this.destroyTexture,this)}g.prototype.destroy.call(this,a),this.uid=0,this.shaderManager.destroy(),this.maskManager.destroy(),this.stencilManager.destroy(),this.filterManager.destroy(),this.blendModeManager.destroy(),this.shaderManager=null,this.maskManager=null,this.filterManager=null,this.blendModeManager=null,this.currentRenderer=null,this.handleContextLost=null,this.handleContextRestored=null,this._contextOptions=null,this.drawCount=0,this.gl.useProgram(null),this.gl=null},d.prototype._mapGlModes=function(){var a=this.gl;this.blendModes||(this.blendModes={},this.blendModes[q.BLEND_MODES.NORMAL]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],this.blendModes[q.BLEND_MODES.ADD]=[a.SRC_ALPHA,a.DST_ALPHA],this.blendModes[q.BLEND_MODES.MULTIPLY]=[a.DST_COLOR,a.ONE_MINUS_SRC_ALPHA],this.blendModes[q.BLEND_MODES.SCREEN]=[a.SRC_ALPHA,a.ONE],this.blendModes[q.BLEND_MODES.OVERLAY]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],this.blendModes[q.BLEND_MODES.DARKEN]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],this.blendModes[q.BLEND_MODES.LIGHTEN]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],this.blendModes[q.BLEND_MODES.COLOR_DODGE]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],this.blendModes[q.BLEND_MODES.COLOR_BURN]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],this.blendModes[q.BLEND_MODES.HARD_LIGHT]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],this.blendModes[q.BLEND_MODES.SOFT_LIGHT]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],this.blendModes[q.BLEND_MODES.DIFFERENCE]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],this.blendModes[q.BLEND_MODES.EXCLUSION]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],this.blendModes[q.BLEND_MODES.HUE]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],this.blendModes[q.BLEND_MODES.SATURATION]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],this.blendModes[q.BLEND_MODES.COLOR]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],this.blendModes[q.BLEND_MODES.LUMINOSITY]=[a.ONE,a.ONE_MINUS_SRC_ALPHA]),this.drawModes||(this.drawModes={},this.drawModes[q.DRAW_MODES.POINTS]=a.POINTS,this.drawModes[q.DRAW_MODES.LINES]=a.LINES,this.drawModes[q.DRAW_MODES.LINE_LOOP]=a.LINE_LOOP,this.drawModes[q.DRAW_MODES.LINE_STRIP]=a.LINE_STRIP,this.drawModes[q.DRAW_MODES.TRIANGLES]=a.TRIANGLES,this.drawModes[q.DRAW_MODES.TRIANGLE_STRIP]=a.TRIANGLE_STRIP,this.drawModes[q.DRAW_MODES.TRIANGLE_FAN]=a.TRIANGLE_FAN)},e.define=f,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/core/renderers/webgl/utils/ObjectRenderer",["npm:pixi.js@3.0.8/src/core/renderers/webgl/managers/WebGLManager"],!0,function(a,b,c){function d(a){g.call(this,a)}var e=this,f=e.define;e.define=void 0;var g=a("npm:pixi.js@3.0.8/src/core/renderers/webgl/managers/WebGLManager");return d.prototype=Object.create(g.prototype),d.prototype.constructor=d,c.exports=d,d.prototype.start=function(){},d.prototype.stop=function(){this.flush()},d.prototype.flush=function(){},d.prototype.render=function(a){},e.define=f,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/core/sprites/webgl/SpriteRenderer",["npm:pixi.js@3.0.8/src/core/renderers/webgl/utils/ObjectRenderer","npm:pixi.js@3.0.8/src/core/renderers/webgl/WebGLRenderer","npm:pixi.js@3.0.8/src/core/const"],!0,function(a,b,c){function d(a){g.call(this,a),this.vertSize=5,this.vertByteSize=4*this.vertSize,this.size=i.SPRITE_BATCH_SIZE;var b=4*this.size*this.vertByteSize,c=6*this.size;this.vertices=new ArrayBuffer(b),this.positions=new Float32Array(this.vertices),this.colors=new Uint32Array(this.vertices),this.indices=new Uint16Array(c);for(var d=0,e=0;c>d;d+=6,e+=4)this.indices[d+0]=e+0,this.indices[d+1]=e+1,this.indices[d+2]=e+2,this.indices[d+3]=e+0,this.indices[d+4]=e+2,this.indices[d+5]=e+3;this.currentBatchSize=0,this.sprites=[],this.shader=null}var e=this,f=e.define;e.define=void 0;var g=a("npm:pixi.js@3.0.8/src/core/renderers/webgl/utils/ObjectRenderer"),h=a("npm:pixi.js@3.0.8/src/core/renderers/webgl/WebGLRenderer"),i=a("npm:pixi.js@3.0.8/src/core/const");return d.prototype=Object.create(g.prototype),d.prototype.constructor=d,c.exports=d,h.registerPlugin("sprite",d),d.prototype.onContextChange=function(){var a=this.renderer.gl;this.shader=this.renderer.shaderManager.defaultShader,this.vertexBuffer=a.createBuffer(),this.indexBuffer=a.createBuffer(),a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.indexBuffer),a.bufferData(a.ELEMENT_ARRAY_BUFFER,this.indices,a.STATIC_DRAW),a.bindBuffer(a.ARRAY_BUFFER,this.vertexBuffer),a.bufferData(a.ARRAY_BUFFER,this.vertices,a.DYNAMIC_DRAW),this.currentBlendMode=99999},d.prototype.render=function(a){var b=a._texture;this.currentBatchSize>=this.size&&this.flush();var c=b._uvs;if(c){var d,e,f,g,h=a.anchor.x,i=a.anchor.y;if(b.trim&&void 0===a.tileScale){var j=b.trim;e=j.x-h*j.width,d=e+b.crop.width,g=j.y-i*j.height,f=g+b.crop.height}else d=b._frame.width*(1-h),e=b._frame.width*-h,f=b._frame.height*(1-i),g=b._frame.height*-i;var k=this.currentBatchSize*this.vertByteSize,l=a.worldTransform,m=l.a,n=l.b,o=l.c,p=l.d,q=l.tx,r=l.ty,s=this.colors,t=this.positions;this.renderer.roundPixels?(t[k]=m*e+o*g+q|0,t[k+1]=p*g+n*e+r|0,t[k+5]=m*d+o*g+q|0,t[k+6]=p*g+n*d+r|0,t[k+10]=m*d+o*f+q|0,t[k+11]=p*f+n*d+r|0,t[k+15]=m*e+o*f+q|0,t[k+16]=p*f+n*e+r|0):(t[k]=m*e+o*g+q,t[k+1]=p*g+n*e+r,t[k+5]=m*d+o*g+q,t[k+6]=p*g+n*d+r,t[k+10]=m*d+o*f+q,t[k+11]=p*f+n*d+r,t[k+15]=m*e+o*f+q,t[k+16]=p*f+n*e+r),t[k+2]=c.x0,t[k+3]=c.y0,t[k+7]=c.x1,t[k+8]=c.y1,t[k+12]=c.x2,t[k+13]=c.y2,t[k+17]=c.x3,t[k+18]=c.y3;var u=a.tint;s[k+4]=s[k+9]=s[k+14]=s[k+19]=(u>>16)+(65280&u)+((255&u)<<16)+(255*a.worldAlpha<<24),this.sprites[this.currentBatchSize++]=a}},d.prototype.flush=function(){if(0!==this.currentBatchSize){var a,b=this.renderer.gl;if(this.currentBatchSize>.5*this.size)b.bufferSubData(b.ARRAY_BUFFER,0,this.vertices);else{var c=this.positions.subarray(0,this.currentBatchSize*this.vertByteSize);b.bufferSubData(b.ARRAY_BUFFER,0,c)}for(var d,e,f,g,h=0,i=0,j=null,k=this.renderer.blendModeManager.currentBlendMode,l=null,m=!1,n=!1,o=0,p=this.currentBatchSize;p>o;o++)g=this.sprites[o],d=g._texture.baseTexture,e=g.blendMode,f=g.shader||this.shader,m=k!==e,n=l!==f,(j!==d||m||n)&&(this.renderBatch(j,h,i),i=o,h=0,j=d,m&&(k=e,this.renderer.blendModeManager.setBlendMode(k)),n&&(l=f,a=l.shaders?l.shaders[b.id]:l,a||(a=l.getShader(this.renderer)),this.renderer.shaderManager.setShader(a),a.uniforms.projectionMatrix.value=this.renderer.currentRenderTarget.projectionMatrix.toArray(!0),a.syncUniforms(),b.activeTexture(b.TEXTURE0))),h++;this.renderBatch(j,h,i),this.currentBatchSize=0}},d.prototype.renderBatch=function(a,b,c){if(0!==b){var d=this.renderer.gl;a._glTextures[d.id]?d.bindTexture(d.TEXTURE_2D,a._glTextures[d.id]):this.renderer.updateTexture(a),d.drawElements(d.TRIANGLES,6*b,d.UNSIGNED_SHORT,6*c*2),this.renderer.drawCount++}},d.prototype.start=function(){var a=this.renderer.gl;a.bindBuffer(a.ARRAY_BUFFER,this.vertexBuffer),a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.indexBuffer);var b=this.vertByteSize;a.vertexAttribPointer(this.shader.attributes.aVertexPosition,2,a.FLOAT,!1,b,0),a.vertexAttribPointer(this.shader.attributes.aTextureCoord,2,a.FLOAT,!1,b,8),a.vertexAttribPointer(this.shader.attributes.aColor,4,a.UNSIGNED_BYTE,!0,b,16)},d.prototype.destroy=function(){this.renderer.gl.deleteBuffer(this.vertexBuffer),this.renderer.gl.deleteBuffer(this.indexBuffer),g.prototype.destroy.call(this),this.shader.destroy(),this.renderer=null,this.vertices=null,this.positions=null,this.colors=null,this.indices=null,this.vertexBuffer=null,this.indexBuffer=null,this.sprites=null,this.shader=null},e.define=f,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/core/particles/ParticleContainer",["npm:pixi.js@3.0.8/src/core/display/Container","npm:pixi.js@3.0.8/src/core/const"],!0,function(a,b,c){function d(a,b,c){g.call(this),c=c||15e3,a=a||15e3;var d=16384;c>d&&(c=d),c>a&&(c=a),this._properties=[!1,!0,!1,!1,!1],this._maxSize=a,this._batchSize=c,this._buffers=null,this._bufferToUpdate=0,this.interactiveChildren=!1,this.blendMode=h.BLEND_MODES.NORMAL,this.roundPixels=!0,this.setProperties(b)}var e=this,f=e.define;e.define=void 0;var g=a("npm:pixi.js@3.0.8/src/core/display/Container"),h=a("npm:pixi.js@3.0.8/src/core/const");return d.prototype=Object.create(g.prototype),d.prototype.constructor=d,c.exports=d,d.prototype.setProperties=function(a){a&&(this._properties[0]="scale"in a?!!a.scale:this._properties[0],this._properties[1]="position"in a?!!a.position:this._properties[1],this._properties[2]="rotation"in a?!!a.rotation:this._properties[2],this._properties[3]="uvs"in a?!!a.uvs:this._properties[3],this._properties[4]="alpha"in a?!!a.alpha:this._properties[4])},d.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},d.prototype.renderWebGL=function(a){this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(a.setObjectRenderer(a.plugins.particle),a.plugins.particle.render(this))},d.prototype.onChildrenChange=function(a){var b=Math.floor(a/this._batchSize);b<this._bufferToUpdate&&(this._bufferToUpdate=b)},d.prototype.renderCanvas=function(a){if(this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable){var b=a.context,c=this.worldTransform,d=!0,e=0,f=0,g=0,h=0;b.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform();for(var i=0;i<this.children.length;++i){var j=this.children[i];if(j.visible){var k=j.texture.frame;if(b.globalAlpha=this.worldAlpha*j.alpha,j.rotation%(2*Math.PI)===0)d&&(b.setTransform(c.a,c.b,c.c,c.d,c.tx,c.ty),d=!1),e=j.anchor.x*(-k.width*j.scale.x)+j.position.x+.5,f=j.anchor.y*(-k.height*j.scale.y)+j.position.y+.5,g=k.width*j.scale.x,h=k.height*j.scale.y;else{d||(d=!0),j.displayObjectUpdateTransform();var l=j.worldTransform;a.roundPixels?b.setTransform(l.a,l.b,l.c,l.d,0|l.tx,0|l.ty):b.setTransform(l.a,l.b,l.c,l.d,l.tx,l.ty),e=j.anchor.x*-k.width+.5,f=j.anchor.y*-k.height+.5,g=k.width,h=k.height}b.drawImage(j.texture.baseTexture.source,k.x,k.y,k.width,k.height,e,f,g,h)}}}},d.prototype.destroy=function(){if(g.prototype.destroy.apply(this,arguments),this._buffers)for(var a=0;a<this._buffers.length;++a)this._buffers[a].destroy();this._properties=null,this._buffers=null},e.define=f,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/core/renderers/canvas/utils/CanvasTinter",["npm:pixi.js@3.0.8/src/core/utils/index"],!0,function(a,b,c){var d=this,e=d.define;d.define=void 0;var f=a("npm:pixi.js@3.0.8/src/core/utils/index"),g={};return c.exports=g,g.getTintedTexture=function(a,b){var c=a.texture;b=g.roundColor(b);var d="#"+("00000"+(0|b).toString(16)).substr(-6);if(c.tintCache=c.tintCache||{},c.tintCache[d])return c.tintCache[d];var e=g.canvas||document.createElement("canvas");if(g.tintMethod(c,b,e),g.convertTintToImage){var f=new Image;f.src=e.toDataURL(),c.tintCache[d]=f}else c.tintCache[d]=e,g.canvas=null;return e},g.tintWithMultiply=function(a,b,c){var d=c.getContext("2d"),e=a.baseTexture.resolution,f=a.crop.clone();f.x*=e,f.y*=e,f.width*=e,f.height*=e,c.width=f.width,c.height=f.height,d.fillStyle="#"+("00000"+(0|b).toString(16)).substr(-6),d.fillRect(0,0,f.width,f.height),d.globalCompositeOperation="multiply",d.drawImage(a.baseTexture.source,f.x,f.y,f.width,f.height,0,0,f.width,f.height),d.globalCompositeOperation="destination-atop",d.drawImage(a.baseTexture.source,f.x,f.y,f.width,f.height,0,0,f.width,f.height)},g.tintWithOverlay=function(a,b,c){var d=c.getContext("2d"),e=a.baseTexture.resolution,f=a.crop.clone();f.x*=e,
f.y*=e,f.width*=e,f.height*=e,c.width=f.width,c.height=f.height,d.globalCompositeOperation="copy",d.fillStyle="#"+("00000"+(0|b).toString(16)).substr(-6),d.fillRect(0,0,f.width,f.height),d.globalCompositeOperation="destination-atop",d.drawImage(a.baseTexture.source,f.x,f.y,f.width,f.height,0,0,f.width,f.height)},g.tintWithPerPixel=function(a,b,c){var d=c.getContext("2d"),e=a.baseTexture.resolution,g=a.crop.clone();g.x*=e,g.y*=e,g.width*=e,g.height*=e,c.width=g.width,c.height=g.height,d.globalCompositeOperation="copy",d.drawImage(a.baseTexture.source,g.x,g.y,g.width,g.height,0,0,g.width,g.height);for(var h=f.hex2rgb(b),i=h[0],j=h[1],k=h[2],l=d.getImageData(0,0,g.width,g.height),m=l.data,n=0;n<m.length;n+=4)m[n+0]*=i,m[n+1]*=j,m[n+2]*=k;d.putImageData(l,0,0)},g.roundColor=function(a){var b=g.cacheStepsPerColorChannel,c=f.hex2rgb(a);return c[0]=Math.min(255,c[0]/b*b),c[1]=Math.min(255,c[1]/b*b),c[2]=Math.min(255,c[2]/b*b),f.rgb2hex(c)},g.cacheStepsPerColorChannel=8,g.convertTintToImage=!1,g.canUseMultiply=f.canUseNewCanvasBlendModes(),g.tintMethod=g.canUseMultiply?g.tintWithMultiply:g.tintWithPerPixel,d.define=e,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/core/sprites/Sprite",["npm:pixi.js@3.0.8/src/core/math/index","npm:pixi.js@3.0.8/src/core/textures/Texture","npm:pixi.js@3.0.8/src/core/display/Container","npm:pixi.js@3.0.8/src/core/renderers/canvas/utils/CanvasTinter","npm:pixi.js@3.0.8/src/core/utils/index","npm:pixi.js@3.0.8/src/core/const"],!0,function(a,b,c){function d(a){i.call(this),this.anchor=new g.Point,this._texture=null,this._width=0,this._height=0,this.tint=16777215,this.blendMode=l.BLEND_MODES.NORMAL,this.shader=null,this.cachedTint=16777215,this.texture=a||h.EMPTY}var e=this,f=e.define;e.define=void 0;var g=a("npm:pixi.js@3.0.8/src/core/math/index"),h=a("npm:pixi.js@3.0.8/src/core/textures/Texture"),i=a("npm:pixi.js@3.0.8/src/core/display/Container"),j=a("npm:pixi.js@3.0.8/src/core/renderers/canvas/utils/CanvasTinter"),k=a("npm:pixi.js@3.0.8/src/core/utils/index"),l=a("npm:pixi.js@3.0.8/src/core/const"),m=new g.Point;return d.prototype=Object.create(i.prototype),d.prototype.constructor=d,c.exports=d,Object.defineProperties(d.prototype,{width:{get:function(){return Math.abs(this.scale.x)*this.texture._frame.width},set:function(a){this.scale.x=k.sign(this.scale.x)*a/this.texture._frame.width,this._width=a}},height:{get:function(){return Math.abs(this.scale.y)*this.texture._frame.height},set:function(a){this.scale.y=k.sign(this.scale.y)*a/this.texture._frame.height,this._height=a}},texture:{get:function(){return this._texture},set:function(a){this._texture!==a&&(this._texture=a,this.cachedTint=16777215,a&&(a.baseTexture.hasLoaded?this._onTextureUpdate():a.once("update",this._onTextureUpdate,this)))}}}),d.prototype._onTextureUpdate=function(){this._width&&(this.scale.x=k.sign(this.scale.x)*this._width/this.texture.frame.width),this._height&&(this.scale.y=k.sign(this.scale.y)*this._height/this.texture.frame.height)},d.prototype._renderWebGL=function(a){a.setObjectRenderer(a.plugins.sprite),a.plugins.sprite.render(this)},d.prototype.getBounds=function(a){if(!this._currentBounds){var b,c,d,e,f=this._texture._frame.width,g=this._texture._frame.height,h=f*(1-this.anchor.x),i=f*-this.anchor.x,j=g*(1-this.anchor.y),k=g*-this.anchor.y,l=a||this.worldTransform,m=l.a,n=l.b,o=l.c,p=l.d,q=l.tx,r=l.ty;if(0===n&&0===o)0>m&&(m*=-1),0>p&&(p*=-1),b=m*i+q,c=m*h+q,d=p*k+r,e=p*j+r;else{var s=m*i+o*k+q,t=p*k+n*i+r,u=m*h+o*k+q,v=p*k+n*h+r,w=m*h+o*j+q,x=p*j+n*h+r,y=m*i+o*j+q,z=p*j+n*i+r;b=s,b=b>u?u:b,b=b>w?w:b,b=b>y?y:b,d=t,d=d>v?v:d,d=d>x?x:d,d=d>z?z:d,c=s,c=u>c?u:c,c=w>c?w:c,c=y>c?y:c,e=t,e=v>e?v:e,e=x>e?x:e,e=z>e?z:e}if(this.children.length){var A=this.containerGetBounds();h=A.x,i=A.x+A.width,j=A.y,k=A.y+A.height,b=h>b?b:h,d=j>d?d:j,c=c>i?c:i,e=e>k?e:k}var B=this._bounds;B.x=b,B.width=c-b,B.y=d,B.height=e-d,this._currentBounds=B}return this._currentBounds},d.prototype.getLocalBounds=function(){return this._bounds.x=-this._texture._frame.width*this.anchor.x,this._bounds.y=-this._texture._frame.height*this.anchor.y,this._bounds.width=this._texture._frame.width,this._bounds.height=this._texture._frame.height,this._bounds},d.prototype.containsPoint=function(a){this.worldTransform.applyInverse(a,m);var b,c=this._texture._frame.width,d=this._texture._frame.height,e=-c*this.anchor.x;return m.x>e&&m.x<e+c&&(b=-d*this.anchor.y,m.y>b&&m.y<b+d)?!0:!1},d.prototype._renderCanvas=function(a){if(!(this.texture.crop.width<=0||this.texture.crop.height<=0)){var b=a.blendModes[this.blendMode];if(b!==a.context.globalCompositeOperation&&(a.context.globalCompositeOperation=b),this.texture.valid){var c,d,e,f,g=this._texture,h=this.worldTransform;a.context.globalAlpha=this.worldAlpha;var i=g.baseTexture.scaleMode===l.SCALE_MODES.LINEAR;if(a.smoothProperty&&a.context[a.smoothProperty]!==i&&(a.context[a.smoothProperty]=i),g.rotate){var k=h.a,m=h.b;h.a=-h.c,h.b=-h.d,h.c=k,h.d=m,e=g.crop.height,f=g.crop.width,c=g.trim?g.trim.y-this.anchor.y*g.trim.height:this.anchor.y*-g._frame.height,d=g.trim?g.trim.x-this.anchor.x*g.trim.width:this.anchor.x*-g._frame.width}else e=g.crop.width,f=g.crop.height,c=g.trim?g.trim.x-this.anchor.x*g.trim.width:this.anchor.x*-g._frame.width,d=g.trim?g.trim.y-this.anchor.y*g.trim.height:this.anchor.y*-g._frame.height;a.roundPixels?(a.context.setTransform(h.a,h.b,h.c,h.d,h.tx*a.resolution|0,h.ty*a.resolution|0),c=0|c,d=0|d):a.context.setTransform(h.a,h.b,h.c,h.d,h.tx*a.resolution,h.ty*a.resolution);var n=g.baseTexture.resolution;16777215!==this.tint?(this.cachedTint!==this.tint&&(this.cachedTint=this.tint,this.tintedTexture=j.getTintedTexture(this,this.tint)),a.context.drawImage(this.tintedTexture,0,0,e*n,f*n,c*a.resolution,d*a.resolution,e*a.resolution,f*a.resolution)):a.context.drawImage(g.baseTexture.source,g.crop.x*n,g.crop.y*n,e*n,f*n,c*a.resolution,d*a.resolution,e*a.resolution,f*a.resolution)}}},d.prototype.destroy=function(a,b){i.prototype.destroy.call(this),this.anchor=null,a&&this._texture.destroy(b),this._texture=null,this.shader=null},d.fromFrame=function(a){var b=k.TextureCache[a];if(!b)throw new Error('The frameId "'+a+'" does not exist in the texture cache');return new d(b)},d.fromImage=function(a,b,c){return new d(h.fromImage(a,b,c))},e.define=f,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/core/display/Container",["npm:pixi.js@3.0.8/src/core/math/index","npm:pixi.js@3.0.8/src/core/display/DisplayObject","npm:pixi.js@3.0.8/src/core/textures/RenderTexture"],!0,function(a,b,c){function d(){h.call(this),this.children=[]}var e=this,f=e.define;e.define=void 0;var g=a("npm:pixi.js@3.0.8/src/core/math/index"),h=a("npm:pixi.js@3.0.8/src/core/display/DisplayObject"),i=a("npm:pixi.js@3.0.8/src/core/textures/RenderTexture"),j=new g.Matrix;return d.prototype=Object.create(h.prototype),d.prototype.constructor=d,c.exports=d,Object.defineProperties(d.prototype,{width:{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(a){var b=this.getLocalBounds().width;0!==b?this.scale.x=a/b:this.scale.x=1,this._width=a}},height:{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(a){var b=this.getLocalBounds().height;0!==b?this.scale.y=a/b:this.scale.y=1,this._height=a}}}),d.prototype.onChildrenChange=function(){},d.prototype.addChild=function(a){return this.addChildAt(a,this.children.length)},d.prototype.addChildAt=function(a,b){if(a===this)return a;if(b>=0&&b<=this.children.length)return a.parent&&a.parent.removeChild(a),a.parent=this,this.children.splice(b,0,a),this.onChildrenChange(b),a.emit("added",this),a;throw new Error(a+"addChildAt: The index "+b+" supplied is out of bounds "+this.children.length)},d.prototype.swapChildren=function(a,b){if(a!==b){var c=this.getChildIndex(a),d=this.getChildIndex(b);if(0>c||0>d)throw new Error("swapChildren: Both the supplied DisplayObjects must be children of the caller.");this.children[c]=b,this.children[d]=a,this.onChildrenChange(d>c?c:d)}},d.prototype.getChildIndex=function(a){var b=this.children.indexOf(a);if(-1===b)throw new Error("The supplied DisplayObject must be a child of the caller");return b},d.prototype.setChildIndex=function(a,b){if(0>b||b>=this.children.length)throw new Error("The supplied index is out of bounds");var c=this.getChildIndex(a);this.children.splice(c,1),this.children.splice(b,0,a),this.onChildrenChange(b)},d.prototype.getChildAt=function(a){if(0>a||a>=this.children.length)throw new Error("getChildAt: Supplied index "+a+" does not exist in the child list, or the supplied DisplayObject is not a child of the caller");return this.children[a]},d.prototype.removeChild=function(a){var b=this.children.indexOf(a);if(-1!==b)return this.removeChildAt(b)},d.prototype.removeChildAt=function(a){var b=this.getChildAt(a);return b.parent=null,this.children.splice(a,1),this.onChildrenChange(a),b.emit("removed",this),b},d.prototype.removeChildren=function(a,b){var c,d,e=a||0,f="number"==typeof b?b:this.children.length,g=f-e;if(g>0&&f>=g){for(c=this.children.splice(e,g),d=0;d<c.length;++d)c[d].parent=null;for(this.onChildrenChange(a),d=0;d<c.length;++d)c[d].emit("removed",this);return c}if(0===g&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},d.prototype.generateTexture=function(a,b,c){var d=this.getLocalBounds(),e=new i(a,0|d.width,0|d.height,c,b);return j.tx=-d.x,j.ty=-d.y,e.render(this,j),e},d.prototype.updateTransform=function(){if(this.visible){this.displayObjectUpdateTransform();for(var a=0,b=this.children.length;b>a;++a)this.children[a].updateTransform()}},d.prototype.containerUpdateTransform=d.prototype.updateTransform,d.prototype.getBounds=function(){if(!this._currentBounds){if(0===this.children.length)return g.Rectangle.EMPTY;for(var a,b,c,d=1/0,e=1/0,f=-(1/0),h=-(1/0),i=!1,j=0,k=this.children.length;k>j;++j){var l=this.children[j];l.visible&&(i=!0,a=this.children[j].getBounds(),d=d<a.x?d:a.x,e=e<a.y?e:a.y,b=a.width+a.x,c=a.height+a.y,f=f>b?f:b,h=h>c?h:c)}if(!i)return g.Rectangle.EMPTY;var m=this._bounds;m.x=d,m.y=e,m.width=f-d,m.height=h-e,this._currentBounds=m}return this._currentBounds},d.prototype.containerGetBounds=d.prototype.getBounds,d.prototype.getLocalBounds=function(){var a=this.worldTransform;this.worldTransform=g.Matrix.IDENTITY;for(var b=0,c=this.children.length;c>b;++b)this.children[b].updateTransform();return this.worldTransform=a,this._currentBounds=null,this.getBounds(g.Matrix.IDENTITY)},d.prototype.renderWebGL=function(a){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable){var b,c;if(this._mask||this._filters){for(a.currentRenderer.flush(),this._filters&&this._filters.length&&a.filterManager.pushFilter(this,this._filters),this._mask&&a.maskManager.pushMask(this,this._mask),a.currentRenderer.start(),this._renderWebGL(a),b=0,c=this.children.length;c>b;b++)this.children[b].renderWebGL(a);a.currentRenderer.flush(),this._mask&&a.maskManager.popMask(this,this._mask),this._filters&&a.filterManager.popFilter(),a.currentRenderer.start()}else for(this._renderWebGL(a),b=0,c=this.children.length;c>b;++b)this.children[b].renderWebGL(a)}},d.prototype._renderWebGL=function(a){},d.prototype._renderCanvas=function(a){},d.prototype.renderCanvas=function(a){if(this.visible&&!(this.alpha<=0)&&this.renderable){this._mask&&a.maskManager.pushMask(this._mask,a),this._renderCanvas(a);for(var b=0,c=this.children.length;c>b;++b)this.children[b].renderCanvas(a);this._mask&&a.maskManager.popMask(a)}},d.prototype.destroy=function(a){if(h.prototype.destroy.call(this),a)for(var b=0,c=this.children.length;c>b;++b)this.children[b].destroy(a);this.removeChildren(),this.children=null},e.define=f,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/core/renderers/canvas/utils/CanvasBuffer",[],!0,function(a,b,c){function d(a,b){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.canvas.width=a,this.canvas.height=b}var e=this,f=e.define;return e.define=void 0,d.prototype.constructor=d,c.exports=d,Object.defineProperties(d.prototype,{width:{get:function(){return this.canvas.width},set:function(a){this.canvas.width=a}},height:{get:function(){return this.canvas.height},set:function(a){this.canvas.height=a}}}),d.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},d.prototype.resize=function(a,b){this.canvas.width=a,this.canvas.height=b},d.prototype.destroy=function(){this.context=null,this.canvas=null},e.define=f,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/core/renderers/webgl/utils/Quad",[],!0,function(a,b,c){function d(a){this.gl=a,this.vertices=new Float32Array([0,0,200,0,200,200,0,200]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.colors=new Float32Array([1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]),this.indices=new Uint16Array([0,1,2,0,3,2]),this.vertexBuffer=a.createBuffer(),this.indexBuffer=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.vertexBuffer),a.bufferData(a.ARRAY_BUFFER,128,a.DYNAMIC_DRAW),a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.indexBuffer),a.bufferData(a.ELEMENT_ARRAY_BUFFER,this.indices,a.STATIC_DRAW),this.upload()}var e=this,f=e.define;return e.define=void 0,d.prototype.constructor=d,d.prototype.map=function(a,b){var c=0,d=0;this.uvs[0]=c,this.uvs[1]=d,this.uvs[2]=c+b.width/a.width,this.uvs[3]=d,this.uvs[4]=c+b.width/a.width,this.uvs[5]=d+b.height/a.height,this.uvs[6]=c,this.uvs[7]=d+b.height/a.height,c=b.x,d=b.y,this.vertices[0]=c,this.vertices[1]=d,this.vertices[2]=c+b.width,this.vertices[3]=d,this.vertices[4]=c+b.width,this.vertices[5]=d+b.height,this.vertices[6]=c,this.vertices[7]=d+b.height,this.upload()},d.prototype.upload=function(){var a=this.gl;a.bindBuffer(a.ARRAY_BUFFER,this.vertexBuffer),a.bufferSubData(a.ARRAY_BUFFER,0,this.vertices),a.bufferSubData(a.ARRAY_BUFFER,32,this.uvs),a.bufferSubData(a.ARRAY_BUFFER,64,this.colors)},d.prototype.destroy=function(){var a=this.gl;a.deleteBuffer(this.vertexBuffer),a.deleteBuffer(this.indexBuffer)},c.exports=d,e.define=f,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/core/renderers/webgl/managers/WebGLManager",[],!0,function(a,b,c){function d(a){this.renderer=a,this.renderer.on("context",this.onContextChange,this)}var e=this,f=e.define;return e.define=void 0,d.prototype.constructor=d,c.exports=d,d.prototype.onContextChange=function(){},d.prototype.destroy=function(){this.renderer.off("context",this.onContextChange,this),this.renderer=null},e.define=f,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/core/renderers/webgl/managers/FilterManager",["npm:pixi.js@3.0.8/src/core/renderers/webgl/managers/WebGLManager","npm:pixi.js@3.0.8/src/core/renderers/webgl/utils/RenderTarget","npm:pixi.js@3.0.8/src/core/const","npm:pixi.js@3.0.8/src/core/renderers/webgl/utils/Quad","npm:pixi.js@3.0.8/src/core/math/index"],!0,function(a,b,c){function d(a){g.call(this,a),this.filterStack=[],this.filterStack.push({renderTarget:a.currentRenderTarget,filter:[],bounds:null}),this.texturePool=[],this.textureSize=new k.Rectangle(0,0,a.width,a.height),this.currentFrame=null}var e=this,f=e.define;e.define=void 0;var g=a("npm:pixi.js@3.0.8/src/core/renderers/webgl/managers/WebGLManager"),h=a("npm:pixi.js@3.0.8/src/core/renderers/webgl/utils/RenderTarget"),i=a("npm:pixi.js@3.0.8/src/core/const"),j=a("npm:pixi.js@3.0.8/src/core/renderers/webgl/utils/Quad"),k=a("npm:pixi.js@3.0.8/src/core/math/index");return d.prototype=Object.create(g.prototype),d.prototype.constructor=d,c.exports=d,d.prototype.onContextChange=function(){this.texturePool.length=0;var a=this.renderer.gl;this.quad=new j(a)},d.prototype.setFilterStack=function(a){this.filterStack=a},d.prototype.pushFilter=function(a,b){var c=a.filterArea?a.filterArea.clone():a.getBounds();c.x=0|c.x,c.y=0|c.y,c.width=0|c.width,c.height=0|c.height;var d=0|b[0].padding;if(c.x-=d,c.y-=d,c.width+=2*d,c.height+=2*d,this.renderer.currentRenderTarget.transform){var e=this.renderer.currentRenderTarget.transform;c.x+=e.tx,c.y+=e.ty,this.capFilterArea(c),c.x-=e.tx,c.y-=e.ty}else this.capFilterArea(c);if(c.width>0&&c.height>0){this.currentFrame=c;var f=this.getRenderTarget();this.renderer.setRenderTarget(f),f.clear(),this.filterStack.push({renderTarget:f,filter:b})}else this.filterStack.push({renderTarget:null,filter:b})},d.prototype.popFilter=function(){var a=this.filterStack.pop(),b=this.filterStack[this.filterStack.length-1],c=a.renderTarget;if(a.renderTarget){var d=b.renderTarget,e=this.renderer.gl;this.currentFrame=c.frame,this.quad.map(this.textureSize,c.frame),e.bindBuffer(e.ARRAY_BUFFER,this.quad.vertexBuffer),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.quad.indexBuffer);var f=a.filter;if(e.vertexAttribPointer(this.renderer.shaderManager.defaultShader.attributes.aVertexPosition,2,e.FLOAT,!1,0,0),e.vertexAttribPointer(this.renderer.shaderManager.defaultShader.attributes.aTextureCoord,2,e.FLOAT,!1,0,32),e.vertexAttribPointer(this.renderer.shaderManager.defaultShader.attributes.aColor,4,e.FLOAT,!1,0,64),this.renderer.blendModeManager.setBlendMode(i.BLEND_MODES.NORMAL),1===f.length)f[0].uniforms.dimensions&&(f[0].uniforms.dimensions.value[0]=this.renderer.width,f[0].uniforms.dimensions.value[1]=this.renderer.height,f[0].uniforms.dimensions.value[2]=this.quad.vertices[0],f[0].uniforms.dimensions.value[3]=this.quad.vertices[5]),f[0].applyFilter(this.renderer,c,d),this.returnRenderTarget(c);else{for(var g=c,h=this.getRenderTarget(!0),j=0;j<f.length-1;j++){var k=f[j];k.uniforms.dimensions&&(k.uniforms.dimensions.value[0]=this.renderer.width,k.uniforms.dimensions.value[1]=this.renderer.height,k.uniforms.dimensions.value[2]=this.quad.vertices[0],k.uniforms.dimensions.value[3]=this.quad.vertices[5]),k.applyFilter(this.renderer,g,h);var l=g;g=h,h=l}f[f.length-1].applyFilter(this.renderer,g,d),this.returnRenderTarget(g),this.returnRenderTarget(h)}return a.filter}},d.prototype.getRenderTarget=function(a){var b=this.texturePool.pop()||new h(this.renderer.gl,this.textureSize.width,this.textureSize.height,i.SCALE_MODES.LINEAR,this.renderer.resolution*i.FILTER_RESOLUTION);return b.frame=this.currentFrame,a&&b.clear(!0),b},d.prototype.returnRenderTarget=function(a){this.texturePool.push(a)},d.prototype.applyFilter=function(a,b,c,d){var e=this.renderer.gl;this.renderer.setRenderTarget(c),d&&c.clear(),this.renderer.shaderManager.setShader(a),a.uniforms.projectionMatrix.value=this.renderer.currentRenderTarget.projectionMatrix.toArray(!0),a.syncUniforms(),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,b.texture),e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0),this.renderer.drawCount++},d.prototype.calculateMappedMatrix=function(a,b,c){var d=b.worldTransform.copy(k.Matrix.TEMP_MATRIX),e=b._texture.baseTexture,f=c.identity(),g=this.textureSize.height/this.textureSize.width;f.translate(a.x/this.textureSize.width,a.y/this.textureSize.height),f.scale(1,g);var h=this.textureSize.width/e.width,i=this.textureSize.height/e.height;return d.tx/=e.width*h,d.ty/=e.width*h,d.invert(),f.prepend(d),f.scale(1,1/g),f.scale(h,i),f.translate(b.anchor.x,b.anchor.y),f},d.prototype.capFilterArea=function(a){a.x<0&&(a.width+=a.x,a.x=0),a.y<0&&(a.height+=a.y,a.y=0),a.x+a.width>this.textureSize.width&&(a.width=this.textureSize.width-a.x),a.y+a.height>this.textureSize.height&&(a.height=this.textureSize.height-a.y)},d.prototype.resize=function(a,b){this.textureSize.width=a,this.textureSize.height=b;for(var c=0;c<this.texturePool.length;c++)this.texturePool[c].resize(a,b)},d.prototype.destroy=function(){this.quad.destroy(),g.prototype.destroy.call(this),this.filterStack=null,this.offsetY=0;for(var a=0;a<this.texturePool.length;a++)this.texturePool[a].destroy();this.texturePool=null},e.define=f,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/core/renderers/webgl/utils/StencilMaskStack",[],!0,function(a,b,c){function d(){this.stencilStack=[],this.reverse=!0,this.count=0}var e=this,f=e.define;return e.define=void 0,d.prototype.constructor=d,c.exports=d,e.define=f,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/core/renderers/webgl/utils/RenderTarget",["npm:pixi.js@3.0.8/src/core/math/index","npm:pixi.js@3.0.8/src/core/utils/index","npm:pixi.js@3.0.8/src/core/const","npm:pixi.js@3.0.8/src/core/renderers/webgl/utils/StencilMaskStack"],!0,function(a,b,c){var d=this,e=d.define;d.define=void 0;var f=a("npm:pixi.js@3.0.8/src/core/math/index"),g=a("npm:pixi.js@3.0.8/src/core/utils/index"),h=a("npm:pixi.js@3.0.8/src/core/const"),i=a("npm:pixi.js@3.0.8/src/core/renderers/webgl/utils/StencilMaskStack"),j=function(a,b,c,d,e,j){if(this.gl=a,this.frameBuffer=null,this.texture=null,this.size=new f.Rectangle(0,0,1,1),this.resolution=e||h.RESOLUTION,this.projectionMatrix=new f.Matrix,this.transform=null,this.frame=null,this.stencilBuffer=null,this.stencilMaskStack=new i,this.filterStack=[{renderTarget:this,filter:[],bounds:this.size}],this.scaleMode=d||h.SCALE_MODES.DEFAULT,this.root=j,!this.root){this.frameBuffer=a.createFramebuffer(),this.texture=a.createTexture(),a.bindTexture(a.TEXTURE_2D,this.texture),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,d===h.SCALE_MODES.LINEAR?a.LINEAR:a.NEAREST),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,d===h.SCALE_MODES.LINEAR?a.LINEAR:a.NEAREST);var k=g.isPowerOfTwo(b,c);k?(a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.REPEAT),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.REPEAT)):(a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE)),a.bindFramebuffer(a.FRAMEBUFFER,this.frameBuffer),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,this.texture,0)}this.resize(b,c)};return j.prototype.constructor=j,c.exports=j,j.prototype.clear=function(a){var b=this.gl;a&&b.bindFramebuffer(b.FRAMEBUFFER,this.frameBuffer),b.clearColor(0,0,0,0),b.clear(b.COLOR_BUFFER_BIT)},j.prototype.attachStencilBuffer=function(){if(!this.stencilBuffer&&!this.root){var a=this.gl;this.stencilBuffer=a.createRenderbuffer(),a.bindRenderbuffer(a.RENDERBUFFER,this.stencilBuffer),a.framebufferRenderbuffer(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.RENDERBUFFER,this.stencilBuffer),a.renderbufferStorage(a.RENDERBUFFER,a.DEPTH_STENCIL,this.size.width*this.resolution,this.size.height*this.resolution)}},j.prototype.activate=function(){var a=this.gl;a.bindFramebuffer(a.FRAMEBUFFER,this.frameBuffer);var b=this.frame||this.size;this.calculateProjection(b),this.transform&&this.projectionMatrix.append(this.transform),a.viewport(0,0,b.width*this.resolution,b.height*this.resolution)},j.prototype.calculateProjection=function(a){var b=this.projectionMatrix;b.identity(),this.root?(b.a=1/a.width*2,b.d=-1/a.height*2,b.tx=-1-a.x*b.a,b.ty=1-a.y*b.d):(b.a=1/a.width*2,b.d=1/a.height*2,b.tx=-1-a.x*b.a,b.ty=-1-a.y*b.d)},j.prototype.resize=function(a,b){if(a=0|a,b=0|b,this.size.width!==a||this.size.height!==b){if(this.size.width=a,this.size.height=b,!this.root){var c=this.gl;c.bindTexture(c.TEXTURE_2D,this.texture),c.texImage2D(c.TEXTURE_2D,0,c.RGBA,a*this.resolution,b*this.resolution,0,c.RGBA,c.UNSIGNED_BYTE,null),this.stencilBuffer&&(c.bindRenderbuffer(c.RENDERBUFFER,this.stencilBuffer),c.renderbufferStorage(c.RENDERBUFFER,c.DEPTH_STENCIL,a*this.resolution,b*this.resolution))}var d=this.frame||this.size;this.calculateProjection(d)}},j.prototype.destroy=function(){var a=this.gl;a.deleteRenderbuffer(this.stencilBuffer),a.deleteFramebuffer(this.frameBuffer),a.deleteTexture(this.texture),this.frameBuffer=null,this.texture=null},d.define=e,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/core/textures/TextureUvs",[],!0,function(a,b,c){function d(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1}var e=this,f=e.define;return e.define=void 0,c.exports=d,d.prototype.set=function(a,b,c){var d=b.width,e=b.height;c?(this.x0=(a.x+a.height)/d,this.y0=a.y/e,this.x1=(a.x+a.height)/d,this.y1=(a.y+a.width)/e,this.x2=a.x/d,this.y2=(a.y+a.width)/e,this.x3=a.x/d,this.y3=a.y/e):(this.x0=a.x/d,this.y0=a.y/e,this.x1=(a.x+a.width)/d,this.y1=a.y/e,this.x2=(a.x+a.width)/d,this.y2=(a.y+a.height)/e,this.x3=a.x/d,this.y3=(a.y+a.height)/e)},e.define=f,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/core/textures/VideoBaseTexture",["npm:pixi.js@3.0.8/src/core/textures/BaseTexture","npm:pixi.js@3.0.8/src/core/utils/index","github:jspm/nodelibs-process@0.1.2"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,function(b){function d(a,b){if(!a)throw new Error("No video source element specified.");(a.readyState===a.HAVE_ENOUGH_DATA||a.readyState===a.HAVE_FUTURE_DATA)&&a.width&&a.height&&(a.complete=!0),f.call(this,a,b),this.autoUpdate=!1,this._onUpdate=this._onUpdate.bind(this),this._onCanPlay=this._onCanPlay.bind(this),a.complete||(a.addEventListener("canplay",this._onCanPlay),a.addEventListener("canplaythrough",this._onCanPlay),a.addEventListener("play",this._onPlayStart.bind(this)),a.addEventListener("pause",this._onPlayStop.bind(this))),this.__loaded=!1}function e(a,b){b||(b="video/"+a.substr(a.lastIndexOf(".")+1));var c=document.createElement("source");return c.src=a,c.type=b,c}var f=a("npm:pixi.js@3.0.8/src/core/textures/BaseTexture"),g=a("npm:pixi.js@3.0.8/src/core/utils/index");d.prototype=Object.create(f.prototype),d.prototype.constructor=d,c.exports=d,d.prototype._onUpdate=function(){this.autoUpdate&&(window.requestAnimationFrame(this._onUpdate),this.update())},d.prototype._onPlayStart=function(){this.autoUpdate||(window.requestAnimationFrame(this._onUpdate),this.autoUpdate=!0)},d.prototype._onPlayStop=function(){this.autoUpdate=!1},d.prototype._onCanPlay=function(){this.hasLoaded=!0,this.source&&(this.source.removeEventListener("canplay",this._onCanPlay),this.source.removeEventListener("canplaythrough",this._onCanPlay),this.width=this.source.videoWidth,this.height=this.source.videoHeight,this.source.play(),this.__loaded||(this.__loaded=!0,this.emit("loaded",this)))},d.prototype.destroy=function(){this.source&&this.source._pixiId&&(delete g.BaseTextureCache[this.source._pixiId],delete this.source._pixiId),f.prototype.destroy.call(this)},d.fromVideo=function(a,b){a._pixiId||(a._pixiId="video_"+g.uid());var c=g.BaseTextureCache[a._pixiId];return c||(c=new d(a,b),g.BaseTextureCache[a._pixiId]=c),c},d.fromUrl=function(a,b){var c=document.createElement("video");if(Array.isArray(a))for(var f=0;f<a.length;++f)c.appendChild(e(a[f].src||a[f],a[f].mime));else c.appendChild(e(a.src||a,a.mime));return c.load(),c.play(),d.fromVideo(c,b)},d.fromUrls=d.fromUrl}(a("github:jspm/nodelibs-process@0.1.2")),d.define=e,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/core/textures/Texture",["npm:pixi.js@3.0.8/src/core/textures/BaseTexture","npm:pixi.js@3.0.8/src/core/textures/VideoBaseTexture","npm:pixi.js@3.0.8/src/core/textures/TextureUvs","npm:eventemitter3@1.1.1","npm:pixi.js@3.0.8/src/core/math/index","npm:pixi.js@3.0.8/src/core/utils/index"],!0,function(a,b,c){function d(a,b,c,e,f){j.call(this),this.noFrame=!1,b||(this.noFrame=!0,b=new k.Rectangle(0,0,1,1)),a instanceof d&&(a=a.baseTexture),this.baseTexture=a,this._frame=b,this.trim=e,this.valid=!1,this.requiresUpdate=!1,this._uvs=null,this.width=0,this.height=0,this.crop=c||b,this.rotate=!!f,a.hasLoaded?(this.noFrame&&(b=new k.Rectangle(0,0,a.width,a.height),a.on("update",this.onBaseTextureUpdated,this)),this.frame=b):a.once("loaded",this.onBaseTextureLoaded,this)}var e=this,f=e.define;e.define=void 0;var g=a("npm:pixi.js@3.0.8/src/core/textures/BaseTexture"),h=a("npm:pixi.js@3.0.8/src/core/textures/VideoBaseTexture"),i=a("npm:pixi.js@3.0.8/src/core/textures/TextureUvs"),j=a("npm:eventemitter3@1.1.1"),k=a("npm:pixi.js@3.0.8/src/core/math/index"),l=a("npm:pixi.js@3.0.8/src/core/utils/index");return d.prototype=Object.create(j.prototype),d.prototype.constructor=d,c.exports=d,Object.defineProperties(d.prototype,{frame:{get:function(){return this._frame},set:function(a){if(this._frame=a,this.noFrame=!1,this.width=a.width,this.height=a.height,!this.trim&&!this.rotate&&(a.x+a.width>this.baseTexture.width||a.y+a.height>this.baseTexture.height))throw new Error("Texture Error: frame does not fit inside the base Texture dimensions "+this);this.valid=a&&a.width&&a.height&&this.baseTexture.hasLoaded,this.trim?(this.width=this.trim.width,this.height=this.trim.height,this._frame.width=this.trim.width,this._frame.height=this.trim.height):this.crop=a,this.valid&&this._updateUvs()}}}),d.prototype.update=function(){this.baseTexture.update()},d.prototype.onBaseTextureLoaded=function(a){this.noFrame?this.frame=new k.Rectangle(0,0,a.width,a.height):this.frame=this._frame,this.emit("update",this)},d.prototype.onBaseTextureUpdated=function(a){this._frame.width=a.width,this._frame.height=a.height,this.emit("update",this)},d.prototype.destroy=function(a){this.baseTexture&&(a&&this.baseTexture.destroy(),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture.off("loaded",this.onBaseTextureLoaded,this),this.baseTexture=null),this._frame=null,this._uvs=null,this.trim=null,this.crop=null,this.valid=!1,this.off("dispose",this.dispose,this),this.off("update",this.update,this)},d.prototype.clone=function(){return new d(this.baseTexture,this.frame,this.crop,this.trim,this.rotate)},d.prototype._updateUvs=function(){this._uvs||(this._uvs=new i),this._uvs.set(this.crop,this.baseTexture,this.rotate)},d.fromImage=function(a,b,c){var e=l.TextureCache[a];return e||(e=new d(g.fromImage(a,b,c)),l.TextureCache[a]=e),e},d.fromFrame=function(a){var b=l.TextureCache[a];if(!b)throw new Error('The frameId "'+a+'" does not exist in the texture cache');return b},d.fromCanvas=function(a,b){return new d(g.fromCanvas(a,b))},d.fromVideo=function(a,b){return"string"==typeof a?d.fromVideoUrl(a,b):new d(h.fromVideo(a,b))},d.fromVideoUrl=function(a,b){return new d(h.fromUrl(a,b))},d.addTextureToCache=function(a,b){l.TextureCache[b]=a},d.removeTextureFromCache=function(a){var b=l.TextureCache[a];return delete l.TextureCache[a],delete l.BaseTextureCache[a],b},d.EMPTY=new d(new g),e.define=f,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/core/textures/BaseTexture",["npm:pixi.js@3.0.8/src/core/utils/index","npm:pixi.js@3.0.8/src/core/const","npm:eventemitter3@1.1.1"],!0,function(a,b,c){function d(a,b,c){i.call(this),this.uid=g.uid(),this.resolution=c||1,this.width=100,this.height=100,this.realWidth=100,this.realHeight=100,this.scaleMode=b||h.SCALE_MODES.DEFAULT,this.hasLoaded=!1,this.isLoading=!1,this.source=null,this.premultipliedAlpha=!0,this.imageUrl=null,this.isPowerOfTwo=!1,this.mipmap=!1,this._glTextures=[],a&&this.loadSource(a)}var e=this,f=e.define;e.define=void 0;var g=a("npm:pixi.js@3.0.8/src/core/utils/index"),h=a("npm:pixi.js@3.0.8/src/core/const"),i=a("npm:eventemitter3@1.1.1");return d.prototype=Object.create(i.prototype),d.prototype.constructor=d,c.exports=d,d.prototype.update=function(){this.realWidth=this.source.naturalWidth||this.source.width,this.realHeight=this.source.naturalHeight||this.source.height,this.width=this.realWidth/this.resolution,this.height=this.realHeight/this.resolution,this.isPowerOfTwo=g.isPowerOfTwo(this.realWidth,this.realHeight),this.emit("update",this)},d.prototype.loadSource=function(a){var b=this.isLoading;if(this.hasLoaded=!1,this.isLoading=!1,b&&this.source&&(this.source.onload=null,this.source.onerror=null),this.source=a,(this.source.complete||this.source.getContext)&&this.source.width&&this.source.height)this._sourceLoaded();else if(!a.getContext){this.isLoading=!0;var c=this;a.onload=function(){a.onload=null,a.onerror=null,c.isLoading&&(c.isLoading=!1,c._sourceLoaded(),c.emit("loaded",c))},a.onerror=function(){a.onload=null,a.onerror=null,c.isLoading&&(c.isLoading=!1,c.emit("error",c))},a.complete&&a.src&&(this.isLoading=!1,a.onload=null,a.onerror=null,a.width&&a.height?(this._sourceLoaded(),b&&this.emit("loaded",this)):b&&this.emit("error",this))}},d.prototype._sourceLoaded=function(){this.hasLoaded=!0,this.update()},d.prototype.destroy=function(){
this.imageUrl?(delete g.BaseTextureCache[this.imageUrl],delete g.TextureCache[this.imageUrl],this.imageUrl=null,navigator.isCocoonJS||(this.source.src="")):this.source&&this.source._pixiId&&delete g.BaseTextureCache[this.source._pixiId],this.source=null,this.dispose()},d.prototype.dispose=function(){this.emit("dispose",this),this._glTextures.length=0},d.prototype.updateSourceImage=function(a){this.source.src=a,this.loadSource(this.source)},d.fromImage=function(a,b,c){var e=g.BaseTextureCache[a];if(void 0===b&&0!==a.indexOf("data:")&&(b=!0),!e){var f=new Image;b&&(f.crossOrigin=""),e=new d(f,c),e.imageUrl=a,f.src=a,g.BaseTextureCache[a]=e,e.resolution=g.getResolutionOfUrl(a)}return e},d.fromCanvas=function(a,b){a._pixiId||(a._pixiId="canvas_"+g.uid());var c=g.BaseTextureCache[a._pixiId];return c||(c=new d(a,b),g.BaseTextureCache[a._pixiId]=c),c},e.define=f,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/core/textures/RenderTexture",["npm:pixi.js@3.0.8/src/core/textures/BaseTexture","npm:pixi.js@3.0.8/src/core/textures/Texture","npm:pixi.js@3.0.8/src/core/renderers/webgl/utils/RenderTarget","npm:pixi.js@3.0.8/src/core/renderers/webgl/managers/FilterManager","npm:pixi.js@3.0.8/src/core/renderers/canvas/utils/CanvasBuffer","npm:pixi.js@3.0.8/src/core/math/index","npm:pixi.js@3.0.8/src/core/const"],!0,function(a,b,c){function d(a,b,c,d,e){if(!a)throw new Error("Unable to create RenderTexture, you must pass a renderer into the constructor.");b=b||100,c=c||100,e=e||m.RESOLUTION;var f=new g;if(f.width=b,f.height=c,f.resolution=e,f.scaleMode=d||m.SCALE_MODES.DEFAULT,f.hasLoaded=!0,h.call(this,f,new l.Rectangle(0,0,b,c)),this.width=b,this.height=c,this.resolution=e,this.render=null,this.renderer=a,this.renderer.type===m.RENDERER_TYPE.WEBGL){var n=this.renderer.gl;this.textureBuffer=new i(n,this.width,this.height,f.scaleMode,this.resolution),this.baseTexture._glTextures[n.id]=this.textureBuffer.texture,this.filterManager=new j(this.renderer),this.filterManager.onContextChange(),this.filterManager.resize(b,c),this.render=this.renderWebGL,this.renderer.currentRenderer.start(),this.renderer.currentRenderTarget.activate()}else this.render=this.renderCanvas,this.textureBuffer=new k(this.width*this.resolution,this.height*this.resolution),this.baseTexture.source=this.textureBuffer.canvas;this.valid=!0,this._updateUvs()}var e=this,f=e.define;e.define=void 0;var g=a("npm:pixi.js@3.0.8/src/core/textures/BaseTexture"),h=a("npm:pixi.js@3.0.8/src/core/textures/Texture"),i=a("npm:pixi.js@3.0.8/src/core/renderers/webgl/utils/RenderTarget"),j=a("npm:pixi.js@3.0.8/src/core/renderers/webgl/managers/FilterManager"),k=a("npm:pixi.js@3.0.8/src/core/renderers/canvas/utils/CanvasBuffer"),l=a("npm:pixi.js@3.0.8/src/core/math/index"),m=a("npm:pixi.js@3.0.8/src/core/const"),n=new l.Matrix;return d.prototype=Object.create(h.prototype),d.prototype.constructor=d,c.exports=d,d.prototype.resize=function(a,b,c){(a!==this.width||b!==this.height)&&(this.valid=a>0&&b>0,this.width=this._frame.width=this.crop.width=a,this.height=this._frame.height=this.crop.height=b,c&&(this.baseTexture.width=this.width,this.baseTexture.height=this.height),this.valid&&(this.textureBuffer.resize(this.width,this.height),this.filterManager&&this.filterManager.resize(this.width,this.height)))},d.prototype.clear=function(){this.valid&&(this.renderer.type===m.RENDERER_TYPE.WEBGL&&this.renderer.gl.bindFramebuffer(this.renderer.gl.FRAMEBUFFER,this.textureBuffer.frameBuffer),this.textureBuffer.clear())},d.prototype.renderWebGL=function(a,b,c,d){if(this.valid){if(d=void 0!==d?d:!0,this.textureBuffer.transform=b,this.textureBuffer.activate(),a.worldAlpha=1,d){a.worldTransform.identity(),a.currentBounds=null;var e,f,g=a.children;for(e=0,f=g.length;f>e;++e)g[e].updateTransform()}var h=this.renderer.filterManager;this.renderer.filterManager=this.filterManager,this.renderer.renderDisplayObject(a,this.textureBuffer,c),this.renderer.filterManager=h}},d.prototype.renderCanvas=function(a,b,c,d){if(this.valid){d=!!d;var e=n;e.identity(),b&&e.append(b),a.worldTransform=e;var f=a.worldTransform;a.worldAlpha=1;var g,h,i=a.children;for(g=0,h=i.length;h>g;++g)i[g].updateTransform();c&&this.textureBuffer.clear();var j=this.textureBuffer.context,k=this.renderer.resolution;this.renderer.resolution=this.resolution,this.renderer.renderDisplayObject(a,j),this.renderer.resolution=k,a.worldTransform=f}},d.prototype.destroy=function(){h.prototype.destroy.call(this,!0),this.textureBuffer.destroy(),this.filterManager&&this.filterManager.destroy(),this.renderer=null},d.prototype.getImage=function(){var a=new Image;return a.src=this.getBase64(),a},d.prototype.getBase64=function(){return this.getCanvas().toDataURL()},d.prototype.getCanvas=function(){if(this.renderer.type===m.RENDERER_TYPE.WEBGL){var a=this.renderer.gl,b=this.textureBuffer.size.width,c=this.textureBuffer.size.height,d=new Uint8Array(4*b*c);a.bindFramebuffer(a.FRAMEBUFFER,this.textureBuffer.frameBuffer),a.readPixels(0,0,b,c,a.RGBA,a.UNSIGNED_BYTE,d),a.bindFramebuffer(a.FRAMEBUFFER,null);var e=new k(b,c),f=e.context.getImageData(0,0,b,c);return f.data.set(d),e.context.putImageData(f,0,0),e.canvas}return this.textureBuffer.canvas},d.prototype.getPixels=function(){var a,b;if(this.renderer.type===m.RENDERER_TYPE.WEBGL){var c=this.renderer.gl;a=this.textureBuffer.size.width,b=this.textureBuffer.size.height;var d=new Uint8Array(4*a*b);return c.bindFramebuffer(c.FRAMEBUFFER,this.textureBuffer.frameBuffer),c.readPixels(0,0,a,b,c.RGBA,c.UNSIGNED_BYTE,d),c.bindFramebuffer(c.FRAMEBUFFER,null),d}return a=this.textureBuffer.canvas.width,b=this.textureBuffer.canvas.height,this.textureBuffer.canvas.getContext("2d").getImageData(0,0,a,b).data},d.prototype.getPixel=function(a,b){if(this.renderer.type===m.RENDERER_TYPE.WEBGL){var c=this.renderer.gl,d=new Uint8Array(4);return c.bindFramebuffer(c.FRAMEBUFFER,this.textureBuffer.frameBuffer),c.readPixels(a,b,1,1,c.RGBA,c.UNSIGNED_BYTE,d),c.bindFramebuffer(c.FRAMEBUFFER,null),d}return this.textureBuffer.canvas.getContext("2d").getImageData(a,b,1,1).data},e.define=f,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/core/display/DisplayObject",["npm:pixi.js@3.0.8/src/core/math/index","npm:pixi.js@3.0.8/src/core/textures/RenderTexture","npm:eventemitter3@1.1.1","npm:pixi.js@3.0.8/src/core/const","github:jspm/nodelibs-process@0.1.2"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,function(b){function d(){g.call(this),this.position=new e.Point,this.scale=new e.Point(1,1),this.pivot=new e.Point(0,0),this.rotation=0,this.alpha=1,this.visible=!0,this.renderable=!0,this.parent=null,this.worldAlpha=1,this.worldTransform=new e.Matrix,this.filterArea=null,this._sr=0,this._cr=1,this._bounds=new e.Rectangle(0,0,1,1),this._currentBounds=null,this._mask=null}var e=a("npm:pixi.js@3.0.8/src/core/math/index"),f=a("npm:pixi.js@3.0.8/src/core/textures/RenderTexture"),g=a("npm:eventemitter3@1.1.1"),h=a("npm:pixi.js@3.0.8/src/core/const"),i=new e.Matrix,j={worldTransform:new e.Matrix,worldAlpha:1,children:[]};d.prototype=Object.create(g.prototype),d.prototype.constructor=d,c.exports=d,Object.defineProperties(d.prototype,{x:{get:function(){return this.position.x},set:function(a){this.position.x=a}},y:{get:function(){return this.position.y},set:function(a){this.position.y=a}},worldVisible:{get:function(){var a=this;do{if(!a.visible)return!1;a=a.parent}while(a);return!0}},mask:{get:function(){return this._mask},set:function(a){this._mask&&(this._mask.renderable=!0),this._mask=a,this._mask&&(this._mask.renderable=!1)}},filters:{get:function(){return this._filters&&this._filters.slice()},set:function(a){this._filters=a&&a.slice()}}}),d.prototype.updateTransform=function(){var a,b,c,d,e,f,g=this.parent.worldTransform,i=this.worldTransform;this.rotation%h.PI_2?(this.rotation!==this.rotationCache&&(this.rotationCache=this.rotation,this._sr=Math.sin(this.rotation),this._cr=Math.cos(this.rotation)),a=this._cr*this.scale.x,b=this._sr*this.scale.x,c=-this._sr*this.scale.y,d=this._cr*this.scale.y,e=this.position.x,f=this.position.y,(this.pivot.x||this.pivot.y)&&(e-=this.pivot.x*a+this.pivot.y*c,f-=this.pivot.x*b+this.pivot.y*d),i.a=a*g.a+b*g.c,i.b=a*g.b+b*g.d,i.c=c*g.a+d*g.c,i.d=c*g.b+d*g.d,i.tx=e*g.a+f*g.c+g.tx,i.ty=e*g.b+f*g.d+g.ty):(a=this.scale.x,d=this.scale.y,e=this.position.x-this.pivot.x*a,f=this.position.y-this.pivot.y*d,i.a=a*g.a,i.b=a*g.b,i.c=d*g.c,i.d=d*g.d,i.tx=e*g.a+f*g.c+g.tx,i.ty=e*g.b+f*g.d+g.ty),this.worldAlpha=this.alpha*this.parent.worldAlpha,this._currentBounds=null},d.prototype.displayObjectUpdateTransform=d.prototype.updateTransform,d.prototype.getBounds=function(a){return e.Rectangle.EMPTY},d.prototype.getLocalBounds=function(){return this.getBounds(e.Matrix.IDENTITY)},d.prototype.toGlobal=function(a){return this.parent?this.displayObjectUpdateTransform():(this.parent=j,this.displayObjectUpdateTransform(),this.parent=null),this.worldTransform.apply(a)},d.prototype.toLocal=function(a,b){return b&&(a=b.toGlobal(a)),this.parent?this.displayObjectUpdateTransform():(this.parent=j,this.displayObjectUpdateTransform(),this.parent=null),this.worldTransform.applyInverse(a)},d.prototype.renderWebGL=function(a){},d.prototype.renderCanvas=function(a){},d.prototype.generateTexture=function(a,b,c){var d=this.getLocalBounds(),e=new f(a,0|d.width,0|d.height,b,c);return i.tx=-d.x,i.ty=-d.y,e.render(this,i),e},d.prototype.setParent=function(a){if(!a||!a.addChild)throw new Error("setParent: Argument must be a Container");return a.addChild(this),a},d.prototype.destroy=function(){this.position=null,this.scale=null,this.pivot=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.worldTransform=null,this.filterArea=null}}(a("github:jspm/nodelibs-process@0.1.2")),d.define=e,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/core/ticker/Ticker",["npm:pixi.js@3.0.8/src/core/const","npm:eventemitter3@1.1.1"],!0,function(a,b,c){function d(){var a=this;this._tick=function(b){a._requestId=null,a.started&&(a.update(b),a.started&&null===a._requestId&&a._emitter.listeners(i,!0)&&(a._requestId=requestAnimationFrame(a._tick)))},this._emitter=new h,this._requestId=null,this._maxElapsedMS=100,this.autoStart=!1,this.deltaTime=1,this.elapsedMS=1/g.TARGET_FPMS,this.lastTime=0,this.speed=1,this.started=!1}var e=this,f=e.define;e.define=void 0;var g=a("npm:pixi.js@3.0.8/src/core/const"),h=a("npm:eventemitter3@1.1.1"),i="tick";return Object.defineProperties(d.prototype,{FPS:{get:function(){return 1e3/this.elapsedMS}},minFPS:{get:function(){return 1e3/this._maxElapsedMS},set:function(a){var b=Math.min(Math.max(0,a)/1e3,g.TARGET_FPMS);this._maxElapsedMS=1/b}}}),d.prototype._requestIfNeeded=function(){null===this._requestId&&this._emitter.listeners(i,!0)&&(this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick))},d.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},d.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},d.prototype.add=function(a,b){return this._emitter.on(i,a,b),this._startIfPossible(),this},d.prototype.addOnce=function(a,b){return this._emitter.once(i,a,b),this._startIfPossible(),this},d.prototype.remove=function(a,b){return this._emitter.off(i,a,b),this._emitter.listeners(i,!0)||this._cancelIfNeeded(),this},d.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},d.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},d.prototype.update=function(a){var b;a=a||performance.now(),b=this.elapsedMS=a-this.lastTime,b>this._maxElapsedMS&&(b=this._maxElapsedMS),this.deltaTime=b*g.TARGET_FPMS*this.speed,this._emitter.emit(i,this.deltaTime),this.lastTime=a},c.exports=d,e.define=f,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/core/ticker/index",["npm:pixi.js@3.0.8/src/core/ticker/Ticker"],!0,function(a,b,c){var d=this,e=d.define;d.define=void 0;var f=a("npm:pixi.js@3.0.8/src/core/ticker/Ticker"),g=new f;return g.autoStart=!0,c.exports={shared:g,Ticker:f},d.define=e,c.exports}),System.registerDynamic("npm:process@0.11.2/browser",[],!0,function(a,b,c){function d(){m=!1,j.length?l=j.concat(l):n=-1,l.length&&e()}function e(){if(!m){var a=setTimeout(d);m=!0;for(var b=l.length;b;){for(j=l,l=[];++n<b;)j&&j[n].run();n=-1,b=l.length}j=null,m=!1,clearTimeout(a)}}function f(a,b){this.fun=a,this.array=b}function g(){}var h=this,i=h.define;h.define=void 0;var j,k=c.exports={},l=[],m=!1,n=-1;return k.nextTick=function(a){var b=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];l.push(new f(a,b)),1!==l.length||m||setTimeout(e,0)},f.prototype.run=function(){this.fun.apply(null,this.array)},k.title="browser",k.browser=!0,k.env={},k.argv=[],k.version="",k.versions={},k.on=g,k.addListener=g,k.once=g,k.off=g,k.removeListener=g,k.removeAllListeners=g,k.emit=g,k.binding=function(a){throw new Error("process.binding is not supported")},k.cwd=function(){return"/"},k.chdir=function(a){throw new Error("process.chdir is not supported")},k.umask=function(){return 0},h.define=i,c.exports}),System.registerDynamic("npm:process@0.11.2",["npm:process@0.11.2/browser"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,c.exports=a("npm:process@0.11.2/browser"),d.define=e,c.exports}),System.registerDynamic("github:jspm/nodelibs-process@0.1.2/index",["npm:process@0.11.2"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,c.exports=System._nodeRequire?process:a("npm:process@0.11.2"),d.define=e,c.exports}),System.registerDynamic("github:jspm/nodelibs-process@0.1.2",["github:jspm/nodelibs-process@0.1.2/index"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,c.exports=a("github:jspm/nodelibs-process@0.1.2/index"),d.define=e,c.exports}),System.registerDynamic("npm:async@1.5.0/lib/async",["github:jspm/nodelibs-process@0.1.2"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,function(a){!function(){function b(){}function e(a){return a}function f(a){return!!a}function g(a){return!a}function h(a){return function(){if(null===a)throw new Error("Callback was already called.");a.apply(this,arguments),a=null}}function i(a){return function(){null!==a&&(a.apply(this,arguments),a=null)}}function j(a){return N(a)||"number"==typeof a.length&&a.length>=0&&a.length%1===0}function k(a,b){for(var c=-1,d=a.length;++c<d;)b(a[c],c,a)}function l(a,b){for(var c=-1,d=a.length,e=Array(d);++c<d;)e[c]=b(a[c],c,a);return e}function m(a){return l(Array(a),function(a,b){return b})}function n(a,b,c){return k(a,function(a,d,e){c=b(c,a,d,e)}),c}function o(a,b){k(P(a),function(c){b(a[c],c)})}function p(a,b){for(var c=0;c<a.length;c++)if(a[c]===b)return c;return-1}function q(a){var b,c,d=-1;return j(a)?(b=a.length,function(){return d++,b>d?d:null}):(c=P(a),b=c.length,function(){return d++,b>d?c[d]:null})}function r(a,b){return b=null==b?a.length-1:+b,function(){for(var c=Math.max(arguments.length-b,0),d=Array(c),e=0;c>e;e++)d[e]=arguments[e+b];switch(b){case 0:return a.call(this,d);case 1:return a.call(this,arguments[0],d)}}}function s(a){return function(b,c,d){return a(b,d)}}function t(a){return function(c,d,e){e=i(e||b),c=c||[];var f=q(c);if(0>=a)return e(null);var g=!1,j=0,k=!1;!function l(){if(g&&0>=j)return e(null);for(;a>j&&!k;){var b=f();if(null===b)return g=!0,void(0>=j&&e(null));j+=1,d(c[b],b,h(function(a){j-=1,a?(e(a),k=!0):l()}))}}()}}function u(a){return function(b,c,d){return a(K.eachOf,b,c,d)}}function v(a){return function(b,c,d,e){return a(t(c),b,d,e)}}function w(a){return function(b,c,d){return a(K.eachOfSeries,b,c,d)}}function x(a,c,d,e){e=i(e||b),c=c||[];var f=j(c)?[]:{};a(c,function(a,b,c){d(a,function(a,d){f[b]=d,c(a)})},function(a){e(a,f)})}function y(a,b,c,d){var e=[];a(b,function(a,b,d){c(a,function(c){c&&e.push({index:b,value:a}),d()})},function(){d(l(e.sort(function(a,b){return a.index-b.index}),function(a){return a.value}))})}function z(a,b,c,d){y(a,b,function(a,b){c(a,function(a){b(!a)})},d)}function A(a,b,c){return function(d,e,f,g){function h(){g&&g(c(!1,void 0))}function i(a,d,e){return g?void f(a,function(d){g&&b(d)&&(g(c(!0,a)),g=f=!1),e()}):e()}arguments.length>3?a(d,e,i,h):(g=f,f=e,a(d,i,h))}}function B(a,b){return b}function C(a,c,d){d=d||b;var e=j(c)?[]:{};a(c,function(a,b,c){a(r(function(a,d){d.length<=1&&(d=d[0]),e[b]=d,c(a)}))},function(a){d(a,e)})}function D(a,b,c,d){var e=[];a(b,function(a,b,d){c(a,function(a,b){e=e.concat(b||[]),d(a)})},function(a){d(a,e)})}function E(a,c,d){function e(a,c,d,e){if(null!=e&&"function"!=typeof e)throw new Error("task callback must be a function");return a.started=!0,N(c)||(c=[c]),0===c.length&&a.idle()?K.setImmediate(function(){a.drain()}):(k(c,function(c){var f={data:c,callback:e||b};d?a.tasks.unshift(f):a.tasks.push(f),a.tasks.length===a.concurrency&&a.saturated()}),void K.setImmediate(a.process))}function f(a,b){return function(){g-=1;var c=!1,d=arguments;k(b,function(a){k(i,function(b,d){b!==a||c||(i.splice(d,1),c=!0)}),a.callback.apply(a,d)}),a.tasks.length+g===0&&a.drain(),a.process()}}if(null==c)c=1;else if(0===c)throw new Error("Concurrency must not be zero");var g=0,i=[],j={tasks:[],concurrency:c,payload:d,saturated:b,empty:b,drain:b,started:!1,paused:!1,push:function(a,b){e(j,a,!1,b)},kill:function(){j.drain=b,j.tasks=[]},unshift:function(a,b){e(j,a,!0,b)},process:function(){if(!j.paused&&g<j.concurrency&&j.tasks.length)for(;g<j.concurrency&&j.tasks.length;){var b=j.payload?j.tasks.splice(0,j.payload):j.tasks.splice(0,j.tasks.length),c=l(b,function(a){return a.data});0===j.tasks.length&&j.empty(),g+=1,i.push(b[0]);var d=h(f(j,b));a(c,d)}},length:function(){return j.tasks.length},running:function(){return g},workersList:function(){return i},idle:function(){return j.tasks.length+g===0},pause:function(){j.paused=!0},resume:function(){if(j.paused!==!1){j.paused=!1;for(var a=Math.min(j.concurrency,j.tasks.length),b=1;a>=b;b++)K.setImmediate(j.process)}}};return j}function F(a){return r(function(b,c){b.apply(null,c.concat([r(function(b,c){"object"==typeof console&&(b?console.error&&console.error(b):console[a]&&k(c,function(b){console[a](b)}))})]))})}function G(a){return function(b,c,d){a(m(b),c,d)}}function H(a){return r(function(b,c){var d=r(function(c){var d=this,e=c.pop();return a(b,function(a,b,e){a.apply(d,c.concat([e]))},e)});return c.length?d.apply(this,c):d})}function I(a){return r(function(b){var c=b.pop();b.push(function(){var a=arguments;d?K.setImmediate(function(){c.apply(null,a)}):c.apply(null,a)});var d=!0;a.apply(this,b),d=!1})}var J,K={},L="object"==typeof self&&self.self===self&&self||"object"==typeof d&&d.global===d&&d||this;null!=L&&(J=L.async),K.noConflict=function(){return L.async=J,K};var M=Object.prototype.toString,N=Array.isArray||function(a){return"[object Array]"===M.call(a)},O=function(a){var b=typeof a;return"function"===b||"object"===b&&!!a},P=Object.keys||function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b},Q="function"==typeof setImmediate&&setImmediate,R=Q?function(a){Q(a)}:function(a){setTimeout(a,0)};"object"==typeof a&&"function"==typeof a.nextTick?K.nextTick=a.nextTick:K.nextTick=R,K.setImmediate=Q?R:K.nextTick,K.forEach=K.each=function(a,b,c){return K.eachOf(a,s(b),c)},K.forEachSeries=K.eachSeries=function(a,b,c){return K.eachOfSeries(a,s(b),c)},K.forEachLimit=K.eachLimit=function(a,b,c,d){return t(b)(a,s(c),d)},K.forEachOf=K.eachOf=function(a,c,d){function e(a){j--,a?d(a):null===f&&0>=j&&d(null)}d=i(d||b),a=a||[];for(var f,g=q(a),j=0;null!=(f=g());)j+=1,c(a[f],f,h(e));0===j&&d(null)},K.forEachOfSeries=K.eachOfSeries=function(a,c,d){function e(){var b=!0;return null===g?d(null):(c(a[g],g,h(function(a){if(a)d(a);else{if(g=f(),null===g)return d(null);b?K.setImmediate(e):e()}})),void(b=!1))}d=i(d||b),a=a||[];var f=q(a),g=f();e()},K.forEachOfLimit=K.eachOfLimit=function(a,b,c,d){t(b)(a,c,d)},K.map=u(x),K.mapSeries=w(x),K.mapLimit=v(x),K.inject=K.foldl=K.reduce=function(a,b,c,d){K.eachOfSeries(a,function(a,d,e){c(b,a,function(a,c){b=c,e(a)})},function(a){d(a,b)})},K.foldr=K.reduceRight=function(a,b,c,d){var f=l(a,e).reverse();K.reduce(f,b,c,d)},K.transform=function(a,b,c,d){3===arguments.length&&(d=c,c=b,b=N(a)?[]:{}),K.eachOf(a,function(a,d,e){c(b,a,d,e)},function(a){d(a,b)})},K.select=K.filter=u(y),K.selectLimit=K.filterLimit=v(y),K.selectSeries=K.filterSeries=w(y),K.reject=u(z),K.rejectLimit=v(z),K.rejectSeries=w(z),K.any=K.some=A(K.eachOf,f,e),K.someLimit=A(K.eachOfLimit,f,e),K.all=K.every=A(K.eachOf,g,g),K.everyLimit=A(K.eachOfLimit,g,g),K.detect=A(K.eachOf,e,B),K.detectSeries=A(K.eachOfSeries,e,B),K.detectLimit=A(K.eachOfLimit,e,B),K.sortBy=function(a,b,c){function d(a,b){var c=a.criteria,d=b.criteria;return d>c?-1:c>d?1:0}K.map(a,function(a,c){b(a,function(b,d){b?c(b):c(null,{value:a,criteria:d})})},function(a,b){return a?c(a):void c(null,l(b.sort(d),function(a){return a.value}))})},K.auto=function(a,c,d){function e(a){q.unshift(a)}function f(a){var b=p(q,a);b>=0&&q.splice(b,1)}function g(){j--,k(q.slice(0),function(a){a()})}d||(d=c,c=null),d=i(d||b);var h=P(a),j=h.length;if(!j)return d(null);c||(c=j);var l={},m=0,q=[];e(function(){j||d(null,l)}),k(h,function(b){function h(){return c>m&&n(s,function(a,b){return a&&l.hasOwnProperty(b)},!0)&&!l.hasOwnProperty(b)}function i(){h()&&(m++,f(i),k[k.length-1](q,l))}for(var j,k=N(a[b])?a[b]:[a[b]],q=r(function(a,c){if(m--,c.length<=1&&(c=c[0]),a){var e={};o(l,function(a,b){e[b]=a}),e[b]=c,d(a,e)}else l[b]=c,K.setImmediate(g)}),s=k.slice(0,k.length-1),t=s.length;t--;){if(!(j=a[s[t]]))throw new Error("Has inexistant dependency");if(N(j)&&p(j,b)>=0)throw new Error("Has cyclic dependencies")}h()?(m++,k[k.length-1](q,l)):e(i)})},K.retry=function(a,b,c){function d(a,b){if("number"==typeof b)a.times=parseInt(b,10)||f;else{if("object"!=typeof b)throw new Error("Unsupported argument type for 'times': "+typeof b);a.times=parseInt(b.times,10)||f,a.interval=parseInt(b.interval,10)||g}}function e(a,b){function c(a,c){return function(d){a(function(a,b){d(!a||c,{err:a,result:b})},b)}}function d(a){return function(b){setTimeout(function(){b(null)},a)}}for(;i.times;){var e=!(i.times-=1);h.push(c(i.task,e)),!e&&i.interval>0&&h.push(d(i.interval))}K.series(h,function(b,c){c=c[c.length-1],(a||i.callback)(c.err,c.result)})}var f=5,g=0,h=[],i={times:f,interval:g},j=arguments.length;if(1>j||j>3)throw new Error("Invalid arguments - must be either (task), (task, callback), (times, task) or (times, task, callback)");return 2>=j&&"function"==typeof a&&(c=b,b=a),"function"!=typeof a&&d(i,a),i.callback=c,i.task=b,i.callback?e():e},K.waterfall=function(a,c){function d(a){return r(function(b,e){if(b)c.apply(null,[b].concat(e));else{var f=a.next();f?e.push(d(f)):e.push(c),I(a).apply(null,e)}})}if(c=i(c||b),!N(a)){var e=new Error("First argument to waterfall must be an array of functions");return c(e)}return a.length?void d(K.iterator(a))():c()},K.parallel=function(a,b){C(K.eachOf,a,b)},K.parallelLimit=function(a,b,c){C(t(b),a,c)},K.series=function(a,b){C(K.eachOfSeries,a,b)},K.iterator=function(a){function b(c){function d(){return a.length&&a[c].apply(null,arguments),d.next()}return d.next=function(){return c<a.length-1?b(c+1):null},d}return b(0)},K.apply=r(function(a,b){return r(function(c){return a.apply(null,b.concat(c))})}),K.concat=u(D),K.concatSeries=w(D),K.whilst=function(a,c,d){if(d=d||b,a()){var e=r(function(b,f){b?d(b):a.apply(this,f)?c(e):d(null)});c(e)}else d(null)},K.doWhilst=function(a,b,c){var d=0;return K.whilst(function(){return++d<=1||b.apply(this,arguments)},a,c)},K.until=function(a,b,c){return K.whilst(function(){return!a.apply(this,arguments)},b,c)},K.doUntil=function(a,b,c){return K.doWhilst(a,function(){return!b.apply(this,arguments)},c)},K.during=function(a,c,d){d=d||b;var e=r(function(b,c){b?d(b):(c.push(f),a.apply(this,c))}),f=function(a,b){a?d(a):b?c(e):d(null)};a(f)},K.doDuring=function(a,b,c){var d=0;K.during(function(a){d++<1?a(null,!0):b.apply(this,arguments)},a,c)},K.queue=function(a,b){var c=E(function(b,c){a(b[0],c)},b,1);return c},K.priorityQueue=function(a,c){function d(a,b){return a.priority-b.priority}function e(a,b,c){for(var d=-1,e=a.length-1;e>d;){var f=d+(e-d+1>>>1);c(b,a[f])>=0?d=f:e=f-1}return d}function f(a,c,f,g){if(null!=g&&"function"!=typeof g)throw new Error("task callback must be a function");return a.started=!0,N(c)||(c=[c]),0===c.length?K.setImmediate(function(){a.drain()}):void k(c,function(c){var h={data:c,priority:f,callback:"function"==typeof g?g:b};a.tasks.splice(e(a.tasks,h,d)+1,0,h),a.tasks.length===a.concurrency&&a.saturated(),K.setImmediate(a.process)})}var g=K.queue(a,c);return g.push=function(a,b,c){f(g,a,b,c)},delete g.unshift,g},K.cargo=function(a,b){return E(a,1,b)},K.log=F("log"),K.dir=F("dir"),K.memoize=function(a,b){var c={},d={};b=b||e;var f=r(function(e){var f=e.pop(),g=b.apply(null,e);g in c?K.setImmediate(function(){f.apply(null,c[g])}):g in d?d[g].push(f):(d[g]=[f],a.apply(null,e.concat([r(function(a){c[g]=a;var b=d[g];delete d[g];for(var e=0,f=b.length;f>e;e++)b[e].apply(null,a)})])))});return f.memo=c,f.unmemoized=a,f},K.unmemoize=function(a){return function(){return(a.unmemoized||a).apply(null,arguments)}},K.times=G(K.map),K.timesSeries=G(K.mapSeries),K.timesLimit=function(a,b,c,d){return K.mapLimit(m(a),b,c,d)},K.seq=function(){var a=arguments;return r(function(c){var d=this,e=c[c.length-1];"function"==typeof e?c.pop():e=b,K.reduce(a,c,function(a,b,c){b.apply(d,a.concat([r(function(a,b){c(a,b)})]))},function(a,b){e.apply(d,[a].concat(b))})})},K.compose=function(){return K.seq.apply(null,Array.prototype.reverse.call(arguments))},K.applyEach=H(K.eachOf),K.applyEachSeries=H(K.eachOfSeries),K.forever=function(a,c){function d(a){return a?e(a):void f(d)}var e=h(c||b),f=I(a);d()},K.ensureAsync=I,K.constant=r(function(a){var b=[null].concat(a);return function(a){return a.apply(this,b)}}),K.wrapSync=K.asyncify=function(a){return r(function(b){var c,d=b.pop();try{c=a.apply(this,b)}catch(e){return d(e)}O(c)&&"function"==typeof c.then?c.then(function(a){d(null,a)})["catch"](function(a){d(a.message?a:new Error(a))}):d(null,c)})},"object"==typeof c&&c.exports?c.exports=K:"function"==typeof define&&define.amd?define([],function(){return K}):L.async=K}()}(a("github:jspm/nodelibs-process@0.1.2")),d.define=e,c.exports}),System.registerDynamic("npm:async@1.5.0",["npm:async@1.5.0/lib/async"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,c.exports=a("npm:async@1.5.0/lib/async"),d.define=e,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/core/utils/pluginTarget",[],!0,function(a,b,c){function d(a){a.__plugins={},a.registerPlugin=function(b,c){a.__plugins[b]=c},a.prototype.initPlugins=function(){this.plugins=this.plugins||{};for(var b in a.__plugins)this.plugins[b]=new a.__plugins[b](this)},a.prototype.destroyPlugins=function(){for(var a in this.plugins)this.plugins[a].destroy(),this.plugins[a]=null;this.plugins=null}}var e=this,f=e.define;return e.define=void 0,c.exports={mixin:function(a){d(a)}},e.define=f,c.exports}),System.registerDynamic("npm:eventemitter3@1.1.1/index",[],!0,function(a,b,c){function d(a,b,c){this.fn=a,this.context=b,this.once=c||!1}function e(){}var f=this,g=f.define;f.define=void 0;var h="function"!=typeof Object.create?"~":!1;return e.prototype._events=void 0,e.prototype.listeners=function(a,b){var c=h?h+a:a,d=this._events&&this._events[c];if(b)return!!d;if(!d)return[];if(d.fn)return[d.fn];for(var e=0,f=d.length,g=new Array(f);f>e;e++)g[e]=d[e].fn;return g},e.prototype.emit=function(a,b,c,d,e,f){var g=h?h+a:a;if(!this._events||!this._events[g])return!1;var i,j,k=this._events[g],l=arguments.length;if("function"==typeof k.fn){switch(k.once&&this.removeListener(a,k.fn,void 0,!0),l){case 1:return k.fn.call(k.context),!0;case 2:return k.fn.call(k.context,b),!0;case 3:return k.fn.call(k.context,b,c),!0;case 4:return k.fn.call(k.context,b,c,d),!0;case 5:return k.fn.call(k.context,b,c,d,e),!0;case 6:return k.fn.call(k.context,b,c,d,e,f),!0}for(j=1,i=new Array(l-1);l>j;j++)i[j-1]=arguments[j];k.fn.apply(k.context,i)}else{var m,n=k.length;for(j=0;n>j;j++)switch(k[j].once&&this.removeListener(a,k[j].fn,void 0,!0),l){case 1:k[j].fn.call(k[j].context);break;case 2:k[j].fn.call(k[j].context,b);break;case 3:k[j].fn.call(k[j].context,b,c);break;default:if(!i)for(m=1,i=new Array(l-1);l>m;m++)i[m-1]=arguments[m];k[j].fn.apply(k[j].context,i)}}return!0},e.prototype.on=function(a,b,c){var e=new d(b,c||this),f=h?h+a:a;return this._events||(this._events=h?{}:Object.create(null)),this._events[f]?this._events[f].fn?this._events[f]=[this._events[f],e]:this._events[f].push(e):this._events[f]=e,this},e.prototype.once=function(a,b,c){var e=new d(b,c||this,!0),f=h?h+a:a;return this._events||(this._events=h?{}:Object.create(null)),this._events[f]?this._events[f].fn?this._events[f]=[this._events[f],e]:this._events[f].push(e):this._events[f]=e,this},e.prototype.removeListener=function(a,b,c,d){var e=h?h+a:a;if(!this._events||!this._events[e])return this;var f=this._events[e],g=[];if(b)if(f.fn)(f.fn!==b||d&&!f.once||c&&f.context!==c)&&g.push(f);else for(var i=0,j=f.length;j>i;i++)(f[i].fn!==b||d&&!f[i].once||c&&f[i].context!==c)&&g.push(f[i]);return g.length?this._events[e]=1===g.length?g[0]:g:delete this._events[e],this},e.prototype.removeAllListeners=function(a){return this._events?(a?delete this._events[h?h+a:a]:this._events=h?{}:Object.create(null),this):this},e.prototype.off=e.prototype.removeListener,e.prototype.addListener=e.prototype.on,e.prototype.setMaxListeners=function(){return this},e.prefixed=h,"undefined"!=typeof c&&(c.exports=e),f.define=g,c.exports}),System.registerDynamic("npm:eventemitter3@1.1.1",["npm:eventemitter3@1.1.1/index"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,c.exports=a("npm:eventemitter3@1.1.1/index"),d.define=e,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/core/utils/index",["npm:pixi.js@3.0.8/src/core/const","npm:eventemitter3@1.1.1","npm:pixi.js@3.0.8/src/core/utils/pluginTarget","npm:async@1.5.0"],!0,function(a,b,c){var d=this,e=d.define;d.define=void 0;var f=a("npm:pixi.js@3.0.8/src/core/const"),g=c.exports={_uid:0,_saidHello:!1,EventEmitter:a("npm:eventemitter3@1.1.1"),pluginTarget:a("npm:pixi.js@3.0.8/src/core/utils/pluginTarget"),async:a("npm:async@1.5.0"),uid:function(){return++g._uid},hex2rgb:function(a,b){return b=b||[],b[0]=(a>>16&255)/255,b[1]=(a>>8&255)/255,b[2]=(255&a)/255,b},hex2string:function(a){return a=a.toString(16),a="000000".substr(0,6-a.length)+a,"#"+a},rgb2hex:function(a){return(255*a[0]<<16)+(255*a[1]<<8)+255*a[2]},canUseNewCanvasBlendModes:function(){if("undefined"==typeof document)return!1;var a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",b="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",c=new Image;c.src=a+"AP804Oa6"+b;var d=new Image;d.src=a+"/wCKxvRF"+b;var e=document.createElement("canvas");e.width=6,e.height=1;var f=e.getContext("2d");f.globalCompositeOperation="multiply",f.drawImage(c,0,0),f.drawImage(d,2,0);var g=f.getImageData(2,0,1,1).data;return 255===g[0]&&0===g[1]&&0===g[2]},getNextPowerOfTwo:function(a){if(a>0&&0===(a&a-1))return a;for(var b=1;a>b;)b<<=1;return b},isPowerOfTwo:function(a,b){return a>0&&0===(a&a-1)&&b>0&&0===(b&b-1)},getResolutionOfUrl:function(a){var b=f.RETINA_PREFIX.exec(a);return b?parseFloat(b[1]):1},sayHello:function(a){if(!g._saidHello){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var b=["\n %c %c %c Pixi.js "+f.VERSION+" -  "+a+"   %c  %c  http://www.pixijs.com/  %c %c %c%c \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];
window.console.log.apply(console,b)}else window.console&&window.console.log("Pixi.js "+f.VERSION+" - "+a+" - http://www.pixijs.com/");g._saidHello=!0}},isWebGLSupported:function(){var a={stencil:!0};try{if(!window.WebGLRenderingContext)return!1;var b=document.createElement("canvas"),c=b.getContext("webgl",a)||b.getContext("experimental-webgl",a);return!(!c||!c.getContextAttributes().stencil)}catch(d){return!1}},sign:function(a){return a?0>a?-1:1:0},TextureCache:{},BaseTextureCache:{}};return d.define=e,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/core/math/shapes/RoundedRectangle",["npm:pixi.js@3.0.8/src/core/const"],!0,function(a,b,c){function d(a,b,c,d,e){this.x=a||0,this.y=b||0,this.width=c||0,this.height=d||0,this.radius=e||20,this.type=g.SHAPES.RREC}var e=this,f=e.define;e.define=void 0;var g=a("npm:pixi.js@3.0.8/src/core/const");return d.prototype.constructor=d,c.exports=d,d.prototype.clone=function(){return new d(this.x,this.y,this.width,this.height,this.radius)},d.prototype.contains=function(a,b){return this.width<=0||this.height<=0?!1:a>=this.x&&a<=this.x+this.width&&b>=this.y&&b<=this.y+this.height?!0:!1},e.define=f,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/core/math/shapes/Polygon",["npm:pixi.js@3.0.8/src/core/math/Point","npm:pixi.js@3.0.8/src/core/const"],!0,function(a,b,c){function d(a){var b=a;if(!Array.isArray(b)){b=new Array(arguments.length);for(var c=0;c<b.length;++c)b[c]=arguments[c]}if(b[0]instanceof g){for(var d=[],e=0,f=b.length;f>e;e++)d.push(b[e].x,b[e].y);b=d}this.closed=!0,this.points=b,this.type=h.SHAPES.POLY}var e=this,f=e.define;e.define=void 0;var g=a("npm:pixi.js@3.0.8/src/core/math/Point"),h=a("npm:pixi.js@3.0.8/src/core/const");return d.prototype.constructor=d,c.exports=d,d.prototype.clone=function(){return new d(this.points.slice())},d.prototype.contains=function(a,b){for(var c=!1,d=this.points.length/2,e=0,f=d-1;d>e;f=e++){var g=this.points[2*e],h=this.points[2*e+1],i=this.points[2*f],j=this.points[2*f+1],k=h>b!=j>b&&(i-g)*(b-h)/(j-h)+g>a;k&&(c=!c)}return c},e.define=f,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/core/math/shapes/Ellipse",["npm:pixi.js@3.0.8/src/core/math/shapes/Rectangle","npm:pixi.js@3.0.8/src/core/const"],!0,function(a,b,c){function d(a,b,c,d){this.x=a||0,this.y=b||0,this.width=c||0,this.height=d||0,this.type=h.SHAPES.ELIP}var e=this,f=e.define;e.define=void 0;var g=a("npm:pixi.js@3.0.8/src/core/math/shapes/Rectangle"),h=a("npm:pixi.js@3.0.8/src/core/const");return d.prototype.constructor=d,c.exports=d,d.prototype.clone=function(){return new d(this.x,this.y,this.width,this.height)},d.prototype.contains=function(a,b){if(this.width<=0||this.height<=0)return!1;var c=(a-this.x)/this.width,d=(b-this.y)/this.height;return c*=c,d*=d,1>=c+d},d.prototype.getBounds=function(){return new g(this.x-this.width,this.y-this.height,this.width,this.height)},e.define=f,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/core/math/shapes/Rectangle",["npm:pixi.js@3.0.8/src/core/const"],!0,function(a,b,c){function d(a,b,c,d){this.x=a||0,this.y=b||0,this.width=c||0,this.height=d||0,this.type=g.SHAPES.RECT}var e=this,f=e.define;e.define=void 0;var g=a("npm:pixi.js@3.0.8/src/core/const");return d.prototype.constructor=d,c.exports=d,d.EMPTY=new d(0,0,0,0),d.prototype.clone=function(){return new d(this.x,this.y,this.width,this.height)},d.prototype.contains=function(a,b){return this.width<=0||this.height<=0?!1:a>=this.x&&a<this.x+this.width&&b>=this.y&&b<this.y+this.height?!0:!1},e.define=f,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/core/math/shapes/Circle",["npm:pixi.js@3.0.8/src/core/math/shapes/Rectangle","npm:pixi.js@3.0.8/src/core/const"],!0,function(a,b,c){function d(a,b,c){this.x=a||0,this.y=b||0,this.radius=c||0,this.type=h.SHAPES.CIRC}var e=this,f=e.define;e.define=void 0;var g=a("npm:pixi.js@3.0.8/src/core/math/shapes/Rectangle"),h=a("npm:pixi.js@3.0.8/src/core/const");return d.prototype.constructor=d,c.exports=d,d.prototype.clone=function(){return new d(this.x,this.y,this.radius)},d.prototype.contains=function(a,b){if(this.radius<=0)return!1;var c=this.x-a,d=this.y-b,e=this.radius*this.radius;return c*=c,d*=d,e>=c+d},d.prototype.getBounds=function(){return new g(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},e.define=f,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/core/math/Matrix",["npm:pixi.js@3.0.8/src/core/math/Point"],!0,function(a,b,c){function d(){this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0}var e=this,f=e.define;e.define=void 0;var g=a("npm:pixi.js@3.0.8/src/core/math/Point");return d.prototype.constructor=d,c.exports=d,d.prototype.fromArray=function(a){this.a=a[0],this.b=a[1],this.c=a[3],this.d=a[4],this.tx=a[2],this.ty=a[5]},d.prototype.toArray=function(a,b){this.array||(this.array=new Float32Array(9));var c=b||this.array;return a?(c[0]=this.a,c[1]=this.b,c[2]=0,c[3]=this.c,c[4]=this.d,c[5]=0,c[6]=this.tx,c[7]=this.ty,c[8]=1):(c[0]=this.a,c[1]=this.c,c[2]=this.tx,c[3]=this.b,c[4]=this.d,c[5]=this.ty,c[6]=0,c[7]=0,c[8]=1),c},d.prototype.apply=function(a,b){b=b||new g;var c=a.x,d=a.y;return b.x=this.a*c+this.c*d+this.tx,b.y=this.b*c+this.d*d+this.ty,b},d.prototype.applyInverse=function(a,b){b=b||new g;var c=1/(this.a*this.d+this.c*-this.b),d=a.x,e=a.y;return b.x=this.d*c*d+-this.c*c*e+(this.ty*this.c-this.tx*this.d)*c,b.y=this.a*c*e+-this.b*c*d+(-this.ty*this.a+this.tx*this.b)*c,b},d.prototype.translate=function(a,b){return this.tx+=a,this.ty+=b,this},d.prototype.scale=function(a,b){return this.a*=a,this.d*=b,this.c*=a,this.b*=b,this.tx*=a,this.ty*=b,this},d.prototype.rotate=function(a){var b=Math.cos(a),c=Math.sin(a),d=this.a,e=this.c,f=this.tx;return this.a=d*b-this.b*c,this.b=d*c+this.b*b,this.c=e*b-this.d*c,this.d=e*c+this.d*b,this.tx=f*b-this.ty*c,this.ty=f*c+this.ty*b,this},d.prototype.append=function(a){var b=this.a,c=this.b,d=this.c,e=this.d;return this.a=a.a*b+a.b*d,this.b=a.a*c+a.b*e,this.c=a.c*b+a.d*d,this.d=a.c*c+a.d*e,this.tx=a.tx*b+a.ty*d+this.tx,this.ty=a.tx*c+a.ty*e+this.ty,this},d.prototype.prepend=function(a){var b=this.tx;if(1!==a.a||0!==a.b||0!==a.c||1!==a.d){var c=this.a,d=this.c;this.a=c*a.a+this.b*a.c,this.b=c*a.b+this.b*a.d,this.c=d*a.a+this.d*a.c,this.d=d*a.b+this.d*a.d}return this.tx=b*a.a+this.ty*a.c+a.tx,this.ty=b*a.b+this.ty*a.d+a.ty,this},d.prototype.invert=function(){var a=this.a,b=this.b,c=this.c,d=this.d,e=this.tx,f=a*d-b*c;return this.a=d/f,this.b=-b/f,this.c=-c/f,this.d=a/f,this.tx=(c*this.ty-d*e)/f,this.ty=-(a*this.ty-b*e)/f,this},d.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},d.prototype.clone=function(){var a=new d;return a.a=this.a,a.b=this.b,a.c=this.c,a.d=this.d,a.tx=this.tx,a.ty=this.ty,a},d.prototype.copy=function(a){return a.a=this.a,a.b=this.b,a.c=this.c,a.d=this.d,a.tx=this.tx,a.ty=this.ty,a},d.IDENTITY=new d,d.TEMP_MATRIX=new d,e.define=f,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/core/math/Point",[],!0,function(a,b,c){function d(a,b){this.x=a||0,this.y=b||0}var e=this,f=e.define;return e.define=void 0,d.prototype.constructor=d,c.exports=d,d.prototype.clone=function(){return new d(this.x,this.y)},d.prototype.copy=function(a){this.set(a.x,a.y)},d.prototype.equals=function(a){return a.x===this.x&&a.y===this.y},d.prototype.set=function(a,b){this.x=a||0,this.y=b||(0!==b?this.x:0)},e.define=f,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/core/math/index",["npm:pixi.js@3.0.8/src/core/math/Point","npm:pixi.js@3.0.8/src/core/math/Matrix","npm:pixi.js@3.0.8/src/core/math/shapes/Circle","npm:pixi.js@3.0.8/src/core/math/shapes/Ellipse","npm:pixi.js@3.0.8/src/core/math/shapes/Polygon","npm:pixi.js@3.0.8/src/core/math/shapes/Rectangle","npm:pixi.js@3.0.8/src/core/math/shapes/RoundedRectangle"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,c.exports={Point:a("npm:pixi.js@3.0.8/src/core/math/Point"),Matrix:a("npm:pixi.js@3.0.8/src/core/math/Matrix"),Circle:a("npm:pixi.js@3.0.8/src/core/math/shapes/Circle"),Ellipse:a("npm:pixi.js@3.0.8/src/core/math/shapes/Ellipse"),Polygon:a("npm:pixi.js@3.0.8/src/core/math/shapes/Polygon"),Rectangle:a("npm:pixi.js@3.0.8/src/core/math/shapes/Rectangle"),RoundedRectangle:a("npm:pixi.js@3.0.8/src/core/math/shapes/RoundedRectangle")},d.define=e,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/package.json!github:systemjs/plugin-json@0.1.0",[],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,c.exports={name:"pixi.js",version:"3.0.8",description:"Pixi.js is a fast lightweight 2D library that works across all devices.",author:"Mat Groves",contributors:["Chad Engler <chad@pantherdev.com>","Richard Davey <rdavey@gmail.com>"],main:"./src/index.js",homepage:"http://goodboydigital.com/",bugs:"https://github.com/pixijs/pixi.js/issues",license:"MIT",repository:{type:"git",url:"https://github.com/pixijs/pixi.js.git"},scripts:{start:"gulp && gulp watch",test:"gulp && testem ci",build:"gulp",docs:"jsdoc -c ./gulp/util/jsdoc.conf.json -R README.md"},files:["bin/","src/","CONTRIBUTING.md","LICENSE","package.json","README.md"],dependencies:{async:"^1.4.2",brfs:"^1.4.1",earcut:"^2.0.2",eventemitter3:"^1.1.1","gulp-header":"^1.7.1","object-assign":"^4.0.1","resource-loader":"^1.6.2"},devDependencies:{browserify:"^11.1.0",chai:"^3.2.0",del:"^2.0.2",gulp:"^3.9.0","gulp-cached":"^1.1.0","gulp-concat":"^2.6.0","gulp-debug":"^2.1.0","gulp-jshint":"^1.11.2","gulp-mirror":"^0.4.0","gulp-plumber":"^1.0.1","gulp-rename":"^1.2.2","gulp-sourcemaps":"^1.5.2","gulp-uglify":"^1.4.1","gulp-util":"^3.0.6","jaguarjs-jsdoc":"git+https://github.com/davidshimjs/jaguarjs-jsdoc.git",jsdoc:"^3.3.2","jshint-summary":"^0.4.0",minimist:"^1.2.0",mocha:"^2.3.2","require-dir":"^0.3.0","run-sequence":"^1.1.2",testem:"^0.9.4","vinyl-buffer":"^1.0.0","vinyl-source-stream":"^1.1.0",watchify:"^3.4.0"},browserify:{transform:["brfs"]}},d.define=e,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/core/const",["npm:pixi.js@3.0.8/package.json!github:systemjs/plugin-json@0.1.0"],!0,function(a,b,c){var d=this,e=d.define;d.define=void 0;var f={VERSION:a("npm:pixi.js@3.0.8/package.json!github:systemjs/plugin-json@0.1.0").version,PI_2:2*Math.PI,RAD_TO_DEG:180/Math.PI,DEG_TO_RAD:Math.PI/180,TARGET_FPMS:.06,RENDERER_TYPE:{UNKNOWN:0,WEBGL:1,CANVAS:2},BLEND_MODES:{NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16},DRAW_MODES:{POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},SCALE_MODES:{DEFAULT:0,LINEAR:0,NEAREST:1},RETINA_PREFIX:/@(.+)x/,RESOLUTION:1,FILTER_RESOLUTION:1,DEFAULT_RENDER_OPTIONS:{view:null,resolution:1,antialias:!1,forceFXAA:!1,autoResize:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,roundPixels:!1},SHAPES:{POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4},SPRITE_BATCH_SIZE:2e3};return c.exports=f,d.define=e,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/core/index",["npm:pixi.js@3.0.8/src/core/const","npm:pixi.js@3.0.8/src/core/math/index","npm:pixi.js@3.0.8/src/core/utils/index","npm:pixi.js@3.0.8/src/core/ticker/index","npm:pixi.js@3.0.8/src/core/display/DisplayObject","npm:pixi.js@3.0.8/src/core/display/Container","npm:pixi.js@3.0.8/src/core/sprites/Sprite","npm:pixi.js@3.0.8/src/core/particles/ParticleContainer","npm:pixi.js@3.0.8/src/core/sprites/webgl/SpriteRenderer","npm:pixi.js@3.0.8/src/core/particles/webgl/ParticleRenderer","npm:pixi.js@3.0.8/src/core/text/Text","npm:pixi.js@3.0.8/src/core/graphics/Graphics","npm:pixi.js@3.0.8/src/core/graphics/GraphicsData","npm:pixi.js@3.0.8/src/core/graphics/webgl/GraphicsRenderer","npm:pixi.js@3.0.8/src/core/textures/Texture","npm:pixi.js@3.0.8/src/core/textures/BaseTexture","npm:pixi.js@3.0.8/src/core/textures/RenderTexture","npm:pixi.js@3.0.8/src/core/textures/VideoBaseTexture","npm:pixi.js@3.0.8/src/core/textures/TextureUvs","npm:pixi.js@3.0.8/src/core/renderers/canvas/CanvasRenderer","npm:pixi.js@3.0.8/src/core/renderers/canvas/utils/CanvasGraphics","npm:pixi.js@3.0.8/src/core/renderers/canvas/utils/CanvasBuffer","npm:pixi.js@3.0.8/src/core/renderers/webgl/WebGLRenderer","npm:pixi.js@3.0.8/src/core/renderers/webgl/managers/ShaderManager","npm:pixi.js@3.0.8/src/core/renderers/webgl/shaders/Shader","npm:pixi.js@3.0.8/src/core/renderers/webgl/utils/ObjectRenderer","npm:pixi.js@3.0.8/src/core/renderers/webgl/utils/RenderTarget","npm:pixi.js@3.0.8/src/core/renderers/webgl/filters/AbstractFilter","npm:pixi.js@3.0.8/src/core/renderers/webgl/filters/FXAAFilter","npm:pixi.js@3.0.8/src/core/renderers/webgl/filters/SpriteMaskFilter"],!0,function(a,b,c){var d=this,e=d.define;d.define=void 0;var f=c.exports=Object.assign(a("npm:pixi.js@3.0.8/src/core/const"),a("npm:pixi.js@3.0.8/src/core/math/index"),{utils:a("npm:pixi.js@3.0.8/src/core/utils/index"),ticker:a("npm:pixi.js@3.0.8/src/core/ticker/index"),DisplayObject:a("npm:pixi.js@3.0.8/src/core/display/DisplayObject"),Container:a("npm:pixi.js@3.0.8/src/core/display/Container"),Sprite:a("npm:pixi.js@3.0.8/src/core/sprites/Sprite"),ParticleContainer:a("npm:pixi.js@3.0.8/src/core/particles/ParticleContainer"),SpriteRenderer:a("npm:pixi.js@3.0.8/src/core/sprites/webgl/SpriteRenderer"),ParticleRenderer:a("npm:pixi.js@3.0.8/src/core/particles/webgl/ParticleRenderer"),Text:a("npm:pixi.js@3.0.8/src/core/text/Text"),Graphics:a("npm:pixi.js@3.0.8/src/core/graphics/Graphics"),GraphicsData:a("npm:pixi.js@3.0.8/src/core/graphics/GraphicsData"),GraphicsRenderer:a("npm:pixi.js@3.0.8/src/core/graphics/webgl/GraphicsRenderer"),Texture:a("npm:pixi.js@3.0.8/src/core/textures/Texture"),BaseTexture:a("npm:pixi.js@3.0.8/src/core/textures/BaseTexture"),RenderTexture:a("npm:pixi.js@3.0.8/src/core/textures/RenderTexture"),VideoBaseTexture:a("npm:pixi.js@3.0.8/src/core/textures/VideoBaseTexture"),TextureUvs:a("npm:pixi.js@3.0.8/src/core/textures/TextureUvs"),CanvasRenderer:a("npm:pixi.js@3.0.8/src/core/renderers/canvas/CanvasRenderer"),CanvasGraphics:a("npm:pixi.js@3.0.8/src/core/renderers/canvas/utils/CanvasGraphics"),CanvasBuffer:a("npm:pixi.js@3.0.8/src/core/renderers/canvas/utils/CanvasBuffer"),WebGLRenderer:a("npm:pixi.js@3.0.8/src/core/renderers/webgl/WebGLRenderer"),ShaderManager:a("npm:pixi.js@3.0.8/src/core/renderers/webgl/managers/ShaderManager"),Shader:a("npm:pixi.js@3.0.8/src/core/renderers/webgl/shaders/Shader"),ObjectRenderer:a("npm:pixi.js@3.0.8/src/core/renderers/webgl/utils/ObjectRenderer"),RenderTarget:a("npm:pixi.js@3.0.8/src/core/renderers/webgl/utils/RenderTarget"),AbstractFilter:a("npm:pixi.js@3.0.8/src/core/renderers/webgl/filters/AbstractFilter"),FXAAFilter:a("npm:pixi.js@3.0.8/src/core/renderers/webgl/filters/FXAAFilter"),SpriteMaskFilter:a("npm:pixi.js@3.0.8/src/core/renderers/webgl/filters/SpriteMaskFilter"),autoDetectRenderer:function(a,b,c,d){return a=a||800,b=b||600,!d&&f.utils.isWebGLSupported()?new f.WebGLRenderer(a,b,c):new f.CanvasRenderer(a,b,c)}});return d.define=e,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/polyfill/Math.sign",[],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,Math.sign||(Math.sign=function(a){return a=+a,0===a||isNaN(a)?a:a>0?1:-1}),d.define=e,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/polyfill/requestAnimationFrame",[],!0,function(a,b,c){var d=this,e=d.define;if(d.define=void 0,Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!d.performance||!d.performance.now){var f=Date.now();d.performance||(d.performance={}),d.performance.now=function(){return Date.now()-f}}for(var g=Date.now(),h=["ms","moz","webkit","o"],i=0;i<h.length&&!d.requestAnimationFrame;++i)d.requestAnimationFrame=d[h[i]+"RequestAnimationFrame"],d.cancelAnimationFrame=d[h[i]+"CancelAnimationFrame"]||d[h[i]+"CancelRequestAnimationFrame"];return d.requestAnimationFrame||(d.requestAnimationFrame=function(a){if("function"!=typeof a)throw new TypeError(a+"is not a function");var b=Date.now(),c=16+g-b;return 0>c&&(c=0),g=b,setTimeout(function(){g=Date.now(),a(performance.now())},c)}),d.cancelAnimationFrame||(d.cancelAnimationFrame=function(a){clearTimeout(a)}),d.define=e,c.exports}),System.registerDynamic("npm:object-assign@4.0.1/index",[],!0,function(a,b,c){function d(a){if(null===a||void 0===a)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(a)}var e=this,f=e.define;e.define=void 0;var g=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable;return c.exports=Object.assign||function(a,b){for(var c,e,f=d(a),i=1;i<arguments.length;i++){c=Object(arguments[i]);for(var j in c)g.call(c,j)&&(f[j]=c[j]);if(Object.getOwnPropertySymbols){e=Object.getOwnPropertySymbols(c);for(var k=0;k<e.length;k++)h.call(c,e[k])&&(f[e[k]]=c[e[k]])}}return f},e.define=f,c.exports}),System.registerDynamic("npm:object-assign@4.0.1",["npm:object-assign@4.0.1/index"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,c.exports=a("npm:object-assign@4.0.1/index"),d.define=e,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/polyfill/Object.assign",["npm:object-assign@4.0.1"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,Object.assign||(Object.assign=a("npm:object-assign@4.0.1")),d.define=e,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/polyfill/index",["npm:pixi.js@3.0.8/src/polyfill/Object.assign","npm:pixi.js@3.0.8/src/polyfill/requestAnimationFrame","npm:pixi.js@3.0.8/src/polyfill/Math.sign"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,a("npm:pixi.js@3.0.8/src/polyfill/Object.assign"),a("npm:pixi.js@3.0.8/src/polyfill/requestAnimationFrame"),a("npm:pixi.js@3.0.8/src/polyfill/Math.sign"),d.define=e,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8/src/index",["npm:pixi.js@3.0.8/src/polyfill/index","npm:pixi.js@3.0.8/src/core/index","npm:pixi.js@3.0.8/src/extras/index","npm:pixi.js@3.0.8/src/filters/index","npm:pixi.js@3.0.8/src/interaction/index","npm:pixi.js@3.0.8/src/loaders/index","npm:pixi.js@3.0.8/src/mesh/index","npm:pixi.js@3.0.8/src/deprecation"],!0,function(a,b,c){var d=this,e=d.define;d.define=void 0,a("npm:pixi.js@3.0.8/src/polyfill/index");var f=c.exports=a("npm:pixi.js@3.0.8/src/core/index");return f.extras=a("npm:pixi.js@3.0.8/src/extras/index"),f.filters=a("npm:pixi.js@3.0.8/src/filters/index"),f.interaction=a("npm:pixi.js@3.0.8/src/interaction/index"),f.loaders=a("npm:pixi.js@3.0.8/src/loaders/index"),f.mesh=a("npm:pixi.js@3.0.8/src/mesh/index"),f.loader=new f.loaders.Loader,Object.assign(f,a("npm:pixi.js@3.0.8/src/deprecation")),d.PIXI=f,d.define=e,c.exports}),System.registerDynamic("npm:pixi.js@3.0.8",["npm:pixi.js@3.0.8/src/index"],!0,function(a,b,c){var d=this,e=d.define;return d.define=void 0,c.exports=a("npm:pixi.js@3.0.8/src/index"),d.define=e,c.exports}),System.register("app/boot.ts",["npm:pixi.js@3.0.8","app/ease.ts","app/pixel-ratio.ts"],function(a){function b(){var a=(+new Date-t)%u/u;m.forEach(function(b){return b.update(a)}),r.render(j),requestAnimationFrame(b)}var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u;return{setters:[function(a){c=a},function(a){d=a},function(a){e=a}],execute:function(){for(f=130,g=100,h=10,i=10,j=new c.Container,k=["Quadratic","Cubic","Quartic","Quintic","Sinusoidal","Exponential","Circular","Elastic","Back","Bounce"],l=["In","InOut","Out"],m=[],n=-1,o=k.length;++n<o;)for(var a=k[n],v=n%2?4:1,w=n%2,x=Math.floor(n/2)+1,y=-1,z=l.length;++y<z;){var A=l[y],B=new d.Ease(e.r(f),e.r(g),a,A);B.x=e.r(h,v+y+w)+e.r(f,v+y-1),B.y=e.r(i,x)+e.r(g,x-1),j.addChild(B),m.push(B)}p=6*f+8*h,q=5*g+7*i,j.addChildAt((new c.Graphics).beginFill(15658734).drawRect(0,0,e.r(p),e.r(q)),0),console.log(window.devicePixelRatio),r=window.devicePixelRatio>1?c.autoDetectRenderer(e.r(p),e.r(q),{antialias:!0,resolution:e.r(1)}):new c.CanvasRenderer(e.r(p),e.r(q),{antialias:!0,resolution:e.r(1)}),s=r.view,s.style.width=p+"px",s.style.height=q+"px",document.body.appendChild(s),t=+new Date,u=2e3,b()}}});
//# sourceMappingURL=app.js.map